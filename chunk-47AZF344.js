import{a as $,b as L}from"./chunk-GO72UHXU.js";import{a as Ae}from"./chunk-34JUEJJQ.js";import"./chunk-FK6H3RFT.js";import{c as ve,d as Se,e as ye,f as Ce,g as Ee,h as we,i as De,k as Fe,l as Pe,m as Te,n as ke,o as Me,p as Re,r as Ie}from"./chunk-V4S5BHXF.js";import{a as je}from"./chunk-IY34DK4E.js";import{Ab as M,Bb as R,Bc as Ve,Ca as a,Cb as ne,Fb as re,Ha as ee,Ib as Q,Kb as b,Lb as W,Ma as Y,Mb as E,Ob as ae,Qa as v,Rb as se,Xa as d,Za as te,_a as oe,aa as g,ba as f,db as o,eb as i,fb as w,gb as K,gc as le,hb as H,hc as de,ic as ce,jb as F,jc as me,kb as S,kc as pe,lb as m,lc as ue,oc as ge,qc as fe,rc as xe,tc as he,ub as ie,uc as _e,vb as n,wb as p,xb as P,zb as k,zc as be}from"./chunk-YGAPY4LI.js";import"./chunk-LMZWYZYD.js";import{a as U,b as q,h as Ne,j}from"./chunk-K4ALXBGI.js";var X=class r{mensaje="Cargando...";static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Y({type:r,selectors:[["app-loader"]],inputs:{mensaje:"mensaje"},decls:9,vars:1,consts:[[1,"flex","flex-col","items-center","justify-center","h-[500px]","text-center","py-10"],[1,"loading"],[1,"text-lg","font-semibold","text-blue-700"]],template:function(t,l){t&1&&(o(0,"div",0)(1,"div",1),w(2,"span")(3,"span")(4,"span")(5,"span")(6,"span"),i(),o(7,"p",2),n(8),i()()),t&2&&(a(8),p(l.mensaje))},styles:[".loading[_ngcontent-%COMP%]{--speed-of-animation: .9s;--gap: 6px;--first-color: #4c86f9;--second-color: #49a84c;--third-color: #f6bb02;--fourth-color: #f6bb02;--fifth-color: #2196f3;display:flex;justify-content:center;align-items:center;width:100px;gap:6px;height:100px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:4px;height:50px;background:var(--first-color);animation:_ngcontent-%COMP%_scale var(--speed-of-animation) ease-in-out infinite}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background:var(--second-color);animation-delay:-.8s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background:var(--third-color);animation-delay:-.7s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background:var(--fourth-color);animation-delay:-.6s}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){background:var(--fifth-color);animation-delay:-.5s}@keyframes _ngcontent-%COMP%_scale{0%,40%,to{transform:scaleY(.05)}20%{transform:scaleY(1)}}"]})};var z=Ne(je());var Le=(r,e,t,l,s)=>({"bg-green-100 text-green-700":r,"bg-blue-100 text-blue-700":e,"bg-purple-100 text-purple-700":t,"bg-orange-100 text-orange-700":l,"bg-gray-100 text-gray-700":s}),Be=(r,e,t,l,s)=>({"bg-green-100 text-green-800":r,"bg-blue-100 text-blue-800":e,"bg-purple-100 text-purple-800":t,"bg-orange-100 text-orange-800":l,"bg-gray-100 text-gray-800":s}),We=(r,e)=>({"text-green-700":r,"text-red-700":e});function $e(r,e){if(r&1){let t=F();o(0,"div",15)(1,"div",16)(2,"button",17),S("click",function(){g(t);let s=m();return f(s.mostrarModalSeleccionProductos=!1)}),n(3," \xD7 "),i(),o(4,"div",18),w(5,"i",19),o(6,"h3",20),n(7,"Reportes de Productos"),i()(),o(8,"p",21),n(9," Consulta tus productos m\xE1s vendidos o el estado de tu inventario. "),i(),o(10,"div",22)(11,"button",23),S("click",function(){g(t);let s=m();return f(s.seleccionarTipoReporteProductos("mas-vendidos"))}),w(12,"i",24),o(13,"div",25)(14,"div",26),n(15,"Productos m\xE1s vendidos"),i(),o(16,"div",27),n(17,"Los platillos favoritos"),i()()(),o(18,"button",28),S("click",function(){g(t);let s=m();return f(s.seleccionarTipoReporteProductos("stock"))}),w(19,"i",29),o(20,"div",25)(21,"div",26),n(22,"Control de Stock"),i(),o(23,"div",30),n(24,"Niveles e inventario"),i()()()()()()}}function Ge(r,e){if(r&1){let t=F();o(0,"li",58),S("click",function(){let s=g(t).$implicit,c=m(4);return f(c.seleccionarElemento(s))})("mousedown",function(s){return g(t),f(s.preventDefault())}),o(1,"span",59),n(2),i(),o(3,"span",60),n(4),i()()}if(r&2){let t=e.$implicit;a(2),P(" ",(t.nombre==null?null:t.nombre.charAt(0).toUpperCase())||""," "),a(2),p(t.nombre)}}function Ue(r,e){if(r&1&&(o(0,"ul",56),v(1,Ge,5,2,"li",57),i()),r&2){let t=m(3);a(),d("ngForOf",t.elementosFiltrados)}}function qe(r,e){if(r&1){let t=F();o(0,"div",44)(1,"div",45)(2,"label",46),n(3,"Selecciona una persona"),i(),o(4,"input",47),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.busquedaElemento,s)||(c.busquedaElemento=s),f(s)}),S("input",function(){g(t);let s=m(2);return f(s.filtrarElementos())})("blur",function(){g(t);let s=m(2);return f(s.cerrarListaSiNoSeleccionado())}),i(),v(5,Ue,2,1,"ul",48),i(),o(6,"div")(7,"label",49),n(8,"Selecciona el per\xEDodo:"),i(),o(9,"select",50),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.tipoPeriodo,s)||(c.filtros.tipoPeriodo=s),f(s)}),o(10,"option",51),n(11,"-- Elige una opci\xF3n --"),i(),o(12,"option",52),n(13,"D\xEDa"),i(),o(14,"option",53),n(15,"Semana"),i(),o(16,"option",54),n(17,"Mes"),i(),o(18,"option",55),n(19,"A\xF1o"),i()()()()}if(r&2){let t=m(2);a(4),k("ngModel",t.busquedaElemento),a(),d("ngIf",t.mostrarListaElementos&&t.elementosFiltrados.length>0),a(4),k("ngModel",t.filtros.tipoPeriodo)}}function Ye(r,e){if(r&1){let t=F();o(0,"div",61)(1,"label",49),n(2,"Selecciona el per\xEDodo:"),i(),o(3,"select",50),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.tipoPeriodo,s)||(c.filtros.tipoPeriodo=s),f(s)}),o(4,"option",51),n(5,"-- Elige una opci\xF3n --"),i(),o(6,"option",52),n(7,"D\xEDa"),i(),o(8,"option",53),n(9,"Semana"),i(),o(10,"option",54),n(11,"Mes"),i(),o(12,"option",55),n(13,"A\xF1o"),i()()()}if(r&2){let t=m(2);a(3),k("ngModel",t.filtros.tipoPeriodo)}}function Xe(r,e){if(r&1){let t=F();o(0,"div")(1,"label",62),n(2,"Selecciona el d\xEDa:"),i(),o(3,"input",63),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.fecha,s)||(c.filtros.fecha=s),f(s)}),i()()}if(r&2){let t=m(2);a(3),k("ngModel",t.filtros.fecha)}}function Je(r,e){if(r&1&&(o(0,"option",69),n(1),i()),r&2){let t=e.$implicit;d("value",t.value),a(),p(t.nombre)}}function Ke(r,e){if(r&1){let t=F();o(0,"div")(1,"label",64),n(2,"Selecciona mes y a\xF1o:"),i(),o(3,"div",65)(4,"div")(5,"select",66),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.mes,s)||(c.filtros.mes=s),f(s)}),S("change",function(){g(t);let s=m(2);return f(s.calcularSemanasDelMes())}),o(6,"option",51),n(7,"--Mes--"),i(),v(8,Je,2,2,"option",67),i()(),o(9,"div")(10,"input",68),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.anio,s)||(c.filtros.anio=s),f(s)}),S("change",function(){g(t);let s=m(2);return f(s.calcularSemanasDelMes())}),i()()()()}if(r&2){let t=m(2);a(5),k("ngModel",t.filtros.mes),a(3),d("ngForOf",t.meses),a(2),k("ngModel",t.filtros.anio)}}function He(r,e){if(r&1&&(o(0,"option",69),n(1),i()),r&2){let t=e.$implicit;d("value",t.valor),a(),p(t.nombre)}}function Qe(r,e){if(r&1){let t=F();o(0,"div",70)(1,"label",71),n(2,"Selecciona la semana:"),i(),o(3,"select",72),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.semanaSeleccionada,s)||(c.filtros.semanaSeleccionada=s),f(s)}),o(4,"option",51),n(5,"-- Elige una semana --"),i(),v(6,He,2,2,"option",67),i()()}if(r&2){let t=m(2);a(3),k("ngModel",t.filtros.semanaSeleccionada),a(3),d("ngForOf",t.semanasDelMes)}}function Ze(r,e){if(r&1&&(o(0,"option",69),n(1),i()),r&2){let t=e.$implicit;d("value",t.value),a(),p(t.nombre)}}function et(r,e){if(r&1){let t=F();o(0,"div")(1,"div",65)(2,"div")(3,"label",73),n(4,"Mes"),i(),o(5,"select",74),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.mes,s)||(c.filtros.mes=s),f(s)}),o(6,"option",51),n(7,"--Mes--"),i(),v(8,Ze,2,2,"option",67),i()(),o(9,"div")(10,"label",75),n(11,"A\xF1o"),i(),o(12,"input",76),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.anio,s)||(c.filtros.anio=s),f(s)}),i()()()()}if(r&2){let t=m(2);a(5),k("ngModel",t.filtros.mes),a(3),d("ngForOf",t.meses),a(4),k("ngModel",t.filtros.anio)}}function tt(r,e){if(r&1){let t=F();o(0,"div")(1,"label",77),n(2,"Selecciona el a\xF1o:"),i(),o(3,"input",78),R("ngModelChange",function(s){g(t);let c=m(2);return M(c.filtros.anio,s)||(c.filtros.anio=s),f(s)}),i()()}if(r&2){let t=m(2);a(3),k("ngModel",t.filtros.anio)}}function ot(r,e){if(r&1){let t=F();o(0,"div",31)(1,"div",32)(2,"button",33),S("click",function(){g(t);let s=m();return f(s.cerrarModal())}),n(3," \xD7 "),i(),o(4,"h2",34),n(5),i(),o(6,"form",35),S("ngSubmit",function(){g(t);let s=m();return f(s.generarReporte())}),v(7,qe,20,3,"div",36)(8,Ye,14,1,"ng-template",null,0,ae)(10,Xe,4,1,"div",37)(11,Ke,11,3,"div",37)(12,Qe,7,2,"div",38)(13,et,13,3,"div",37)(14,tt,4,1,"div",37),o(15,"div",39)(16,"button",40),S("click",function(){g(t);let s=m();return f(s.limpiarFiltros())}),o(17,"span",41),n(18,"\u{1F9F9}"),i(),o(19,"span"),n(20,"Limpiar filtros"),i()(),o(21,"button",42)(22,"span",43),n(23,"\u{1F4CA}"),i(),o(24,"span"),n(25,"Generar Reporte"),i()()()()()()}if(r&2){let t=ie(9),l=m();a(5),p(l.titulosReportes[l.reporteActivo]),a(2),d("ngIf",l.reporteActivo==="personal"||l.reporteActivo==="salarios")("ngIfElse",t),a(3),d("ngIf",l.filtros.tipoPeriodo==="dia"),a(),d("ngIf",l.filtros.tipoPeriodo==="semana"),a(),d("ngIf",l.filtros.tipoPeriodo==="semana"&&l.semanasDelMes.length>0),a(),d("ngIf",l.filtros.tipoPeriodo==="mes"),a(),d("ngIf",l.filtros.tipoPeriodo==="anio")}}function it(r,e){r&1&&(o(0,"div",79),w(1,"app-loader",80),i()),r&2&&(a(),d("mensaje","Cargando datos..."))}function nt(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4B5}"),i())}function rt(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4B3}"),i())}function at(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4F1}"),i())}function st(r,e){r&1&&(o(0,"span"),n(1,"\u231B"),i())}function lt(r,e){r&1&&(o(0,"span"),n(1,"\u{1F6F5}"),i())}function dt(r,e){r&1&&(o(0,"span"),n(1,"\u{1F41D}"),i())}function ct(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4B0}"),i())}function mt(r,e){if(r&1&&(K(0),o(1,"div",104)(2,"div",105),v(3,nt,2,0,"span",37)(4,rt,2,0,"span",37)(5,at,2,0,"span",37)(6,st,2,0,"span",37)(7,lt,2,0,"span",37)(8,dt,2,0,"span",37)(9,ct,2,0,"span",37),i(),o(10,"div")(11,"p",106),n(12),i(),o(13,"p",107),n(14),b(15,"currency"),i()()(),H()),r&2){let t=e.$implicit;a(2),d("ngClass",Q(13,Le,t.key==="efectivo",t.key==="tarjeta",t.key==="transferencia",t.key==="digital",!(t.key==="efectivo"||t.key==="tarjeta"||t.key==="transferencia"||t.key==="digital"))),a(),d("ngIf",t.key==="efectivo"),a(),d("ngIf",t.key==="tarjeta"),a(),d("ngIf",t.key==="transferencia"),a(),d("ngIf",t.key==="credito"),a(),d("ngIf",t.key==="pedidosya"),a(),d("ngIf",t.key==="beez"),a(),d("ngIf",!(t.key==="efectivo"||t.key==="tarjeta"||t.key==="transferencia"||t.key==="credito"||t.key==="pedidosya"||t.key==="beez")),a(3),P(" ",t.key," "),a(2),P(" ",E(15,10,t.value,"USD")," ")}}function pt(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4B5}"),i())}function ut(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4B3}"),i())}function gt(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4F1}"),i())}function ft(r,e){r&1&&(o(0,"span"),n(1,"\u231B"),i())}function xt(r,e){r&1&&(o(0,"span"),n(1,"\u{1F6F5}"),i())}function ht(r,e){r&1&&(o(0,"span"),n(1,"\u{1F41D}"),i())}function _t(r,e){r&1&&(o(0,"span"),n(1,"\u{1F4B0}"),i())}function bt(r,e){if(r&1&&(o(0,"tr",122)(1,"td",123),n(2),b(3,"date"),i(),o(4,"td",124),n(5),i(),o(6,"td",123)(7,"span",125),K(8,126),v(9,pt,2,0,"span",127)(10,ut,2,0,"span",127)(11,gt,2,0,"span",127)(12,ft,2,0,"span",127)(13,xt,2,0,"span",127)(14,ht,2,0,"span",127)(15,_t,2,0,"span",128),H(),n(16),b(17,"titlecase"),i()(),o(18,"td",129),n(19),b(20,"currency"),i()()),r&2){let t=e.$implicit;a(2),p(E(3,12,t.fecha,"shortDate")),a(3),p(t.numero_factura),a(2),d("ngClass",Q(20,Be,t.forma_pago==="efectivo",t.forma_pago==="tarjeta",t.forma_pago==="transferencia",t.forma_pago==="digital",t.forma_pago!=="efectivo"&&t.forma_pago!=="tarjeta"&&t.forma_pago!=="transferencia"&&t.forma_pago!=="digital")),a(),d("ngSwitch",t.forma_pago),a(),d("ngSwitchCase","efectivo"),a(),d("ngSwitchCase","tarjeta"),a(),d("ngSwitchCase","transferencia"),a(),d("ngSwitchCase","credito"),a(),d("ngSwitchCase","pedidosya"),a(),d("ngSwitchCase","beez"),a(2),P(" ",W(17,15,t.forma_pago)," "),a(3),P(" ",E(20,17,t.monto,"USD")," ")}}function vt(r,e){if(r&1&&(o(0,"div")(1,"div",108)(2,"div",109)(3,"table",110)(4,"thead",111)(5,"tr")(6,"th",112),n(7,"Fecha"),i(),o(8,"th",112),n(9,"N\xB0 Factura"),i(),o(10,"th",112),n(11,"Forma de Pago"),i(),o(12,"th",113),n(13,"Monto"),i()()(),o(14,"tbody",114),v(15,bt,21,26,"tr",115),i()()(),o(16,"div",116)(17,"div",117)(18,"div",118)(19,"div",119),n(20,"\u{1F4B0}"),i(),o(21,"span",120),n(22,"Total General:"),i()(),o(23,"span",121),n(24),b(25,"currency"),i()()()()()),r&2){let t=m(2);a(15),d("ngForOf",t.facturasFiltradas),a(9),p(E(25,2,t.obtenerTotalFacturado(),"USD"))}}function St(r,e){r&1&&(o(0,"div",130)(1,"div",131),n(2,"\u{1F4ED}"),i(),o(3,"h3",132),n(4,"No hay resultados"),i(),o(5,"p",133),n(6,"No se encontraron facturas con los filtros aplicados. Intenta con otro per\xEDodo o criterio."),i()())}function yt(r,e){if(r&1){let t=F();o(0,"div",79)(1,"div",81)(2,"button",82),S("click",function(){g(t);let s=m();return f(s.cerrarModalResultados())}),n(3," \xD7 "),i(),o(4,"div",83)(5,"div",84)(6,"h2",85),n(7,"\u{1F4CA} Reporte de Ventas"),i(),o(8,"p",86),n(9),i()()(),o(10,"div",87)(11,"div",88)(12,"div",89),n(13,"\u{1F4C5}"),i(),o(14,"div")(15,"p",90),n(16,"Fecha de generaci\xF3n"),i(),o(17,"p",91),n(18),b(19,"date"),i()()(),o(20,"div",88)(21,"div",92),n(22,"\u23F3 "),i(),o(23,"div")(24,"p",90),n(25,"Tipo de per\xEDodo"),i(),o(26,"p",91),n(27),b(28,"titlecase"),i()()()(),o(29,"section",93)(30,"div",94)(31,"div",95),n(32,"\u{1F4B0}"),i(),o(33,"h3",96),n(34,"Resumen por Forma de Pago"),i()(),o(35,"div",97),v(36,mt,16,19,"ng-container",98),b(37,"keyvalue"),i()(),o(38,"section",93)(39,"h3",99)(40,"span",100),n(41,"\u{1F4C4}"),i(),n(42," Detalle de Facturas "),i(),v(43,vt,26,5,"div",37)(44,St,7,0,"div",101),i(),o(45,"div",102)(46,"button",103),S("click",function(){g(t);let s=m();return f(s.generarPDF())}),n(47," \u{1F5A8}\uFE0F Exportar PDF "),i()()()()}if(r&2){let t=m();a(9),P(" ",t.obtenerDescripcionPeriodo()," "),a(9),p(E(19,6,t.fechaActual,"longDate")),a(9),P(" ",t.filtros.tipoPeriodo==="anio"?"A\xD1O":W(28,9,t.filtros.tipoPeriodo)," "),a(9),d("ngForOf",W(37,11,t.resumenFormasPago)),a(7),d("ngIf",t.facturasFiltradas.length>0),a(),d("ngIf",t.facturasFiltradas.length===0)}}function Ct(r,e){r&1&&(o(0,"div",79),w(1,"app-loader",80),i()),r&2&&(a(),d("mensaje","Cargando productos m\xE1s vendidos..."))}function Et(r,e){if(r&1&&(o(0,"tr",122)(1,"td",145),n(2),i(),o(3,"td",146),n(4),i()()),r&2){let t=e.$implicit;a(2),p(t.nombre),a(2),p(t.cantidad)}}function wt(r,e){if(r&1&&(o(0,"div")(1,"div",142)(2,"div",143)(3,"table",110)(4,"thead",111)(5,"tr")(6,"th",112),n(7,"Producto"),i(),o(8,"th",144),n(9,"Cantidad"),i()()(),o(10,"tbody",114),v(11,Et,5,2,"tr",115),i()()()()()),r&2){let t=m(2);a(11),d("ngForOf",t.productosMasVendidos)}}function Dt(r,e){r&1&&(o(0,"div",130)(1,"div",131),n(2,"\u{1F4ED}"),i(),o(3,"h3",132),n(4,"No hay productos"),i(),o(5,"p",133),n(6,"No se encontraron productos m\xE1s vendidos para este per\xEDodo."),i()())}function Ft(r,e){if(r&1){let t=F();o(0,"div",31)(1,"div",134)(2,"button",82),S("click",function(){g(t);let s=m();return s.mostrarModalProductosMasVendidos=!1,f(s.limpiarFiltros())}),n(3," \xD7 "),i(),o(4,"div",135)(5,"div",84)(6,"h2",85),n(7,"\u{1F525} Productos m\xE1s vendidos"),i(),o(8,"p",136),n(9),i()()(),o(10,"div",87)(11,"div",88)(12,"div",137),n(13,"\u{1F4C5}"),i(),o(14,"div")(15,"p",90),n(16,"Fecha de generaci\xF3n"),i(),o(17,"p",91),n(18),b(19,"date"),i()()(),o(20,"div",88)(21,"div",138),n(22,"\u23F3"),i(),o(23,"div")(24,"p",90),n(25,"Tipo de per\xEDodo"),i(),o(26,"p",91),n(27),b(28,"titlecase"),i()()()(),o(29,"section",93),v(30,wt,12,1,"div",37)(31,Dt,7,0,"div",101),i(),o(32,"div",139)(33,"button",140),S("click",function(){g(t);let s=m();return s.exportarProductosMasVendidosPDF(),s.mostrarModalProductosMasVendidos=!1,f(s.limpiarFiltros())}),o(34,"span",141),n(35," \u{1F5A8}\uFE0F "),i(),o(36,"span",26),n(37,"Exportar PDF"),i()()()()()}if(r&2){let t=m();a(9),p(t.obtenerDescripcionPeriodo()),a(9),p(E(19,5,t.fechaActual,"longDate")),a(9),P(" ",t.filtros.tipoPeriodo==="anio"?"A\xD1O":W(28,8,t.filtros.tipoPeriodo)," "),a(3),d("ngIf",t.productosMasVendidos.length>0),a(),d("ngIf",t.productosMasVendidos.length===0)}}function Pt(r,e){if(r&1&&(o(0,"option",69),n(1),i()),r&2){let t=e.$implicit;d("value",t.id),a(),P(" ",t.nombre," ")}}function Tt(r,e){r&1&&(o(0,"div",79),w(1,"app-loader",80),i()),r&2&&(a(),d("mensaje","Cargando datos..."))}function kt(r,e){if(r&1&&(o(0,"tr")(1,"td",172),n(2),i(),o(3,"td",173),n(4),i(),o(5,"td",173),n(6),i(),o(7,"td",173),n(8),i(),o(9,"td",123)(10,"span"),n(11),i()()()),r&2){let t=e.$implicit,l=m(3);te("bg-red-50",(t.stock_actual||0)<(t.stock_minimo||0))("bg-amber-50",t.stock_actual===0),a(2),p(t.nombre),a(2),p((t.categorias==null?null:t.categorias.nombre)||"Sin categor\xEDa"),a(2),p(t.stock_actual||0),a(2),p(t.unidad||"N/D"),a(2),oe(l.getEstadoStockClass(t)),a(),P(" ",l.getEstadoStockText(t)," ")}}function Mt(r,e){r&1&&(o(0,"tr")(1,"td",174),n(2," No se encontraron productos con los filtros seleccionados "),i()())}function Rt(r,e){if(r&1&&(o(0,"div",166)(1,"table",167)(2,"thead",168)(3,"tr")(4,"th",169),n(5,"Producto"),i(),o(6,"th",169),n(7,"Categor\xEDa"),i(),o(8,"th",169),n(9,"Stock"),i(),o(10,"th",169),n(11,"Unidad"),i(),o(12,"th",169),n(13,"Estado"),i()()(),o(14,"tbody",170),v(15,kt,12,11,"tr",171)(16,Mt,3,0,"tr",37),i()()()),r&2){let t=m(2);a(15),d("ngForOf",t.productosFiltrados),a(),d("ngIf",(t.productosFiltrados==null?null:t.productosFiltrados.length)===0)}}function It(r,e){if(r&1){let t=F();o(0,"div",175)(1,"button",176),S("click",function(){g(t);let s=m(2);return f(s.exportarPDFsctok())}),w(2,"i",177),n(3," Generar PDF "),i()()}}function Vt(r,e){if(r&1){let t=F();o(0,"div",31)(1,"div",147)(2,"div",148)(3,"h3",149),w(4,"i",150),n(5," Reporte de Stock "),i(),o(6,"button",151),S("click",function(){g(t);let s=m();return s.cerrarModalStock(),f(s.limpiarFiltrosproducto())}),n(7," \xD7 "),i()(),o(8,"div",152)(9,"div")(10,"label",153),n(11,"Categor\xEDa"),i(),o(12,"select",154),R("ngModelChange",function(s){g(t);let c=m();return M(c.filtroStock.categoria,s)||(c.filtroStock.categoria=s),f(s)}),o(13,"option",155),n(14,"Todas las categor\xEDas"),i(),v(15,Pt,2,2,"option",67),i()(),o(16,"div")(17,"label",156),n(18,"Estado de Stock"),i(),o(19,"select",157),R("ngModelChange",function(s){g(t);let c=m();return M(c.filtroStock.nivel,s)||(c.filtroStock.nivel=s),f(s)}),o(20,"option",155),n(21,"Todos los productos"),i(),o(22,"option",158),n(23,"Cr\xEDtico (bajo m\xEDnimo)"),i(),o(24,"option",159),n(25,"Agotado"),i(),o(26,"option",160),n(27,"Suficiente"),i()()(),o(28,"div",161)(29,"button",162),S("click",function(){g(t);let s=m();return f(s.generarReporteStock())}),w(30,"i",163),n(31," Buscar "),i()()(),v(32,Tt,2,1,"div",14)(33,Rt,17,2,"div",164)(34,It,4,0,"div",165),i()()}if(r&2){let t=m();a(12),k("ngModel",t.filtroStock.categoria),a(3),d("ngForOf",t.categorias),a(4),k("ngModel",t.filtroStock.nivel),a(13),d("ngIf",t.cargandoVentas),a(),d("ngIf",t.mostrarTabla),a(),d("ngIf",t.mostrarTabla)}}function At(r,e){r&1&&(o(0,"div",79),w(1,"app-loader",80),i()),r&2&&(a(),d("mensaje","Cargando datos de clientes..."))}function Nt(r,e){if(r&1&&(o(0,"tr",122)(1,"td",123),n(2),b(3,"date"),i(),o(4,"td",188),n(5),i(),o(6,"td",123),n(7),i(),o(8,"td",188),n(9),i(),o(10,"td",189),n(11),b(12,"currency"),i()()),r&2){let t=e.$implicit;a(2),p(E(3,5,t.fecha,"shortDate")),a(3),p(t.categoria),a(2),p(t.descripcion||"-"),a(2),p(t.metodo_pago),a(2),P(" ",E(12,8,t.monto,"USD")," ")}}function jt(r,e){if(r&1&&(o(0,"div")(1,"div",108)(2,"div",184)(3,"table",110)(4,"thead",111)(5,"tr")(6,"th",112),n(7,"Fecha"),i(),o(8,"th",112),n(9,"Categor\xEDa"),i(),o(10,"th",112),n(11,"Descripci\xF3n"),i(),o(12,"th",112),n(13,"M\xE9todo de Pago"),i(),o(14,"th",113),n(15,"Monto"),i()()(),o(16,"tbody",114),v(17,Nt,13,11,"tr",115),i()()(),o(18,"div",185)(19,"div",117)(20,"div",118)(21,"div",186),n(22,"\u{1F4B0}"),i(),o(23,"span",120),n(24,"Total:"),i()(),o(25,"span",187),n(26),b(27,"currency"),i()()()()()),r&2){let t=m(2);a(17),d("ngForOf",t.gastosFiltrados),a(9),p(E(27,2,t.obtenerTotalGastos(),"USD"))}}function zt(r,e){r&1&&(o(0,"div",130)(1,"div",131),n(2,"\u{1F4ED}"),i(),o(3,"h3",132),n(4,"No hay datos"),i(),o(5,"p",133),n(6,"No se encontraron movimientos con los filtros aplicados."),i()())}function Ot(r,e){if(r&1){let t=F();o(0,"div",79)(1,"div",81)(2,"button",82),S("click",function(){g(t);let s=m();return f(s.cerrarModalGastos())}),n(3," \xD7 "),i(),o(4,"div",178)(5,"div",84)(6,"h2",85),n(7,"\u{1F4CB} Reporte de Pagos y Adelantos"),i(),o(8,"p",179),n(9),i()()(),o(10,"div",180)(11,"div",88)(12,"div",181),n(13,"\u{1F4C5} "),i(),o(14,"div")(15,"p",90),n(16,"Fecha de generaci\xF3n"),i(),o(17,"p",91),n(18),b(19,"date"),i()()(),o(20,"div",88)(21,"div",92),n(22,"\u23F3 "),i(),o(23,"div")(24,"p",90),n(25,"Tipo de per\xEDodo"),i(),o(26,"p",91),n(27),b(28,"titlecase"),i()()(),o(29,"div",88)(30,"div",182),n(31,"\u{1F464} "),i(),o(32,"div")(33,"p",90),n(34,"Empleado"),i(),o(35,"p",91),n(36),i()()()(),o(37,"section",93)(38,"h3",99)(39,"span",100),n(40,"\u{1F4C4}"),i(),n(41," Detalle de Movimientos "),i(),v(42,jt,28,5,"div",37)(43,zt,7,0,"div",101),i(),o(44,"div",102)(45,"button",183),S("click",function(){g(t);let s=m();return f(s.generarPDFPagosYAdelantos())}),n(46," \u{1F5A8}\uFE0F Exportar PDF "),i()()()()}if(r&2){let t=m();a(9),P(" ",t.obtenerDescripcionPeriodoEmpleados()," "),a(9),p(E(19,6,t.fechaActual,"longDate")),a(9),P(" ",t.filtros.tipoPeriodo==="anio"?"A\xD1O":W(28,9,t.filtros.tipoPeriodo)," "),a(9),P(" ",t.filtros.proveedor||"Todos"," "),a(6),d("ngIf",t.gastosFiltrados.length>0),a(),d("ngIf",t.gastosFiltrados.length===0)}}function Lt(r,e){r&1&&(o(0,"div",79),w(1,"app-loader",80),i()),r&2&&(a(),d("mensaje","Cargando datos..."))}function Bt(r,e){if(r&1&&(o(0,"tr",222)(1,"td",219),n(2),b(3,"date"),i(),o(4,"td",219),n(5),i(),o(6,"td",223),n(7),b(8,"currency"),i()()),r&2){let t=e.$implicit;a(2),p(E(3,3,t.fecha,"shortDate")),a(3),p((t.clientes==null?null:t.clientes.nombre)||"N/A"),a(2),p(E(8,6,t.total,"USD"))}}function Wt(r,e){if(r&1&&(o(0,"div",217)(1,"table",110)(2,"thead",218)(3,"tr")(4,"th",219),n(5,"Fecha"),i(),o(6,"th",219),n(7,"Cliente"),i(),o(8,"th",220),n(9,"Total"),i()()(),o(10,"tbody"),v(11,Bt,9,9,"tr",221),i()()()),r&2){let t=m(2);a(11),d("ngForOf",t.pedidosPagados)}}function $t(r,e){r&1&&(o(0,"div",224),n(1," No hay pedidos pagados para el periodo seleccionado. "),i())}function Gt(r,e){if(r&1&&(o(0,"tr",228)(1,"td",219),n(2),b(3,"date"),i(),o(4,"td",229),n(5),i(),o(6,"td",230),n(7),b(8,"currency"),i()()),r&2){let t=e.$implicit;a(2),p(E(3,3,t.fecha,"shortDate")),a(3),p(t.numero_factura),a(2),p(E(8,6,t.monto,"USD"))}}function Ut(r,e){if(r&1&&(o(0,"div",225)(1,"table",110)(2,"thead",226)(3,"tr")(4,"th",219),n(5,"Fecha"),i(),o(6,"th",219),n(7,"N\xB0 Factura"),i(),o(8,"th",220),n(9,"Total"),i()()(),o(10,"tbody"),v(11,Gt,9,9,"tr",227),i()()()),r&2){let t=m(2);a(11),d("ngForOf",t.facturasFiltradas)}}function qt(r,e){r&1&&(o(0,"div",224),n(1," No hay facturas para el periodo seleccionado. "),i())}function Yt(r,e){if(r&1&&(o(0,"tr",234)(1,"td",219),n(2),b(3,"date"),i(),o(4,"td",219),n(5),i(),o(6,"td",235),n(7),b(8,"currency"),i()()),r&2){let t=e.$implicit;a(2),p(E(3,3,t.fecha,"shortDate")),a(3),p((t.clientes==null?null:t.clientes.nombre)||"N/A"),a(2),p(E(8,6,t.total,"USD"))}}function Xt(r,e){if(r&1&&(o(0,"div",231)(1,"table",110)(2,"thead",232)(3,"tr")(4,"th",219),n(5,"Fecha"),i(),o(6,"th",219),n(7,"Cliente"),i(),o(8,"th",220),n(9,"Total"),i()()(),o(10,"tbody"),v(11,Yt,9,9,"tr",233),i()()()),r&2){let t=m(2);a(11),d("ngForOf",t.pedidosPendientes)}}function Jt(r,e){r&1&&(o(0,"div",236),n(1," No hay cr\xE9ditos pendientes para el periodo seleccionado. "),i())}function Kt(r,e){if(r&1&&(o(0,"tr",240)(1,"td",219),n(2),b(3,"date"),i(),o(4,"td",219),n(5),i(),o(6,"td",241),n(7),b(8,"currency"),i()()),r&2){let t=e.$implicit;a(2),p(E(3,3,t.fecha,"shortDate")),a(3),p(t.descripcion||t.categoria||"N/A"),a(2),p(E(8,6,t.monto,"USD"))}}function Ht(r,e){if(r&1&&(o(0,"div",237)(1,"table",110)(2,"thead",238)(3,"tr")(4,"th",219),n(5,"Fecha"),i(),o(6,"th",219),n(7,"Concepto"),i(),o(8,"th",220),n(9,"Monto"),i()()(),o(10,"tbody"),v(11,Kt,9,9,"tr",239),i()()()),r&2){let t=m(2);a(11),d("ngForOf",t.gastosFiltrados)}}function Qt(r,e){r&1&&(o(0,"div",224),n(1," No hay gastos para el periodo seleccionado. "),i())}function Zt(r,e){if(r&1){let t=F();o(0,"div",79)(1,"div",190)(2,"button",82),S("click",function(){g(t);let s=m();return f(s.modalReporteCajaAbierto=!1)}),n(3," \xD7 "),i(),o(4,"div",191)(5,"div",84)(6,"h2",85),n(7,"\u{1F4CB} Reporte Movimientos de Caja"),i(),o(8,"p",192),n(9),i()()(),o(10,"section",193)(11,"div")(12,"p",194),n(13,"Ingresos por Pedidos"),i(),o(14,"p",195),n(15),b(16,"currency"),i()(),o(17,"div")(18,"p",194),n(19,"Gastos"),i(),o(20,"p",196),n(21),b(22,"currency"),i()(),o(23,"div")(24,"p",194),n(25,"Ingresos por Facturas"),i(),o(26,"p",197),n(27),b(28,"currency"),i()(),o(29,"div")(30,"p",194),n(31,"Pedidos por Cobrar"),i(),o(32,"p",198),n(33),b(34,"currency"),i()(),o(35,"div")(36,"p",194),n(37,"Saldo Final"),i(),o(38,"p",199),n(39),b(40,"currency"),i()()(),o(41,"section",200)(42,"h3",201),n(43,"\u{1F4B0} Ingresos"),i(),o(44,"p",202),n(45," Los cr\xE9ditos pagados y las facturas reflejan los ingresos efectivamente recibidos durante el periodo seleccionado. "),i(),o(46,"div")(47,"h4",203),n(48,"\u{1F6D2} Creditos Pagados"),i(),v(49,Wt,12,1,"div",204)(50,$t,2,0,"div",205),i(),o(51,"div",206)(52,"h4",207),n(53,"\u{1F4C4} Facturas"),i(),v(54,Ut,12,1,"div",208)(55,qt,2,0,"div",205),i()(),o(56,"section",209)(57,"h3",210),n(58,"\u{1F552} Cr\xE9ditos Pendientes"),i(),o(59,"p",211),n(60," Pedidos que a\xFAn est\xE1n pendientes de pago, representan cuentas por cobrar. "),i(),v(61,Xt,12,1,"div",212)(62,Jt,2,0,"div",213),i(),o(63,"section",214)(64,"h3",210),n(65,"\u{1F4B8} Gastos (Egresos)"),i(),o(66,"p",215),n(67," Gastos realizados durante el periodo seleccionado. "),i(),v(68,Ht,12,1,"div",216)(69,Qt,2,0,"div",205),i(),o(70,"div",102)(71,"button",183),S("click",function(){g(t);let s=m();return f(s.generarPDFReporteCaja())}),n(72," \u{1F5A8}\uFE0F Exportar PDF "),i()()()()}if(r&2){let t=m();a(9),P(" ",t.obtenerDescripcion()," "),a(6),p(E(16,15,t.resumenCaja.totalPedidosPagados,"USD")),a(6),p(E(22,18,t.resumenCaja.totalGastos,"USD")),a(6),p(E(28,21,t.resumenCaja.totalFacturas,"USD")),a(6),p(E(34,24,t.resumenCaja.totalPedidosPendientes,"USD")),a(5),d("ngClass",re(30,We,t.resumenCaja.saldoFinal>=0,t.resumenCaja.saldoFinal<0)),a(),P(" ",E(40,27,t.resumenCaja.saldoFinal,"USD")," "),a(10),d("ngIf",t.pedidosPagados.length>0),a(),d("ngIf",t.pedidosPagados.length===0),a(4),d("ngIf",t.facturasFiltradas.length>0),a(),d("ngIf",t.facturasFiltradas.length===0),a(6),d("ngIf",t.pedidosPendientes.length>0),a(),d("ngIf",t.pedidosPendientes.length===0),a(6),d("ngIf",t.gastosFiltrados.length>0),a(),d("ngIf",t.gastosFiltrados.length===0)}}be(Ae);var Z=class r{constructor(e){this.reportesService=e}mostrarModalFechas=!1;anioSeleccionado=new Date().getFullYear();mesSeleccionado=new Date().getMonth()+1;fechaInicio="";fechaFin="";mesesDelAnio=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];aniosDisponibles=[];filtroStock={categoria:"",nivel:""};periodosRapidos=[{label:"Este mes",value:"esteMes"},{label:"Mes pasado",value:"mesPasado"},{label:"Este a\xF1o",value:"esteAnio"},{label:"A\xF1o pasado",value:"anioPasado"}];filtros=this.obtenerFiltrosVacios();filtro=this.obteneFiltrosVacios();meses=[{value:1,nombre:"Enero"},{value:2,nombre:"Febrero"},{value:3,nombre:"Marzo"},{value:4,nombre:"Abril"},{value:5,nombre:"Mayo"},{value:6,nombre:"Junio"},{value:7,nombre:"Julio"},{value:8,nombre:"Agosto"},{value:9,nombre:"Septiembre"},{value:10,nombre:"Octubre"},{value:11,nombre:"Noviembre"},{value:12,nombre:"Diciembre"}];facturasFiltradas=[];anios=[];semanasDelMes=[];periodoSeleccionado=null;mostrarTabla=!1;resultadoReservas=[];modalAbierto=!1;reporteActivo="";mostrarModalResultados=!1;cargandoVentas=!1;cargandoReservas=!1;cargandoProductos=!1;cargandoClientes=!1;cargandoPersonal=!1;cargandoCaja=!1;cargandoPersonalizado=!1;mostrarModalProductosMasVendidos=!1;productosMasVendidos=[];mostrarModalSeleccionProductos=!1;mostrarModalStock=!1;tipoReporteProductos="";productosStock=[];productosFiltrados=[];categorias=[];busquedaRealizada=!1;busquedaElemento="";mostrarListaElementos=!1;elementosFiltrados=[];elementosDropdown=[];elementoSeleccionado=null;usuarios=[];proveedores=[];mostrarModalGastos=!1;gastosFiltrados=[];fechaActual=new Date;rangoPeriodo="";resumenFormasPago={};titulosReportes={ventas:"Reporte de Ventas",reservas:"Reporte de Reservas",productos:"Reporte de Productos",clientes:"Reporte de Clientes",personal:"Reporte de Personal",movimientosCaja:"Reporte de Movimientos de Caja",personalizado:"Reporte Personalizado"};pedidosFiltrados=[];resumenCaja={totalPedidosPagados:0,totalPedidosPendientes:0,totalFacturas:0,totalGastos:0,saldoFinal:0};modalReporteCajaAbierto=!1;ngOnInit(){this.generarAniosDisponibles(),this.calcularRangoMesActual(),this.cargarCategorias(),this.cargarDatosDropdown();let e=new Date().getFullYear();for(let t=e-10;t<=e+10;t++)this.anios.push(t)}generarAniosDisponibles(){let e=new Date().getFullYear();for(let t=0;t<5;t++)this.aniosDisponibles.push(e-t)}abrirModalFechas(){this.mostrarModalFechas=!0,this.calcularRangoMesActual(),this.periodoSeleccionado=null}calcularRangoMesActual(){if(this.anioSeleccionado)if(!this.mesSeleccionado)this.fechaInicio=`${this.anioSeleccionado}-01-01`,this.fechaFin=`${this.anioSeleccionado}-12-31`;else{let e=new Date(this.anioSeleccionado,this.mesSeleccionado-1,1),t=new Date(this.anioSeleccionado,this.mesSeleccionado,0);this.fechaInicio=e.toISOString().split("T")[0],this.fechaFin=t.toISOString().split("T")[0]}}actualizarRango(){this.periodoSeleccionado=null,this.calcularRangoMesActual()}resetearFiltros(){this.anioSeleccionado=new Date().getFullYear(),this.mesSeleccionado=new Date().getMonth()+1,this.periodoSeleccionado=null,this.calcularRangoMesActual(),this.fechaInicio="",this.fechaFin=""}abrirModal(e){this.reporteActivo=e,e==="productos"?this.mostrarModalSeleccionProductos=!0:this.modalAbierto=!0}cerrarModal(){this.modalAbierto=!1,this.reporteActivo="",this.limpiarFiltros()}calcularSemanasDelMes(){if(this.semanasDelMes=[],!this.filtros.mes||!this.filtros.anio)return;let e=Number(this.filtros.mes),t=Number(this.filtros.anio),l=new Date(t,e-1,1),s=new Date(t,e,0),c=s.getDate(),y=Math.ceil((c+l.getDay())/7);for(let u=0;u<y;u++){let _=new Date(t,e-1,u*7+1),x=new Date(t,e-1,(u+1)*7);x>s&&(x=new Date(s));let D=I=>I.toISOString().split("T")[0];this.semanasDelMes.push({valor:`${D(_)}_${D(x)}`,nombre:`Semana ${u+1} (${D(_)} - ${D(x)})`})}}obtenerFiltrosVacios(){return{tipoPeriodo:"",fecha:"",mes:"",anio:new Date().getFullYear(),semanaSeleccionada:"",fechaInicioSemana:"",mesAnio:"",proveedor:""}}limpiarFiltros(){this.filtros=this.obtenerFiltrosVacios(),this.semanasDelMes=[],this.busquedaElemento=""}generarReporte(){switch(this.reporteActivo){case"ventas":this.generarReporteVentas();break;case"reservas":this.generarReporteReservas();break;case"productos":this.tipoReporteProductos==="mas-vendidos"?this.generarReporteProductosMasVendidos():this.tipoReporteProductos==="stock"&&(this.generarReporteStock(),this.mostrarModalStock=!0);break;case"clientes":this.generarReporteClientes();break;case"personal":this.generarReportePersonal();break;case"movimientosCaja":this.generarReporteMovimientosCaja();break;case"personalizado":this.generarReportePersonalizado();break;default:console.warn("Tipo de reporte no reconocido");break}}seleccionarTipoReporteProductos(e){this.mostrarModalSeleccionProductos=!1,e==="mas-vendidos"?(this.tipoReporteProductos="mas-vendidos",this.modalAbierto=!0):e==="stock"&&(this.tipoReporteProductos="stock",this.mostrarModalStock=!0)}cerrarModalStock(){this.mostrarModalStock=!1}generarReporteVentas(){return j(this,null,function*(){if(!this.filtros.tipoPeriodo){z.default.fire({icon:"warning",title:"Filtro incompleto",text:"Por favor selecciona un tipo de per\xEDodo antes de generar el reporte.",confirmButtonText:"Aceptar"});return}this.cargandoVentas=!0;try{let e=this.filtros.fecha?new Date(this.filtros.fecha).toISOString().split("T")[0]:void 0,t={tipoPeriodo:this.filtros.tipoPeriodo,fecha:e,mes:this.filtros.mes?Number(this.filtros.mes):void 0,anio:this.filtros.anio?Number(this.filtros.anio):void 0,semanaSeleccionada:this.filtros.semanaSeleccionada||void 0};if(this.facturasFiltradas=yield this.reportesService.obtenerFacturasConFiltros(t),this.facturasFiltradas.length===0&&this.filtros.tipoPeriodo==="dia"&&e){let l=yield this.reportesService.verificarFacturasDirectamente(e);this.facturasFiltradas=l||[]}this.modalAbierto=!1,this.mostrarModalResultados=!0,this.calcularResumenPorFormaPago()}catch(e){console.error("Error:",e),z.default.fire({icon:"error",title:"Error al generar reporte",text:"Ocurri\xF3 un problema al obtener las facturas. Int\xE9ntalo de nuevo.",confirmButtonText:"Cerrar"})}finally{this.cargandoVentas=!1}})}obtenerTotalFacturado(){return this.facturasFiltradas.reduce((e,t)=>e+(t.monto||0),0)}mostrarRangoPeriodo(){return["semana","mes","anio"].includes(this.filtros.tipoPeriodo)}obtenerDescripcionPeriodo(){switch(this.filtros.tipoPeriodo){case"dia":if(!this.filtros.fecha)return"Ventas del d\xEDa";let e=new Date(this.filtros.fecha),t=new Date(e.getTime()+e.getTimezoneOffset()*6e4);return`Ventas del d\xEDa ${new Intl.DateTimeFormat("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(t)}`;case"semana":if(!this.filtros.semanaSeleccionada)return"Ventas de la semana";let[c,y]=this.filtros.semanaSeleccionada.split("_"),u=this.semanasDelMes.find(x=>x.valor===this.filtros.semanaSeleccionada);return`Semana ${u?u.nombre.match(/Semana (\d+)/)?.[1]:"?"} del ${c} hasta ${y}`;case"mes":return`Ventas del mes de ${this.getNombreMes(this.filtros.mes)} ${this.filtros.anio}`;case"anio":return`Ventas del a\xF1o ${this.filtros.anio}`;default:return""}}getNombreMes(e){let t=typeof e=="string"?parseInt(e,10):e;return["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t-1]||""}calcularResumenPorFormaPago(){this.resumenFormasPago={};for(let e of this.facturasFiltradas){let t=e.forma_pago?.toLowerCase()||"otro";this.resumenFormasPago[t]||(this.resumenFormasPago[t]=0),this.resumenFormasPago[t]+=e.monto}}cerrarModalResultados(){this.mostrarModalResultados=!1,this.modalAbierto=!1,this.limpiarFiltros()}generarReporteProductosMasVendidos(){return j(this,null,function*(){if(!this.filtros.tipoPeriodo){yield z.default.fire({icon:"warning",title:"Filtro incompleto",text:"Por favor selecciona un tipo de per\xEDodo antes de generar el reporte.",confirmButtonText:"Aceptar"}),this.cargandoProductos=!1;return}this.cargandoProductos=!0;try{let e=this.filtros.fecha?new Date(this.filtros.fecha).toISOString().split("T")[0]:void 0,t={tipoPeriodo:this.filtros.tipoPeriodo,fecha:e,mes:this.filtros.mes?Number(this.filtros.mes):void 0,anio:this.filtros.anio?Number(this.filtros.anio):void 0,semanaSeleccionada:this.filtros.semanaSeleccionada||void 0};if(this.facturasFiltradas=yield this.reportesService.obtenerFacturasConFiltros(t),this.facturasFiltradas.length===0&&this.filtros.tipoPeriodo==="dia"&&e){let l=yield this.reportesService.verificarFacturasDirectamente(e);this.facturasFiltradas=l||[]}this.productosMasVendidos=this.procesarProductosMasVendidos(this.facturasFiltradas),this.modalAbierto=!1,this.mostrarModalProductosMasVendidos=!0}catch(e){console.error("Error al generar reporte de productos:",e),yield z.default.fire({icon:"error",title:"Error",text:"Ocurri\xF3 un problema al obtener el reporte. Int\xE9ntalo de nuevo.",confirmButtonText:"Cerrar"})}finally{this.cargandoProductos=!1}})}procesarProductosMasVendidos(e){let t={};return e.forEach(l=>{l.productos.forEach(s=>{let c=eo(s.nombre);t[c]||(t[c]={nombre:c,cantidad:0}),t[c].cantidad+=s.cantidad})}),Object.values(t).sort((l,s)=>s.cantidad-l.cantidad)}obteneFiltrosVacios(){return{categoriaSeleccionada:"",estadoStock:""}}generarReporteReservas(){return j(this,null,function*(){})}validarEstadoStock(e){return["critico","agotado","suficiente","todos"].includes(e)?e:"todos"}limpiarFiltrosproducto(){this.filtroStock={categoria:"",nivel:""},this.productosFiltrados=[],this.mostrarTabla=!1,this.busquedaRealizada=!1}getEstadoStockText(e){let t=Number(e.stock_actual),l=Number(e.stock_minimo);return t===0?"Agotado":t<l?"Cr\xEDtico":"Suficiente"}getEstadoStock(e){let t=Number(e.stock_actual),l=Number(e.stock_minimo);return t===0?"agotado":t<l?"critico":"suficiente"}getEstadoStockClass(e){let t=Number(e.stock_actual),l=Number(e.stock_minimo);return t===0?"text-red-600 font-semibold":t<l?"text-yellow-600 font-semibold":"text-green-600 font-semibold"}filtrarProductosStock(){this.productosFiltrados&&(this.productosFiltrados=this.productosFiltrados.filter(e=>{let t=!this.filtroStock.categoria||e.categorias?.id===this.filtroStock.categoria,l=Number(e.stock_actual)||0,s=Number(e.stock_minimo)||0,c=!0;return this.filtroStock.nivel==="critico"?c=l>0&&l<s:this.filtroStock.nivel==="agotado"?c=l===0:this.filtroStock.nivel==="suficiente"&&(c=l>=s),t&&c}))}cargarCategorias(){return j(this,null,function*(){try{this.categorias=yield this.reportesService.obtenerCategorias()}catch(e){console.error("Error al cargar categor\xEDas:",e)}})}generarReporteStock(){return j(this,null,function*(){this.busquedaRealizada=!0,this.mostrarTabla=!1,this.cargandoVentas=!0;try{let e=this.validarEstadoStock(this.filtroStock.nivel);this.productosFiltrados=yield this.reportesService.obtenerProductosFiltrados({categoriaId:this.filtroStock.categoria||void 0,estadoStock:e}),this.mostrarTabla=!0}catch(e){console.error("Error al obtener productos filtrados:",e)}finally{this.cargandoVentas=!1}})}exportarPDFsctok(){let e=new $("landscape","pt"),t=e.internal.pageSize.getWidth(),l=h=>h.toLowerCase().replace(/\s+/g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9_]/g,""),s={critico:"Productos con Stock Cr\xEDtico",agotado:"Productos Agotados",suficiente:"Productos con Stock Suficiente",todos:"Todos los Productos","":"Todos los Productos"},c=this.filtroStock.nivel||"",y=s[c]||"Todos los Productos";e.setFontSize(20),e.setTextColor(16,185,129),e.setFont("helvetica","bold");let u="Reporte de Stock",_=t/2-e.getTextWidth(u)/2;e.text(u,_,50),e.setFontSize(12),e.setTextColor(80),e.setFont("helvetica","normal");let x=y,D=t/2-e.getTextWidth(x)/2;e.text(x,D,70);let T=`Fecha de generaci\xF3n: ${new Date().toLocaleDateString("es-ES",{dateStyle:"long"})}`,V=t/2-e.getTextWidth(T)/2;e.setFontSize(10),e.setTextColor(120),e.text(T,V,90);let A=this.productosFiltrados.map(h=>[h.nombre,h.categorias?.nombre||"Sin categor\xEDa",h.stock_actual||0,h.unidad||"N/D",this.getEstadoStockText(h)]);L(e,{startY:110,head:[["Producto","Categor\xEDa","Stock","Unidad","Estado"]],body:A,styles:{fontSize:10,halign:"center"},headStyles:{fillColor:[16,185,129],textColor:255}});let C=new Date().toISOString().slice(0,10),B=`Reporte_Stock_${l(y)}_${C}.pdf`;e.save(B)}generarReporteClientes(){return j(this,null,function*(){})}generarReportePersonalizado(){return j(this,null,function*(){})}generarReportePersonal(){return j(this,null,function*(){this.cargandoClientes=!0,this.reporteActivo==="salarios"||this.reporteActivo==="clientes"?this.filtros.proveedor=this.busquedaElemento||void 0:this.filtros.proveedor=void 0;let e=q(U({},this.filtros),{mes:this.filtros.mes?Number(this.filtros.mes):void 0});try{let t=yield this.reportesService.obtenerGastosConFiltros(e);this.gastosFiltrados=t,this.mostrarModalGastos=!0}catch(t){console.error("Error generando reporte:",t)}finally{this.cargandoClientes=!1}})}cerrarModalGastos(){this.mostrarModalGastos=!1,this.gastosFiltrados=[],this.cerrarModal()}obtenerTotalGastos(){return this.gastosFiltrados.reduce((e,t)=>e+Number(t.monto),0)}obtenerDescripcionPeriodoEmpleados(){let e=this.filtros.proveedor||"Empleado";switch(this.filtros.tipoPeriodo){case"dia":if(!this.filtros.fecha)return`Pagos realizados a ${e} el d\xEDa seleccionado`;let t=new Date(this.filtros.fecha),l=new Date(t.getTime()+t.getTimezoneOffset()*6e4),c=new Intl.DateTimeFormat("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(l);return`Pagos realizados a ${e} el ${c}`;case"semana":if(!this.filtros.semanaSeleccionada)return`Pagos realizados a ${e} durante la semana`;let[y,u]=this.filtros.semanaSeleccionada.split("_"),_=this.semanasDelMes.find(D=>D.valor===this.filtros.semanaSeleccionada),x=_?_.nombre.match(/Semana (\d+)/)?.[1]:"?";return`Pagos realizados a ${e} durante la Semana ${x} del ${y} hasta ${u}`;case"mes":return`Pagos realizados a ${e} en ${this.getNombreMes(this.filtros.mes)} ${this.filtros.anio}`;case"anio":return`Pagos realizados a ${e} en el a\xF1o ${this.filtros.anio}`;default:return`Pagos realizados a ${e}`}}get resumenCategorias(){return this.gastosFiltrados.reduce((e,t)=>(e[t.categoria]=(e[t.categoria]||0)+t.monto,e),{})}filtrarElementos(){if(!this.busquedaElemento){this.elementosFiltrados=[],this.mostrarListaElementos=!1,this.elementoSeleccionado=null,this.filtros.proveedor="";return}let e=this.busquedaElemento.toLowerCase();this.elementosFiltrados=this.elementosDropdown.filter(t=>t.nombre.toLowerCase().includes(e)),this.mostrarListaElementos=!0}cerrarListaSiNoSeleccionado(){setTimeout(()=>{this.elementoSeleccionado||(this.mostrarListaElementos=!1,this.busquedaElemento="",this.filtros.proveedor="")},200)}seleccionarElemento(e){this.elementoSeleccionado=e,this.busquedaElemento=e.nombre,this.filtros.proveedor=e.nombre,this.mostrarListaElementos=!1}cargarDatosDropdown(){return j(this,null,function*(){try{this.proveedores=yield this.reportesService.obtenerProveedores()}catch(e){console.error("Error al obtener proveedores:",e),z.default.fire("Error","No se pudieron cargar los proveedores","error")}try{this.usuarios=yield this.reportesService.obtenerUsuarios()}catch(e){console.error("Error al obtener usuarios:",e)}this.elementosDropdown=[...this.proveedores.map(e=>q(U({},e),{tipo:"proveedor"})),...this.usuarios.map(e=>q(U({},e),{tipo:"usuario"}))]})}generarPDFPagosYAdelantos(){let e=new $("p","pt"),t=e.internal.pageSize.getWidth(),l=A=>A.toLowerCase().replace(/\s+/g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9_]/g,"");e.setFontSize(20),e.setTextColor(79,70,229),e.setFont("helvetica","bold");let s="Reporte de Pagos y Adelantos";e.text(s,t/2-e.getTextWidth(s)/2,50),e.setFontSize(12),e.setTextColor(80),e.setFont("helvetica","normal");let c=this.obtenerDescripcionPeriodoEmpleados();e.text(c,t/2-e.getTextWidth(c)/2,70);let u=`Fecha de generaci\xF3n: ${new Date().toLocaleDateString("es-ES",{dateStyle:"long"})}`;e.setFontSize(10),e.setTextColor(100),e.text(u,t/2-e.getTextWidth(u)/2,90);let D=`Tipo de per\xEDodo: ${{dia:"D\xCDA",semana:"SEMANA",mes:"MES",anio:"A\xD1O"}[this.filtros.tipoPeriodo]||this.filtros.tipoPeriodo.toUpperCase()}`;e.text(D,t/2-e.getTextWidth(D)/2,105);let I=`Empleado: ${this.filtros.proveedor||"Todos"}`;e.text(I,t/2-e.getTextWidth(I)/2,120);let T=150;if(this.gastosFiltrados.length>0){e.setFontSize(14),e.setTextColor(0),e.setFont("helvetica","bold"),e.text("Detalle de Movimientos",40,T),T+=20;let A=this.gastosFiltrados.map(C=>[new Date(C.fecha).toLocaleDateString("es-ES"),C.categoria||"-",C.descripcion||"-",C.metodo_pago||"-",`$${Number(C.monto).toFixed(2)}`]);L(e,{startY:T,head:[["Fecha","Categor\xEDa","Descripci\xF3n","M\xE9todo de Pago","Monto"]],body:A,styles:{fontSize:10},headStyles:{fillColor:[79,70,229],textColor:255},columnStyles:{4:{halign:"right"}}}),T=e.lastAutoTable.finalY+20,e.setFontSize(12),e.setTextColor(0,100,0),e.setFont("helvetica","bold"),e.text(`Total Pagado: ${this.obtenerTotalGastos().toLocaleString("en-US",{style:"currency",currency:"USD"})}`,40,T)}else e.setFontSize(12),e.setTextColor(150),e.setFont("helvetica","normal"),e.text("No hay movimientos registrados en este per\xEDodo.",40,T);let V=`Reporte_Pagos_Adelantos_${l(c)}.pdf`;e.save(V)}generarReporteMovimientosCaja(){return j(this,null,function*(){if(!this.filtros?.tipoPeriodo){z.default.fire({icon:"warning",title:"Filtro incompleto",text:"Por favor selecciona un tipo de per\xEDodo antes de generar el reporte.",confirmButtonText:"Aceptar"});return}if(!["dia","semana","mes","anio"].includes(this.filtros.tipoPeriodo)){console.error("Tipo de periodo no reconocido:",this.filtros.tipoPeriodo),z.default.fire({icon:"error",title:"Tipo de reporte no reconocido",text:`El tipo de per\xEDodo '${this.filtros.tipoPeriodo}' no es v\xE1lido.`,confirmButtonText:"Aceptar"});return}this.cargandoCaja=!0;try{let t=this.filtros.fecha?new Date(this.filtros.fecha).toISOString().split("T")[0]:void 0,l={tipoPeriodo:this.filtros.tipoPeriodo,fecha:t,mes:this.filtros.mes?Number(this.filtros.mes):void 0,anio:this.filtros.anio?Number(this.filtros.anio):void 0,semanaSeleccionada:this.filtros.semanaSeleccionada||void 0},[s,c,y]=yield Promise.all([this.reportesService.obtenerPedidosConDetalleConFiltros(l),this.reportesService.obtenerGastosConFiltrostotal(l),this.reportesService.obtenerFacturasConFiltros(l)]);this.pedidosFiltrados=s,this.gastosFiltrados=c,this.facturasFiltradas=y,this.modalReporteCajaAbierto=!0,this.calcularResumenCaja()}catch(t){console.error("Error al generar reporte de caja:",t),z.default.fire({icon:"error",title:"Error al generar reporte",text:"Ocurri\xF3 un problema al obtener los datos. Int\xE9ntalo de nuevo.",confirmButtonText:"Cerrar"})}finally{this.cargandoCaja=!1}})}calcularResumenCaja(){let e=this.pedidosFiltrados.reduce((u,_)=>{if(_.estado_pago==="pagado"){let x=Number(_.total);return u+(isNaN(x)?0:x)}return u},0),t=this.pedidosFiltrados.reduce((u,_)=>{if(_.estado_pago==="pendiente"){let x=Number(_.total);return u+(isNaN(x)?0:x)}return u},0),l=this.facturasFiltradas.reduce((u,_)=>{let x=Number(_.monto);return u+(isNaN(x)?0:x)},0),s=this.gastosFiltrados.reduce((u,_)=>{let x=Number(_.monto);return u+(isNaN(x)?0:x)},0),y=l+e-s;this.resumenCaja={totalPedidosPagados:Number(e.toFixed(2)),totalPedidosPendientes:Number(t.toFixed(2)),totalFacturas:Number(l.toFixed(2)),totalGastos:Number(s.toFixed(2)),saldoFinal:Number(y.toFixed(2))}}get pedidosPagados(){return this.pedidosFiltrados.filter(e=>e.estado_pago==="pagado")}get pedidosPendientes(){return this.pedidosFiltrados.filter(e=>e.estado_pago==="pendiente")}cerrarModalReporteCaja(){this.modalReporteCajaAbierto=!1}obtenerDescripcion(){switch(this.filtros.tipoPeriodo){case"dia":if(!this.filtros.fecha)return"Cr\xE9ditos, facturas y gastos para el d\xEDa seleccionado";let e=new Date(this.filtros.fecha),t=new Date(e.getTime()+e.getTimezoneOffset()*6e4);return`Reporte de cr\xE9ditos pagados, facturas y gastos para el d\xEDa ${new Intl.DateTimeFormat("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(t)}`;case"semana":if(!this.filtros.semanaSeleccionada)return"Cr\xE9ditos, facturas y gastos para la semana seleccionada";let[c,y]=this.filtros.semanaSeleccionada.split("_"),u=this.semanasDelMes.find(x=>x.valor===this.filtros.semanaSeleccionada);return`Reporte de cr\xE9ditos pagados, facturas y gastos de la Semana ${u?u.nombre.match(/Semana (\d+)/)?.[1]:"?"} (${c} - ${y})`;case"mes":return`Reporte de cr\xE9ditos pagados, facturas y gastos de ${this.getNombreMes(this.filtros.mes)} ${this.filtros.anio}`;case"anio":return`Reporte de cr\xE9ditos pagados, facturas y gastos del a\xF1o ${this.filtros.anio}`;default:return"Reporte de cr\xE9ditos pagados, facturas y gastos para el periodo seleccionado"}}generarPDFReporteCaja(){let e=new $("p","pt"),t=e.internal.pageSize.getWidth(),l=h=>h.toLowerCase().replace(/\s+/g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9_]/g,"");e.setFontSize(20),e.setTextColor(79,70,229),e.setFont("helvetica","bold");let s="Reporte Movimientos de Caja";e.text(s,t/2-e.getTextWidth(s)/2,50),e.setFontSize(12),e.setTextColor(80),e.setFont("helvetica","normal");let c=this.obtenerDescripcion();e.text(c,t/2-e.getTextWidth(c)/2,70);let u=`Fecha de generaci\xF3n: ${new Date().toLocaleDateString("es-ES",{dateStyle:"long"})}`;e.setFontSize(10),e.setTextColor(100),e.text(u,t/2-e.getTextWidth(u)/2,90);let _=110,x=[["Creditos Ingesos",this.resumenCaja.totalPedidosPagados],["Ingresos por Facturas (ventas realizadas)",this.resumenCaja.totalFacturas],["Gastos o Egresos",this.resumenCaja.totalGastos],["Creditos por Cobrar",this.resumenCaja.totalPedidosPendientes],["Saldo Final",this.resumenCaja.saldoFinal]];e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(0),e.text("Resumen de General",40,_),_+=20;let D=x.map(([h,N])=>[h,N?.toLocaleString("en-US",{style:"currency",currency:"USD"})||"$0.00"]);L(e,{startY:_,head:[["Concepto","Monto"]],body:D,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},bodyStyles:{fontSize:10},columnStyles:{0:{cellWidth:"auto"},1:{halign:"right",cellWidth:100}},margin:{left:40,right:40},styles:{cellPadding:6}}),_=e.lastAutoTable.finalY+20;let I=(h,N,O)=>{e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(0),e.text(h,40,_),_+=20,O.length>0?(L(e,{startY:_,head:[N],body:O,styles:{fontSize:10},headStyles:{fillColor:[79,70,229],textColor:255},columnStyles:{[N.length-1]:{halign:"right"}},margin:{left:40,right:40}}),_=e.lastAutoTable.finalY+15):(e.setFontSize(12),e.setTextColor(150),e.setFont("helvetica","normal"),e.text("No hay registros para el periodo seleccionado.",40,_),_+=30)},T=this.pedidosPagados.map(h=>[new Date(h.fecha).toLocaleDateString("es-ES"),h.clientes?.nombre||"N/A",h.total.toLocaleString("en-US",{style:"currency",currency:"USD"})]);I("Cr\xE9ditos Pagados",["Fecha","Cliente","Total"],T);let V=this.facturasFiltradas.map(h=>[new Date(h.fecha).toLocaleDateString("es-ES"),h.numero_factura,h.monto.toLocaleString("en-US",{style:"currency",currency:"USD"})]);I("Facturas",["Fecha","N\xB0 Factura","Total"],V);let A=this.pedidosPendientes.map(h=>[new Date(h.fecha).toLocaleDateString("es-ES"),h.clientes?.nombre||"N/A",h.total.toLocaleString("en-US",{style:"currency",currency:"USD"})]);I("Cr\xE9ditos Pendientes",["Fecha","Cliente","Total"],A);let C=this.gastosFiltrados.map(h=>[new Date(h.fecha).toLocaleDateString("es-ES"),h.descripcion||h.categoria||"N/A",h.monto.toLocaleString("en-US",{style:"currency",currency:"USD"})]);I(" Gastos (Egresos)",["Fecha","Concepto","Monto"],C);let B=`Reporte_Movimientos_Caja_${l(c)}.pdf`;e.save(B)}generarPDF(){let e=new $("p","pt"),t=e.internal.pageSize.getWidth(),l=O=>O.toLowerCase().replace(/\s+/g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9_]/g,"");e.setFontSize(20),e.setTextColor(41,128,185),e.setFont("helvetica","bold");let s="Reporte de Ventas",c=t/2-e.getTextWidth(s)/2;e.text(s,c,50),e.setFontSize(12),e.setTextColor(80),e.setFont("helvetica","normal");let y=this.obtenerDescripcionPeriodo(),u=t/2-e.getTextWidth(y)/2;e.text(y,u,70);let x=`Fecha de generaci\xF3n: ${new Date().toLocaleDateString("es-ES",{dateStyle:"long"})}`,D=t/2-e.getTextWidth(x)/2;e.setFontSize(10),e.setTextColor(120),e.text(x,D,90);let V=`Tipo de per\xEDodo: ${{dia:"D\xCDA",semana:"SEMANA",mes:"MES",anio:"A\xD1O"}[this.filtros.tipoPeriodo]||this.filtros.tipoPeriodo.toUpperCase()}`,A=t/2-e.getTextWidth(V)/2;e.text(V,A,105);let C=130;e.setFontSize(14),e.setTextColor(0),e.setFont("helvetica","bold"),e.text("Resumen por Forma de Pago",40,C),C+=20;let h=Object.entries(this.resumenFormasPago).map(([O,J])=>[O.charAt(0).toUpperCase()+O.slice(1),`$${Number(J).toFixed(2)}`]);if(L(e,{startY:C,head:[["Forma de Pago","Monto"]],body:h,styles:{fontSize:10,halign:"center"},headStyles:{fillColor:[41,128,185],textColor:255}}),C=e.lastAutoTable.finalY+30,this.facturasFiltradas.length>0){e.setFontSize(14),e.setTextColor(0),e.setFont("helvetica","bold"),e.text("Detalle de Facturas",40,C),C+=20;let J=this.facturasFiltradas.map(G=>[new Date(G.fecha).toLocaleDateString("es-ES"),G.numero_factura,G.forma_pago.charAt(0).toUpperCase()+G.forma_pago.slice(1),`$${Number(G.monto).toFixed(2)}`]);L(e,{startY:C,head:[["Fecha","N\xB0 Factura","Forma de Pago","Monto"]],body:J,styles:{fontSize:10},headStyles:{fillColor:[41,128,185],textColor:255},columnStyles:{3:{halign:"right"}}}),C=e.lastAutoTable.finalY+20,e.setFontSize(12),e.setTextColor(0,100,0),e.setFont("helvetica","bold"),e.text(`Total General: ${this.obtenerTotalFacturado().toLocaleString("en-US",{style:"currency",currency:"USD"})}`,40,C)}else e.setFontSize(12),e.setTextColor(150),e.setFont("helvetica","normal"),e.text("No hay facturas registradas en este per\xEDodo.",40,C);let N=`Reporte_Ventas_${l(y)}.pdf`;e.save(N)}exportarProductosMasVendidosPDF(){let e=new $("p","pt"),t=e.internal.pageSize.getWidth(),l=N=>N.toLowerCase().replace(/\s+/g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9_]/g,"");e.setFontSize(20),e.setTextColor(34,153,84),e.setFont("helvetica","bold");let s="Productos M\xE1s Vendidos",c=t/2-e.getTextWidth(s)/2;e.text(s,c,50),e.setFontSize(12),e.setTextColor(80),e.setFont("helvetica","normal");let y=this.obtenerDescripcionPeriodo(),u=t/2-e.getTextWidth(y)/2;e.text(y,u,70);let x=`Fecha de generaci\xF3n: ${new Date().toLocaleDateString("es-ES",{dateStyle:"long"})}`,D=t/2-e.getTextWidth(x)/2;e.setFontSize(10),e.setTextColor(120),e.text(x,D,90);let V=`Tipo de per\xEDodo: ${{dia:"D\xCDA",semana:"SEMANA",mes:"MES",anio:"A\xD1O"}[this.filtros.tipoPeriodo]||this.filtros.tipoPeriodo.toUpperCase()}`,A=t/2-e.getTextWidth(V)/2;e.text(V,A,105);let C=130;e.setFontSize(14),e.setTextColor(0),e.setFont("helvetica","bold"),e.text("Listado de Productos",40,C),C+=20;let B=this.productosMasVendidos.map(N=>[N.nombre,N.cantidad]);L(e,{startY:C,head:[["Producto","Cantidad"]],body:B,styles:{fontSize:10},headStyles:{fillColor:[34,153,84],textColor:255},columnStyles:{1:{halign:"center"},2:{halign:"right"}}});let h=`Productos_Mas_Vendidos_${l(y)}.pdf`;e.save(h)}static \u0275fac=function(t){return new(t||r)(ee(Ve))};static \u0275cmp=Y({type:r,selectors:[["app-reportes"]],features:[ne([{provide:se,useValue:"es"}])],decls:43,vars:11,consts:[["soloPeriodo",""],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-800","mb-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"cursor-pointer","bg-white","hover:bg-amber-50","border","border-gray-200","rounded-xl","p-5","shadow-sm","hover:shadow-md","transition",3,"click"],[1,"flex","items-center","mb-3"],[1,"fas","fa-dollar-sign","text-amber-500","text-2xl","mr-3"],[1,"text-md","font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],[1,"fas","fa-hamburger","text-amber-500","text-2xl","mr-3"],[1,"fas","fa-user-tie","text-amber-500","text-2xl","mr-3"],[1,"fas","fa-cash-register","text-amber-500","text-2xl","mr-3"],["class","fixed inset-0 flex items-center justify-center z-50 backdrop-blur-md bg-black/30 px-4",4,"ngIf"],["class","fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 px-4",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/30 p-4 sm:p-6",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50","backdrop-blur-md","bg-black/30","px-4"],[1,"bg-white","rounded-xl","shadow-2xl","p-6","w-full","max-w-3xl","relative"],["aria-label","Cerrar modal",1,"absolute","top-3","right-3","text-gray-400","hover:text-red-600","transition","text-2xl","cursor-pointer",3,"click"],[1,"flex","items-center","justify-center"],[1,"fas","fa-utensils","text-amber-500","text-xl","mr-2"],[1,"text-xl","font-bold","text-gray-800","text-center"],[1,"text-gray-600","mb-6","text-sm","text-center","px-4","max-w-xl","mx-auto","leading-relaxed"],[1,"flex","flex-col","md:flex-row","justify-center","gap-4","px-4"],[1,"flex-1","min-w-[220px]","bg-amber-500","hover:bg-amber-600","text-white","py-3","px-4","rounded-md","flex","items-center","gap-3","transition","cursor-pointer",3,"click"],[1,"fas","fa-chart-line","text-lg"],[1,"text-left","leading-tight","text-sm"],[1,"font-semibold"],[1,"text-amber-100","text-xs"],[1,"flex-1","min-w-[220px]","bg-emerald-500","hover:bg-emerald-600","text-white","py-3","px-4","rounded-md","flex","items-center","gap-3","transition","cursor-pointer",3,"click"],[1,"fas","fa-boxes","text-lg"],[1,"text-emerald-100","text-xs"],[1,"fixed","inset-0","bg-black/40","backdrop-blur-sm","flex","items-center","justify-center","z-50","px-4"],[1,"bg-white","w-full","max-w-3xl","rounded-lg","shadow-xl","p-8","relative","max-h-[90vh]","overflow-y-auto"],["aria-label","Cerrar modal",1,"absolute","top-4","right-5","text-gray-400","hover:text-gray-800","text-3xl","font-bold","leading-none","cursor-pointer",3,"click"],[1,"text-2xl","font-extrabold","text-gray-900","mb-6"],[1,"space-y-6",3,"ngSubmit"],["class","grid md:grid-cols-2 gap-4 items-end",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex","justify-between","items-center","mt-6"],["type","button",1,"bg-gradient-to-r","from-gray-300","to-gray-400","hover:from-gray-400","hover:to-gray-500","text-gray-800","font-semibold","py-3","px-6","rounded-full","shadow","flex","items-center","gap-2","transition","duration-300","cursor-pointer","group",3,"click"],[1,"text-lg","group-hover:rotate-[15deg]","transition-transform","duration-200"],["type","submit",1,"bg-gradient-to-r","from-amber-500","to-yellow-500","hover:from-amber-600","hover:to-yellow-600","transition","duration-300","text-white","font-semibold","text-base","px-6","py-3","rounded-full","shadow-lg","flex","items-center","gap-2","group","cursor-pointer"],[1,"text-xl","group-hover:animate-pulse"],[1,"grid","md:grid-cols-2","gap-4","items-end"],[1,"relative","w-full"],["for","elemento",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","elemento","name","elemento","placeholder","Buscar por nombre...",1,"w-full","rounded-md","border","border-gray-300","shadow-sm","focus:border-amber-500","focus:ring","focus:ring-amber-200","px-3","py-3",3,"ngModelChange","input","blur","ngModel"],["class","absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",4,"ngIf"],["for","tipoPeriodo",1,"block","text-gray-700","font-semibold","mb-2"],["id","tipoPeriodo","name","tipoPeriodo","required","",1,"w-full","border","border-gray-300","rounded-md","p-3","focus:outline-none","focus:ring-2","focus:ring-amber-400","cursor-pointer",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","dia"],["value","semana"],["value","mes"],["value","anio"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-60","overflow-y-auto","scrollbar-thin","scrollbar-thumb-gray-300","scrollbar-track-gray-100"],["class","px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-0 flex items-center",3,"click","mousedown",4,"ngFor","ngForOf"],[1,"px-4","py-3","hover:bg-blue-50","cursor-pointer","border-b","border-gray-100","last:border-0","flex","items-center",3,"click","mousedown"],[1,"bg-blue-100","text-blue-800","rounded-full","w-8","h-8","flex","items-center","justify-center","mr-3","text-sm","font-medium"],[1,"font-medium"],[1,"w-full"],["for","dia",1,"block","text-gray-700","font-semibold","mb-2"],["type","date","id","dia","name","fecha","required","",1,"w-full","border","border-gray-300","rounded-md","p-3","focus:outline-none","focus:ring-2","focus:ring-amber-400","cursor-pointer",3,"ngModelChange","ngModel"],[1,"block","text-gray-700","font-semibold","mb-2"],[1,"grid","grid-cols-2","gap-4"],["id","mes","name","mes","required","",1,"w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-amber-400","cursor-pointer",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","anio","type","number","min","2000","max","2100","placeholder","Ej. 2025","name","anio","required","",1,"w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-amber-400",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"mt-4"],["for","semana",1,"block","text-gray-700","font-semibold","mb-2"],["id","semana","name","semanaSeleccionada","required","",1,"w-full","border","border-gray-300","rounded-md","p-3","focus:outline-none","focus:ring-2","focus:ring-amber-400","cursor-pointer",3,"ngModelChange","ngModel"],["for","mes",1,"block","mb-1"],["id","mes","name","mes","required","",1,"w-full","border","border-gray-300","rounded-md","p-2","cursor-pointer",3,"ngModelChange","ngModel"],["for","anio",1,"block","mb-1","text-gray-700","font-semibold"],["id","anio","type","number","min","2000","max","2100","placeholder","Ej. 2025","name","anio","required","",1,"w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-amber-400",3,"ngModelChange","ngModel"],["for","anio",1,"block","text-gray-700","font-semibold","mb-2"],["type","number","id","anio","min","2000","max","2100","name","anio","required","",1,"w-full","border","border-gray-300","rounded-md","p-3","focus:outline-none","focus:ring-2","focus:ring-amber-400",3,"ngModelChange","ngModel"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","backdrop-blur-sm","bg-black/30","p-4","sm:p-6"],[3,"mensaje"],[1,"bg-white","w-full","max-w-6xl","max-h-[95vh]","overflow-y-auto","rounded-3xl","shadow-2xl","relative","ring-1","ring-gray-200"],["aria-label","Cerrar modal",1,"absolute","top-4","right-6","text-white/80","hover:text-red-500","hover:bg-white/20","rounded-full","w-10","h-10","flex","items-center","justify-center","hover:scale-110","text-3xl","font-light","transition-all","duration-300","cursor-pointer",3,"click"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","px-6","py-6"],[1,"text-center","text-white","space-y-1"],[1,"text-3xl","md:text-4xl","font-bold"],[1,"text-base","md:text-lg","font-bold","tracking-wide","text-blue-100"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","px-6","py-4","border-b","border-gray-100","bg-gray-50","text-sm","text-center"],[1,"flex","flex-col","items-center","space-y-2"],[1,"w-10","h-10","bg-blue-100","text-blue-700","rounded-full","flex","items-center","justify-center","text-lg"],[1,"text-[11px]","text-gray-500","uppercase","font-semibold"],[1,"text-gray-800","font-medium"],[1,"w-10","h-10","bg-purple-100","text-purple-700","rounded-full","flex","items-center","justify-center","text-lg"],[1,"px-10","py-6"],[1,"flex","items-center","mb-6","justify-center"],[1,"w-9","h-9","bg-green-200","rounded-lg","flex","items-center","justify-center","mr-3","text-lg"],[1,"text-xl","font-bold","text-gray-900"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","xl:grid-cols-6","gap-4","justify-center"],[4,"ngFor","ngForOf"],[1,"text-xl","font-bold","text-gray-800","mb-6","flex","items-center","justify-center"],[1,"text-2xl","mr-2"],["class","text-center py-16 text-gray-500",4,"ngIf"],[1,"flex","justify-center","py-6","bg-gray-50","border-t","border-gray-200"],["aria-label","Exportar reporte en PDF",1,"bg-blue-600","text-white","px-6","py-2","rounded-full","shadow-md","hover:bg-blue-700","hover:scale-105","transform","transition","duration-300","ease-in-out","focus:outline-none","focus:ring-4","focus:ring-blue-300","cursor-pointer",3,"click"],[1,"bg-white","border","border-gray-200","rounded-xl","p-4","shadow-sm","hover:scale-[1.01]","hover:shadow-md","transition","duration-200","cursor-default","group","flex","flex-col","items-center","text-center","min-h-[100px]"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","mb-2","text-2xl","group-hover:bg-green-100",3,"ngClass"],[1,"text-[11px]","text-gray-500","uppercase","font-semibold","tracking-wide","leading-tight","mb-1","capitalize"],[1,"text-lg","font-bold","text-green-700","leading-tight"],[1,"bg-white","rounded-2xl","shadow-md","border","border-gray-200","overflow-hidden","max-h-[400px]"],[1,"overflow-x-auto","overflow-y-auto","max-h-[350px]","scrollbar-thin","scrollbar-thumb-blue-200","hover:scrollbar-thumb-blue-300","scrollbar-track-transparent"],[1,"min-w-full","text-sm","text-left"],[1,"bg-gray-50","text-gray-600","uppercase","text-[11px]","font-semibold","tracking-wide","border-b","border-gray-200"],[1,"px-6","py-3"],[1,"px-6","py-3","text-right"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"bg-gradient-to-r","from-gray-50","to-blue-50","px-6","py-4","border-t","border-gray-200"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","space-x-2"],[1,"w-6","h-6","bg-green-100","rounded-full","flex","items-center","justify-center","text-sm"],[1,"text-sm","font-semibold","text-gray-600"],[1,"text-xl","font-bold","text-green-600"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4"],[1,"px-6","py-4","font-medium"],[1,"inline-flex","items-center","gap-1","px-2.5","py-1","rounded-full","text-[11px]","font-semibold","capitalize",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"px-6","py-4","text-right","font-semibold","text-gray-900"],[1,"text-center","py-16","text-gray-500"],[1,"w-20","h-20","bg-gray-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4","text-3xl"],[1,"text-xl","font-semibold","mb-2"],[1,"text-sm","max-w-md","mx-auto"],[1,"bg-white","w-full","max-w-5xl","max-h-[95vh]","overflow-y-auto","rounded-3xl","shadow-2xl","relative","ring-1","ring-gray-200"],[1,"bg-gradient-to-r","from-pink-600","to-red-600","px-6","py-6","rounded-t-3xl"],[1,"text-base","md:text-lg","font-bold","tracking-wide","text-pink-100"],[1,"w-10","h-10","bg-pink-100","text-pink-700","rounded-full","flex","items-center","justify-center","text-lg"],[1,"w-10","h-10","bg-red-100","text-red-700","rounded-full","flex","items-center","justify-center","text-lg"],[1,"px-10","py-6","flex","justify-center","border-t","border-gray-200","bg-gray-50"],["aria-label","Exportar PDF",1,"group","text-green-600","border","border-green-300","bg-white","px-6","py-2","rounded-full","text-sm","shadow-sm","transition","duration-300","cursor-pointer","flex","items-center","gap-2","hover:bg-green-50","hover:shadow-md",3,"click"],[1,"transition-transform","duration-300","group-hover:-translate-y-1","text-lg"],[1,"bg-white","rounded-2xl","shadow-md","border","border-gray-200","overflow-hidden"],[1,"overflow-x-auto","overflow-y-auto","max-h-[350px]","scrollbar-thin","scrollbar-thumb-pink-200","hover:scrollbar-thumb-pink-300","scrollbar-track-transparent"],[1,"px-6","py-3","text-center"],[1,"px-6","py-4","font-medium","text-gray-800"],[1,"px-6","py-4","text-center"],[1,"bg-white","rounded-2xl","shadow-2xl","p-8","w-full","max-w-4xl","space-y-6","relative"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","text-gray-800","flex","items-center","gap-3"],[1,"fas","fa-boxes","text-emerald-500"],["aria-label","Cerrar modal",1,"text-red-500","hover:text-red-600","text-3xl","font-bold","transition","cursor-pointer",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","bg-gray-50","p-4","rounded-lg","shadow-inner"],["for","categoria",1,"block","text-sm","font-semibold","text-gray-700","mb-1"],["id","categoria","name","categoria",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","text-sm","focus:ring-amber-500","focus:border-amber-500",3,"ngModelChange","ngModel"],["value",""],["for","estadoStock",1,"block","text-sm","font-semibold","text-gray-700","mb-1"],["id","estadoStock","name","estadoStock",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","text-sm","focus:ring-amber-500","focus:border-amber-500",3,"ngModelChange","ngModel"],["value","critico"],["value","agotado"],["value","suficiente"],[1,"flex","items-end"],[1,"w-full","bg-amber-600","hover:bg-amber-700","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","shadow","cursor-pointer",3,"click"],[1,"fas","fa-search","mr-2"],["class","overflow-x-auto overflow-y-auto max-h-[400px] scrollbar-thin scrollbar-thumb-emerald-300 hover:scrollbar-thumb-emerald-400 scrollbar-track-transparent rounded-lg border border-gray-200",4,"ngIf"],["class","flex justify-end pt-4",4,"ngIf"],[1,"overflow-x-auto","overflow-y-auto","max-h-[400px]","scrollbar-thin","scrollbar-thumb-emerald-300","hover:scrollbar-thumb-emerald-400","scrollbar-track-transparent","rounded-lg","border","border-gray-200"],[1,"min-w-full","divide-y","divide-gray-200","rounded-lg"],[1,"bg-emerald-100","text-emerald-800"],[1,"px-6","py-3","text-left","text-xs","font-bold","uppercase"],[1,"bg-white","divide-y","divide-gray-100"],[3,"bg-red-50","bg-amber-50",4,"ngFor","ngForOf"],[1,"px-6","py-4","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","text-sm","text-gray-600"],["colspan","5",1,"px-6","py-4","text-center","text-sm","text-gray-500"],[1,"flex","justify-end","pt-4"],[1,"bg-emerald-600","hover:bg-emerald-700","text-white","px-5","py-2","rounded-md","text-sm","font-semibold","shadow","cursor-pointer",3,"click"],[1,"fas","fa-file-pdf","mr-2"],[1,"bg-gradient-to-r","from-indigo-600","to-purple-600","px-6","py-6"],[1,"text-base","md:text-lg","font-bold","tracking-wide","text-indigo-200"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","px-6","py-4","border-b","border-gray-100","bg-gray-50","text-sm","text-center"],[1,"w-10","h-10","bg-indigo-100","text-indigo-700","rounded-full","flex","items-center","justify-center","text-lg"],[1,"w-10","h-10","bg-yellow-100","text-yellow-700","rounded-full","flex","items-center","justify-center","text-lg"],["aria-label","Exportar reporte en PDF",1,"bg-indigo-600","text-white","px-6","py-2","rounded-full","shadow-md","hover:bg-indigo-700","hover:scale-105","transform","transition","duration-300","ease-in-out","focus:outline-none","focus:ring-4","focus:ring-indigo-300","cursor-pointer",3,"click"],[1,"overflow-x-auto","overflow-y-auto","max-h-[350px]","scrollbar-thin","scrollbar-thumb-indigo-400","hover:scrollbar-thumb-indigo-500","scrollbar-track-transparent"],[1,"bg-gradient-to-r","from-gray-50","to-indigo-50","px-6","py-4","border-t","border-gray-200"],[1,"w-6","h-6","bg-indigo-100","rounded-full","flex","items-center","justify-center","text-sm"],[1,"text-xl","font-bold","text-indigo-600"],[1,"px-6","py-4","capitalize"],[1,"px-6","py-4","text-right","font-semibold","text-indigo-700"],[1,"bg-white","w-full","max-w-5xl","max-h-[90vh]","overflow-y-auto","rounded-3xl","shadow-2xl","relative","ring-1","ring-gray-200"],[1,"bg-gradient-to-r","from-indigo-600","to-purple-700","px-6","py-6"],[1,"text-base","md:text-lg","font-semibold","tracking-wide","text-indigo-200"],[1,"grid","grid-cols-1","sm:grid-cols-5","gap-4","px-8","py-6","border-b","border-gray-100","bg-gray-50","text-center"],[1,"text-xs","font-semibold","text-gray-500","uppercase"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-red-600"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-2xl","font-bold","text-yellow-600"],[1,"text-3xl","font-extrabold",3,"ngClass"],[1,"px-8","py-6","border-b","border-gray-100"],[1,"text-xl","font-bold","text-gray-800","mb-2","flex","items-center","gap-2"],[1,"text-sm","text-gray-500","mb-4"],[1,"font-semibold","text-indigo-700","mb-2"],["class","overflow-x-auto max-h-40 scrollbar-thin scrollbar-thumb-indigo-300 hover:scrollbar-thumb-indigo-400 scrollbar-track-transparent",4,"ngIf"],["class","text-gray-500 text-center py-6",4,"ngIf"],[1,"mt-6"],[1,"font-semibold","text-blue-700","mb-2"],["class","overflow-x-auto max-h-40 scrollbar-thin scrollbar-thumb-blue-300 hover:scrollbar-thumb-blue-400 scrollbar-track-transparent",4,"ngIf"],[1,"px-8","py-6","border-b","border-gray-100","bg-yellow-50","rounded-lg","mt-6"],[1,"text-xl","font-bold","text-gray-800","mb-4","flex","items-center","gap-2"],[1,"text-sm","text-yellow-800","mb-4"],["class","overflow-x-auto max-h-48 scrollbar-thin scrollbar-thumb-yellow-400 hover:scrollbar-thumb-yellow-500 scrollbar-track-transparent",4,"ngIf"],["class","text-yellow-800 text-center py-6",4,"ngIf"],[1,"px-8","py-6","border-b","border-gray-100","mt-6"],[1,"text-sm","text-gray-600","mb-4"],["class","overflow-x-auto max-h-48 scrollbar-thin scrollbar-thumb-red-300 hover:scrollbar-thumb-red-400 scrollbar-track-transparent",4,"ngIf"],[1,"overflow-x-auto","max-h-40","scrollbar-thin","scrollbar-thumb-indigo-300","hover:scrollbar-thumb-indigo-400","scrollbar-track-transparent"],[1,"bg-indigo-50","text-indigo-600","uppercase","text-xs","font-semibold"],[1,"px-4","py-2"],[1,"px-4","py-2","text-right"],["class","hover:bg-indigo-100",4,"ngFor","ngForOf"],[1,"hover:bg-indigo-100"],[1,"px-4","py-2","text-right","font-semibold","text-green-700"],[1,"text-gray-500","text-center","py-6"],[1,"overflow-x-auto","max-h-40","scrollbar-thin","scrollbar-thumb-blue-300","hover:scrollbar-thumb-blue-400","scrollbar-track-transparent"],[1,"bg-blue-50","text-blue-600","uppercase","text-xs","font-semibold"],["class","hover:bg-blue-100",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100"],[1,"px-4","py-2","font-medium"],[1,"px-4","py-2","text-right","font-semibold","text-blue-700"],[1,"overflow-x-auto","max-h-48","scrollbar-thin","scrollbar-thumb-yellow-400","hover:scrollbar-thumb-yellow-500","scrollbar-track-transparent"],[1,"bg-yellow-100","text-yellow-700","uppercase","text-xs","font-semibold"],["class","hover:bg-yellow-200",4,"ngFor","ngForOf"],[1,"hover:bg-yellow-200"],[1,"px-4","py-2","text-right","font-semibold","text-yellow-700"],[1,"text-yellow-800","text-center","py-6"],[1,"overflow-x-auto","max-h-48","scrollbar-thin","scrollbar-thumb-red-300","hover:scrollbar-thumb-red-400","scrollbar-track-transparent"],[1,"bg-red-50","text-red-600","uppercase","text-xs","font-semibold"],["class","hover:bg-red-100",4,"ngFor","ngForOf"],[1,"hover:bg-red-100"],[1,"px-4","py-2","text-right","font-semibold","text-red-700"]],template:function(t,l){t&1&&(o(0,"div",1)(1,"h2",2),n(2,"Selecciona el tipo de reporte"),i(),o(3,"div",3)(4,"div",4),S("click",function(){return l.abrirModal("ventas")}),o(5,"div",5),w(6,"i",6),o(7,"h3",7),n(8,"Reporte de Ventas"),i()(),o(9,"p",8),n(10,"Consulta las ventas por periodos."),i()(),o(11,"div",4),S("click",function(){return l.abrirModal("productos")}),o(12,"div",5),w(13,"i",9),o(14,"h3",7),n(15,"Reporte de Productos"),i()(),o(16,"p",8),n(17,"Consulta los productos m\xE1s vendidos o con menos stock."),i()(),o(18,"div",4),S("click",function(){return l.abrirModal("personal")}),o(19,"div",5),w(20,"i",10),o(21,"h3",7),n(22,"Reporte de Personal"),i()(),o(23,"p",8),n(24,"Consulta los adelantos y pagos de salarios del equipo."),i()(),o(25,"div",4),S("click",function(){return l.abrirModal("movimientosCaja")}),o(26,"div",5),w(27,"i",11),o(28,"h3",7),n(29,"Reporte de Movimientos de Caja"),i()(),o(30,"p",8),n(31," Registro de todos los ingresos y egresos de dinero en la caja. "),i()()()(),v(32,$e,25,0,"div",12)(33,ot,26,8,"div",13)(34,it,2,1,"div",14)(35,yt,48,13,"div",14)(36,Ct,2,1,"div",14)(37,Ft,38,10,"div",13)(38,Vt,35,6,"div",13)(39,At,2,1,"div",14)(40,Ot,47,11,"div",14)(41,Lt,2,1,"div",14)(42,Zt,73,33,"div",14)),t&2&&(a(32),d("ngIf",l.mostrarModalSeleccionProductos),a(),d("ngIf",l.modalAbierto),a(),d("ngIf",l.cargandoVentas),a(),d("ngIf",l.mostrarModalResultados&&!l.cargandoVentas),a(),d("ngIf",l.cargandoProductos),a(),d("ngIf",l.mostrarModalProductosMasVendidos&&!l.cargandoProductos),a(),d("ngIf",l.mostrarModalStock),a(),d("ngIf",l.cargandoClientes),a(),d("ngIf",l.mostrarModalGastos&&!l.cargandoClientes),a(),d("ngIf",l.cargandoCaja),a(),d("ngIf",l.modalReporteCajaAbierto&&!l.cargandoCaja))},dependencies:[_e,le,de,ce,me,pe,ue,ge,he,fe,xe,Ie,we,Pe,Te,ve,De,Fe,Se,ye,Re,Me,ke,Ee,Ce,X],styles:[".scroll-thin[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}.scroll-thin[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.scroll-thin[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#64748b4d;border-radius:9999px;border:2px solid transparent;background-clip:content-box}.scroll-thin[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#64748b80}"]})};function eo(r){let e=r.toLowerCase().replace(/\(.*?\)/g,"").replace(/-?\s*para llevar/gi,"").trim();return e.includes("almuerzo")||e.includes("solo segundo")||e.includes("solo sopa")||e.includes("media sopa")||e.includes("segundo")||e.includes("sopa")?"Almuerzo completo":e}export{Z as default};
