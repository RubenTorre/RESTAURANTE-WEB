import{c as U,d as D,e as G,f as q,g as H,h as K,i as J,k as Q,l as X,m as Y,o as Z,p as $,r as ee}from"./chunk-V4S5BHXF.js";import{a as re}from"./chunk-IY34DK4E.js";import{Ab as x,Bb as f,Bc as te,Ca as s,Fb as F,Ha as V,Kb as L,Lb as B,Ma as T,Qa as h,Xa as p,Za as R,aa as g,ba as m,ca as E,da as P,db as i,eb as r,fb as b,gc as j,hc as N,ic as A,jb as y,kb as u,lb as c,pb as W,tc as z,uc as O,vb as a,wb as C,xb as k,yb as S,zb as _}from"./chunk-YGAPY4LI.js";import"./chunk-LMZWYZYD.js";import{a as M,h as ie,j as v}from"./chunk-K4ALXBGI.js";var w=ie(re());var oe=(d,n)=>({"bg-green-100 text-green-800":d,"bg-red-100 text-red-800":n});function ne(d,n){if(d&1&&(i(0,"option",34),a(1),r()),d&2){let e=n.$implicit;p("value",e),s(),k(" ",e," ")}}function ae(d,n){if(d&1&&(i(0,"th",35),a(1),r()),d&2){let e=n.$implicit;s(),k(" ",e.label," ")}}function le(d,n){if(d&1){let e=y();i(0,"tr",36)(1,"td",37),a(2),r(),i(3,"td",38),a(4),r(),i(5,"td",39)(6,"span",40),a(7),r()(),i(8,"td",38),a(9),L(10,"currency"),r(),i(11,"td",39)(12,"span",41),a(13),r()(),i(14,"td",42)(15,"button",43),u("click",function(){let t=g(e).$implicit,l=c();return m(l.abrirModalEditar(t))}),a(16,"Editar"),r(),i(17,"button",44),u("click",function(){let t=g(e).$implicit,l=c();return m(l.confirmarEliminar(t.id))}),a(18,"Eliminar"),r()()()}if(d&2){let e=n.$implicit;s(2),C(e.nombre),s(2),C(e.categorias==null?null:e.categorias.nombre),s(2),p("ngClass",F(10,oe,e.stock_actual>e.stock_minimo,e.stock_actual<=e.stock_minimo)),s(),S(" ",e.stock_actual," / ",e.stock_minimo," "),s(2),C(B(10,8,e.costo_unitario)),s(3),p("ngClass",e.activo?"text-green-700 font-semibold":"text-red-700 font-semibold"),s(),k(" ",e.activo?"Disponible":"No disponible"," ")}}function se(d,n){if(d&1){let e=y();i(0,"tr",65)(1,"td",66),a(2),r(),i(3,"td",67),a(4),r(),i(5,"td",68)(6,"button",69),u("click",function(){let t=g(e).$implicit,l=c(2);return m(l.abrirModalEditarCategoria(t))}),a(7," Editar "),r()()()}if(d&2){let e=n.$implicit;s(2),C(e.nombre),s(2),C(e.descripcion||"-")}}function de(d,n){if(d&1){let e=y();i(0,"div",45)(1,"div",46)(2,"button",47),u("click",function(){g(e);let t=c();return m(t.cerrarModalCategorias())}),b(3,"i",48),r(),i(4,"div",49)(5,"h2",50),a(6,"Categor\xEDas"),r()(),i(7,"div",51)(8,"button",52),u("click",function(){g(e);let t=c();return m(t.abrirModalAgregarCategoria())}),b(9,"i",53),a(10,"Agregar categor\xEDa "),r()(),i(11,"div",54)(12,"table",55)(13,"thead",56)(14,"tr")(15,"th",57),a(16,"Nombre"),r(),i(17,"th",57),a(18,"Descripci\xF3n"),r(),i(19,"th",58),a(20,"Acciones"),r()()(),i(21,"tbody"),h(22,se,8,2,"tr",59),r()()(),i(23,"div",60)(24,"button",61),u("click",function(){g(e);let t=c();return m(t.cambiarPagina(-1))}),b(25,"i",62),r(),i(26,"span",63),a(27),r(),i(28,"button",61),u("click",function(){g(e);let t=c();return m(t.cambiarPagina(1))}),b(29,"i",64),r()()()()}if(d&2){let e=c();s(22),p("ngForOf",e.categoriasPaginadas),s(2),p("disabled",e.currentPage===1),s(3),S("",e.currentPage," de ",e.totalPages(),""),s(),p("disabled",e.currentPage===e.totalPages())}}function ce(d,n){if(d&1&&(i(0,"div",87),b(1,"i",88),a(2),r()),d&2){let e=c(2);s(2),k("",e.errorCategoria," ")}}function ge(d,n){if(d&1){let e=y();i(0,"div",70)(1,"div",71)(2,"button",72),u("click",function(){g(e);let t=c();return m(t.cerrarModalAgregarCategoria())}),b(3,"i",73),r(),i(4,"div",74)(5,"h3",75),a(6,"Agregar categor\xEDa"),r()(),i(7,"div",76),h(8,ce,3,1,"div",77),i(9,"div",78)(10,"label",79),a(11,"Nombre "),i(12,"span",80),a(13,"*"),r()(),i(14,"input",81),f("ngModelChange",function(t){g(e);let l=c();return x(l.nuevaCategoria.nombre,t)||(l.nuevaCategoria.nombre=t),m(t)}),r()(),i(15,"div",78)(16,"label",79),a(17,"Descripci\xF3n"),r(),i(18,"textarea",82),f("ngModelChange",function(t){g(e);let l=c();return x(l.nuevaCategoria.descripcion,t)||(l.nuevaCategoria.descripcion=t),m(t)}),r()()(),i(19,"div",83)(20,"button",84),u("click",function(){g(e);let t=c();return m(t.cerrarModalAgregarCategoria())}),a(21," Cancelar "),r(),i(22,"button",85),u("click",function(){g(e);let t=c();return m(t.guardarCategoria())}),b(23,"i",86),a(24," Guardar "),r()()()()}if(d&2){let e=c();s(8),p("ngIf",e.errorCategoria),s(6),_("ngModel",e.nuevaCategoria.nombre),s(4),_("ngModel",e.nuevaCategoria.descripcion)}}function me(d,n){if(d&1){let e=y();i(0,"div",45)(1,"div",89)(2,"button",47),u("click",function(){g(e);let t=c();return m(t.cerrarModalEditarCategoria())}),b(3,"i",48),r(),i(4,"div",49)(5,"h2",50),a(6,"Editar Categor\xEDa"),r()(),i(7,"div",90)(8,"form",91),u("ngSubmit",function(){g(e);let t=c();return m(t.guardarEdicionCategoria())}),i(9,"div",92)(10,"label",93),a(11,"Nombre"),r(),i(12,"input",94),f("ngModelChange",function(t){g(e);let l=c();return x(l.categoriaEditando.nombre,t)||(l.categoriaEditando.nombre=t),m(t)}),r()(),i(13,"div",92)(14,"label",95),a(15,"Descripci\xF3n"),r(),i(16,"input",96),f("ngModelChange",function(t){g(e);let l=c();return x(l.categoriaEditando.descripcion,t)||(l.categoriaEditando.descripcion=t),m(t)}),r()(),i(17,"div",97)(18,"button",98),u("click",function(){g(e);let t=c();return m(t.cerrarModalEditarCategoria())}),a(19," Cancelar "),r(),i(20,"button",99),a(21," Guardar Cambios "),r()()()()()()}if(d&2){let e=c();s(12),_("ngModel",e.categoriaEditando.nombre),s(4),_("ngModel",e.categoriaEditando.descripcion)}}function ue(d,n){if(d&1&&(i(0,"div",137),b(1,"i",138),a(2),r()),d&2){let e=c(2);s(2),k("",e.error," ")}}function pe(d,n){if(d&1&&(i(0,"option",139),a(1),r()),d&2){let e=n.$implicit;p("value",e.id),s(),C(e.nombre)}}function be(d,n){if(d&1){let e=y();i(0,"div",124)(1,"div")(2,"label",111),a(3,"Peso total *"),r(),i(4,"div",113)(5,"input",140),f("ngModelChange",function(t){g(e);let l=c(2);return x(l.pesoTotal,t)||(l.pesoTotal=t),m(t)}),u("input",function(){g(e);let t=c(2);return m(t.calcularCostoUnitario())}),r(),i(6,"div",128)(7,"span",141),a(8),r()()()(),i(9,"div")(10,"label",111),a(11,"Gramos por corte *"),r(),i(12,"div",113)(13,"input",142),f("ngModelChange",function(t){g(e);let l=c(2);return x(l.gramosPorUnidad,t)||(l.gramosPorUnidad=t),m(t)}),u("input",function(){g(e);let t=c(2);return m(t.calcularCostoUnitario())}),r(),i(14,"div",128)(15,"span",141),a(16,"g"),r()()()()()}if(d&2){let e=c(2);s(5),_("ngModel",e.pesoTotal),s(3),C(e.unidad==="kg"?"kg":"lb"),s(5),_("ngModel",e.gramosPorUnidad)}}function _e(d,n){if(d&1&&(i(0,"div",143),a(1),r()),d&2){let e=c(2);s(),k(" Costo por corte de ",e.gramosPorUnidad||0,"g ")}}function xe(d,n){d&1&&(i(0,"div",143),a(1," Costo por unidad individual "),r())}function fe(d,n){if(d&1){let e=y();i(0,"div",100)(1,"div",101)(2,"div",102)(3,"h3",103),b(4,"i",104),a(5,"Registrar Producto "),r(),i(6,"button",105),u("click",function(){g(e);let t=c();return m(t.cerrarModalRegistroProducto())}),b(7,"i",106),r()(),i(8,"div",107)(9,"form",91),u("ngSubmit",function(){g(e);let t=c();return m(t.registrarProducto())}),h(10,ue,3,1,"div",108),i(11,"div",109)(12,"div",110)(13,"label",111),a(14,"Nombre *"),r(),i(15,"input",112),f("ngModelChange",function(t){g(e);let l=c();return x(l.nombre,t)||(l.nombre=t),m(t)}),r()(),i(16,"div")(17,"label",111),a(18,"Categor\xEDa *"),r(),i(19,"div",113)(20,"select",114),f("ngModelChange",function(t){g(e);let l=c();return x(l.categoria_id,t)||(l.categoria_id=t),m(t)}),i(21,"option",115),a(22,"Seleccionar..."),r(),h(23,pe,2,2,"option",116),r(),i(24,"div",117),b(25,"i",118),r()()(),i(26,"div")(27,"label",111),a(28,"Unidad *"),r(),i(29,"select",119),f("ngModelChange",function(t){g(e);let l=c();return x(l.unidad,t)||(l.unidad=t),m(t)}),u("change",function(){g(e);let t=c();return m(t.calcularCostoUnitario())}),i(30,"option",15),a(31,"Seleccionar..."),r(),i(32,"option",120),a(33,"Libra"),r(),i(34,"option",121),a(35,"Unidad"),r(),i(36,"option",122),a(37,"Litro"),r()()()(),h(38,be,17,3,"div",123),i(39,"div",124)(40,"div")(41,"label",111),a(42,"Costo total *"),r(),i(43,"div",113)(44,"span",125),a(45,"$"),r(),i(46,"input",126),f("ngModelChange",function(t){g(e);let l=c();return x(l.costo_total,t)||(l.costo_total=t),m(t)}),u("input",function(){g(e);let t=c();return m(t.calcularCostoUnitario())}),r()()(),i(47,"div")(48,"label",111),a(49,"Stock actual *"),r(),i(50,"div",113)(51,"input",127),f("ngModelChange",function(t){g(e);let l=c();return x(l.stock_actual,t)||(l.stock_actual=t),m(t)}),u("input",function(){g(e);let t=c();return m(t.calcularCostoUnitario())}),r(),i(52,"div",128),E(),i(53,"svg",129),b(54,"path",130),r()()()()(),P(),i(55,"div",131)(56,"label",111),a(57,"Costo unitario *"),r(),i(58,"div",113)(59,"span",125),a(60,"$"),r(),i(61,"input",132),f("ngModelChange",function(t){g(e);let l=c();return x(l.costo_unitario,t)||(l.costo_unitario=t),m(t)}),r()(),h(62,_e,2,1,"div",133)(63,xe,2,0,"div",133),r(),i(64,"div",134)(65,"button",135),b(66,"i",136),i(67,"span"),a(68),r()()()()()()()}if(d&2){let e=c();s(10),p("ngIf",e.error),s(5),_("ngModel",e.nombre),s(5),_("ngModel",e.categoria_id),s(3),p("ngForOf",e.categorias),s(6),_("ngModel",e.unidad),s(9),p("ngIf",e.unidad==="kg"||e.unidad==="lb"),s(8),_("ngModel",e.costo_total),s(5),R("bg-gray-100",e.unidad==="kg"||e.unidad==="lb"),W("placeholder","Ej: ",e.unidad==="kg"||e.unidad==="lb"?"100 (cortes)":"100.5",""),_("ngModel",e.stock_actual),p("readonly",e.unidad==="kg"||e.unidad==="lb")("min",e.unidad==="kg"||e.unidad==="lb"?"1":"0.1")("step",e.unidad==="kg"||e.unidad==="lb"?"1":"0.1"),s(10),_("ngModel",e.costo_unitario),s(),p("ngIf",e.unidad==="kg"||e.unidad==="lb"),s(),p("ngIf",e.unidad==="cantidad"),s(2),p("disabled",e.isLoading),s(3),C(e.isLoading?"Guardando...":"Guardar")}}function he(d,n){if(d&1){let e=y();i(0,"div",100)(1,"div",144),u("click",function(){g(e);let t=c();return m(t.cerrarModalEditar())}),r(),i(2,"div",145)(3,"div",146)(4,"h2",103),b(5,"i",147),a(6,"Editar Producto "),r(),i(7,"button",148),u("click",function(){g(e);let t=c();return m(t.cerrarModalEditar())}),b(8,"i",106),r()(),i(9,"div",149)(10,"form",150),u("ngSubmit",function(){g(e);let t=c();return m(t.guardarCambiosProducto())}),i(11,"div")(12,"label",151),a(13,"Nombre del Producto *"),r(),i(14,"input",152),f("ngModelChange",function(t){g(e);let l=c();return x(l.productoEditando.nombre,t)||(l.productoEditando.nombre=t),m(t)}),r()(),i(15,"div")(16,"label",153),a(17,"Stock Actual *"),r(),i(18,"input",154),f("ngModelChange",function(t){g(e);let l=c();return x(l.productoEditando.stock_actual,t)||(l.productoEditando.stock_actual=t),m(t)}),r()(),i(19,"div",155)(20,"button",156),u("click",function(){g(e);let t=c();return m(t.cerrarModalEditar())}),a(21,`
Cancelar
`),r(),i(22,"button",157),b(23,"i",158),a(24,`Guardar
`),r()()()()()()}if(d&2){let e=c();s(14),_("ngModel",e.productoEditando.nombre),s(4),_("ngModel",e.productoEditando.stock_actual)}}var I=class d{constructor(n){this.supabaseService=n}products=[];filteredProducts=[];searchTerm="";selectedCategory="";categories=[];nombre="";descripcion="";error="";isLoading=!1;mostrarModalCategorias=!1;mostrarModalAgregarCategoria=!1;nuevaCategoria={nombre:"",descripcion:""};errorCategoria="";categorias=[];categoria_id="";mostrarModalEditar=!1;productoEditando={};columns=[{key:"nombre",label:"Producto"},{key:"categoria",label:"Categor\xEDa"},{key:"stock",label:"Stock"},{key:"precio",label:"Precio"},{key:"estado",label:"Estado"}];currentPage=1;itemsPerPage=5;unidad="";categoria="";stock_actual=0;stock_minimo=5;costo_unitario=0;activo=!0;mostrarModalRegistroProducto=!1;mostrarModalEditarCategoria=!1;categoriaEditando={};pesoTotal=0;gramosPorUnidad=0;costoTotal=0;costo_total=0;sobranteGramos=0;ngOnInit(){return v(this,null,function*(){yield this.loadProducts();try{let n=yield this.supabaseService.obtenerCategorias();this.categorias=n}catch(n){console.error(n)}})}cerrarModalCategorias(){this.mostrarModalCategorias=!1}abrirModalAgregarCategoria(){this.mostrarModalAgregarCategoria=!0}cerrarModalAgregarCategoria(){this.mostrarModalAgregarCategoria=!1,this.nuevaCategoria={nombre:"",descripcion:""},this.errorCategoria=""}loadCategorias(){return v(this,null,function*(){try{let n=yield this.supabaseService.obtenerCategorias();this.categorias=n}catch(n){console.error("Error al cargar las categor\xEDas:",n)}})}guardarCategoria(){return v(this,null,function*(){if(!this.nuevaCategoria.nombre.trim()){this.errorCategoria="El nombre es obligatorio.";return}try{yield this.supabaseService.agregarCategoria(this.nuevaCategoria),this.categorias=yield this.supabaseService.obtenerCategorias(),this.cerrarModalAgregarCategoria(),w.default.fire({icon:"success",title:"\xA1Categor\xEDa agregada!",text:"La categor\xEDa se agreg\xF3 correctamente.",confirmButtonColor:"#000"})}catch(n){this.errorCategoria=n.message}})}get categoriasPaginadas(){let n=(this.currentPage-1)*this.itemsPerPage,e=n+this.itemsPerPage;return this.categorias.slice(n,e)}paginatedProducts(){let n=[...this.filteredProducts].sort((t,l)=>t.activo===l.activo?0:t.activo?1:-1),e=(this.currentPage-1)*this.itemsPerPage,o=e+this.itemsPerPage;return n.slice(e,o)}totalPages(){return Math.ceil(this.filteredProducts.length/this.itemsPerPage)}cambiarPagina(n){let e=this.currentPage+n;e>=1&&e<=this.totalPages()&&(this.currentPage=e)}loadProducts(){return v(this,null,function*(){try{let n=yield this.supabaseService.obtenerProductos();this.products=n||[],console.log(n),this.filteredProducts=[...this.products],this.categories=[...new Set(this.products.map(e=>e.categorias?.nombre))]}catch(n){console.error("Error loading products:",n)}})}applyFilter(){this.filteredProducts=this.products.filter(n=>{let e=n.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())||n.categorias?.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()),o=!this.selectedCategory||n.categorias?.nombre===this.selectedCategory;return e&&o})}abrirModalEditar(n){this.productoEditando=M({},n),this.mostrarModalEditar=!0}cerrarModalEditar(){this.mostrarModalEditar=!1}guardarCambiosProducto(){return v(this,null,function*(){try{yield this.supabaseService.editarProducto(this.productoEditando.id,{nombre:this.productoEditando.nombre,stock_actual:this.productoEditando.stock_actual}),yield w.default.fire({icon:"success",title:"\xA1Producto actualizado!",confirmButtonColor:"#facc15"}),this.cerrarModalEditar(),this.loadProducts()}catch(n){console.error("Error actualizando producto:",n),yield w.default.fire({icon:"error",title:"Error",text:"No se pudo actualizar el producto.",confirmButtonColor:"#facc15"})}})}confirmarEliminar(n){return v(this,null,function*(){(yield w.default.fire({title:"\xBFEst\xE1s seguro?",text:"\xA1Esta acci\xF3n no se puede deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f87171",cancelButtonColor:"#d1d5db",confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(yield this.supabaseService.eliminarProducto(n),yield w.default.fire({icon:"success",title:"\xA1Producto desactivado!",confirmButtonColor:"#facc15"}),this.loadProducts())})}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage*this.itemsPerPage<this.products.length&&this.currentPage++}registrarCategoria(){return v(this,null,function*(){if(!this.nombre){this.error="El nombre es obligatorio";return}this.isLoading=!0,this.error="";try{yield this.supabaseService.agregarCategoria({nombre:this.nombre,descripcion:this.descripcion}),alert("Categor\xEDa registrada"),this.nombre="",this.descripcion=""}catch(n){this.error=n.message}finally{this.isLoading=!1}})}abrirModalEditarCategoria(n){this.categoriaEditando=M({},n),this.mostrarModalEditarCategoria=!0}cerrarModalEditarCategoria(){this.mostrarModalEditarCategoria=!1}guardarEdicionCategoria(){return v(this,null,function*(){try{yield this.supabaseService.editarCategoria(this.categoriaEditando.id,{nombre:this.categoriaEditando.nombre,descripcion:this.categoriaEditando.descripcion}),yield w.default.fire({icon:"success",title:"\xA1Categor\xEDa actualizada!",confirmButtonColor:"#facc15"}),this.cerrarModalEditarCategoria(),this.loadCategorias()}catch(n){console.error("Error actualizando categor\xEDa:",n),yield w.default.fire({icon:"error",title:"Error",text:"No se pudo actualizar la categor\xEDa.",confirmButtonColor:"#facc15"})}})}abrirModalRegistroProducto(){this.mostrarModalRegistroProducto=!0}cerrarModalRegistroProducto(){this.mostrarModalRegistroProducto=!1,this.limpiarFormulario()}registrarProducto(){return v(this,null,function*(){if(!this.nombre||!this.unidad||!this.categoria_id||this.stock_actual<=0||this.costo_unitario<=0){this.error="Por favor, completa todos los campos correctamente.";return}this.isLoading=!0,this.error="";let n={nombre:this.nombre,unidad:this.unidad,categoria_id:this.categoria_id,stock_actual:this.stock_actual,stock_minimo:this.stock_minimo,costo_unitario:this.costo_unitario,activo:this.activo};try{yield this.supabaseService.agregarProducto(n),w.default.fire({icon:"success",title:"\xA1Producto registrado con \xE9xito!",text:"El producto se ha registrado correctamente.",confirmButtonText:"Aceptar"}).then(()=>{this.cerrarModalRegistroProducto(),this.loadProducts()}),this.limpiarFormulario()}catch(e){e instanceof Error?this.error=e.message:this.error="Ocurri\xF3 un error inesperado"}finally{this.isLoading=!1}})}limpiarFormulario(){this.nombre="",this.unidad="",this.categoria="",this.stock_actual=0,this.stock_minimo=5,this.costo_unitario=0,this.activo=!0,this.costo_total=0}calcularCostoUnitario(){if(this.costo_unitario=0,this.sobranteGramos=0,this.unidad==="kg"||this.unidad==="lb"){this.stock_actual=0;let o=this.unidad==="kg"?this.pesoTotal*1e3:this.pesoTotal*453.592;this.gramosPorUnidad>0&&(this.stock_actual=Math.floor(o/this.gramosPorUnidad),this.sobranteGramos=o%this.gramosPorUnidad),this.stock_actual>0&&this.costo_total>0&&(this.costo_unitario=Number((this.costo_total/this.stock_actual).toFixed(2)))}else this.unidad==="cantidad"&&this.stock_actual>0&&this.costo_total>0&&(this.costo_unitario=Number((this.costo_total/this.stock_actual).toFixed(2)))}static \u0275fac=function(e){return new(e||d)(V(te))};static \u0275cmp=T({type:d,selectors:[["app-inventario"]],decls:45,vars:14,consts:[[1,"min-h-screen","bg-white","text-black","flex","flex-col","md:flex-row"],[1,"flex-1","p-4","md:p-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4","mb-6"],[1,"text-3xl","font-bold","text-black"],[1,"flex","gap-3","flex-wrap"],[1,"flex","items-center","gap-2","px-6","py-3","bg-[#FF9800]","text-white","rounded-lg","hover:bg-[#FB8C00]","transition","cursor-pointer",3,"click"],[1,"fas","fa-box"],[1,"flex","items-center","gap-2","px-6","py-3","bg-[#FFC107]","text-black","rounded-lg","hover:bg-[#FFB300]","transition","cursor-pointer",3,"click"],[1,"bi","bi-tags-fill"],[1,"bg-gray-100","rounded-xl","shadow-lg","p-4","mb-6"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"flex-1","relative"],["type","text","placeholder","Buscar productos...",1,"w-full","pl-10","pr-4","py-2","border","border-black","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-black","text-black","bg-white","placeholder-gray-500",3,"ngModelChange","input","ngModel"],[1,"fas","fa-search","absolute","left-3","top-3","text-gray-600"],["title","categor\xEDa",1,"px-4","py-2","border","border-black","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-black","text-black","bg-white",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"bg-gray-100","rounded-xl","shadow-lg","overflow-x-auto"],[1,"min-w-full","divide-y","divide-black"],[1,"tabla-encabezado"],["class","px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide",4,"ngFor","ngForOf"],[1,"px-6","py-3"],[1,"divide-y","divide-black"],["class","hover:bg-gray-200 transition duration-200",4,"ngFor","ngForOf"],[1,"mt-6","flex","items-center","justify-center","gap-6"],["title","bu",1,"px-4","py-2","bg-black","text-white","font-medium","rounded-full","shadow-lg","hover:bg-[#FFC107]","hover:text-black","transition","duration-300","ease-in-out","transform","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-black","focus:ring-opacity-50",3,"click","disabled"],[1,"flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-sm","text-black","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-2",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",4,"ngIf"],["class","fixed inset-0 flex items-center justify-center z-50 backdrop-blur-lg",4,"ngIf"],[3,"value"],[1,"px-6","py-3","text-left","text-xs","font-semibold","uppercase","tracking-wide"],[1,"hover:bg-gray-200","transition","duration-200"],[1,"px-6","py-4","whitespace-nowrap","font-medium","text-black"],[1,"px-6","py-4","whitespace-nowrap","text-gray-700"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-2","inline-flex","text-xs","font-semibold","rounded-full",3,"ngClass"],[3,"ngClass"],[1,"px-6","py-4","text-right"],[1,"text-sm","text-blue-600","hover:text-blue-800","hover:underline","mr-3","cursor-pointer",3,"click"],[1,"text-sm","text-red-600","hover:text-red-800","hover:underline","cursor-pointer",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/60","backdrop-blur-sm","px-2"],[1,"bg-white","text-black","rounded-xl","w-full","max-w-4xl","shadow-2xl","border","border-yellow-600","relative","max-h-[90vh]","flex","flex-col","overflow-hidden"],["title","Cerrar",1,"absolute","top-3","right-3","text-black","bg-orange-500","hover:bg-orange-600","rounded-full","w-8","h-8","flex","items-center","justify-center","transition","duration-200","cursor-pointer",3,"click"],[1,"bi","bi-x-lg","text-base"],[1,"bg-white","text-black","px-4","py-4","flex","items-center","justify-between","border-b","border-yellow-500"],[1,"text-lg","font-semibold"],[1,"px-4","py-3","bg-white","border-b","border-yellow-500","flex","justify-end"],[1,"bg-orange-500","text-white","px-4","py-2","rounded-lg","hover:bg-orange-600","transition","cursor-pointer","text-sm",3,"click"],[1,"fas","fa-plus","mr-2"],[1,"overflow-auto","px-4","py-2","grow"],[1,"w-full","text-sm","text-left","border-collapse","bg-gray-100"],[1,"bg-gray-200","text-gray-800","sticky","top-0"],[1,"px-4","py-3"],[1,"px-4","py-3","text-center"],["class","hover:bg-orange-500 transition cursor-pointer border-b border-gray-300",4,"ngFor","ngForOf"],[1,"flex","justify-center","items-center","gap-2","p-4","bg-white","border-t","border-yellow-500"],["title","bu",1,"p-2","bg-white","text-black","rounded-full","hover:bg-orange-500","disabled:opacity-40","cursor-pointer","transition","duration-200",3,"click","disabled"],[1,"bi","bi-chevron-left","text-lg"],[1,"text-sm","text-black"],[1,"bi","bi-chevron-right","text-lg"],[1,"hover:bg-orange-500","transition","cursor-pointer","border-b","border-gray-300"],[1,"px-4","py-3","text-gray-900"],[1,"px-4","py-3","text-gray-600"],[1,"px-4","py-3","text-center","space-x-2"],[1,"text-sm","text-blue-500","hover:text-blue-700","hover:underline","cursor-pointer",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/40","backdrop-blur-sm","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-yellow-600","w-full","max-w-md","relative","overflow-hidden"],["title","Cerrar",1,"absolute","top-3","right-3","text-black","hover:bg-orange-500","hover:text-white","bg-yellow-200","rounded-full","w-8","h-8","flex","items-center","justify-center","transition","cursor-pointer",3,"click"],[1,"bi","bi-x-lg","text-sm"],[1,"bg-black","px-6","py-4","rounded-t-2xl"],[1,"text-white","text-lg","font-semibold","tracking-wide"],[1,"px-6","py-5","space-y-5","bg-white"],["class","p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-300",4,"ngIf"],[1,"space-y-1"],[1,"text-sm","font-medium","text-gray-800"],[1,"text-red-500"],["placeholder","Ej: Frutas, Bebidas...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-400","focus:border-orange-500","transition",3,"ngModelChange","ngModel"],["placeholder","Opcional",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-400","focus:border-orange-500","transition","min-h-[80px]","resize-none",3,"ngModelChange","ngModel"],[1,"flex","justify-end","px-6","py-4","bg-white","border-t","border-yellow-600","gap-3"],[1,"px-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-100","transition","cursor-pointer",3,"click"],[1,"px-4","py-2","bg-orange-500","text-white","rounded-lg","hover:bg-orange-600","transition","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"bi","bi-save"],[1,"p-3","bg-red-100","text-red-700","rounded-lg","text-sm","border","border-red-300"],[1,"bi","bi-exclamation-triangle-fill","mr-2"],[1,"bg-white","text-black","rounded-xl","w-full","max-w-md","shadow-2xl","border","border-yellow-600","relative","max-h-[90vh]","flex","flex-col","overflow-hidden"],[1,"px-4","py-4"],[3,"ngSubmit"],[1,"mb-4"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700"],["id","nombre","name","nombre","type","text","required","",1,"w-full","px-4","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["for","descripcion",1,"block","text-sm","font-medium","text-gray-700"],["id","descripcion","name","descripcion","type","text",1,"w-full","px-4","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-3"],["type","button",1,"px-4","py-2","bg-gray-300","rounded-md","hover:bg-gray-400","cursor-pointer",3,"click"],["type","submit",1,"px-4","py-2","bg-orange-500","text-white","rounded-md","hover:bg-orange-600","cursor-pointer"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50","backdrop-blur-lg"],[1,"bg-white/90","rounded-xl","shadow-2xl","border","border-amber-500/30","w-[90vw]","max-w-md","max-h-[90vh]","my-4","flex","flex-col","overflow-hidden","backdrop-blur-md"],[1,"bg-black/60","px-6","py-4","border-b","border-amber-500/20","flex","justify-between","items-center","backdrop-blur-sm","sticky","top-0","z-10"],[1,"text-xl","font-bold","text-amber-500"],[1,"fas","fa-utensils","mr-2","text-amber-400"],["title","Cerrar",1,"text-amber-400","hover:text-white","transition-transform","hover:scale-110","cursor-pointer",3,"click"],[1,"fas","fa-times","text-lg"],[1,"p-6","space-y-4","bg-white/90","backdrop-blur-sm","overflow-y-auto","flex-1"],["class","bg-red-900/40 text-amber-100 p-3 rounded-lg border border-red-700/40 mb-4 backdrop-blur-xs",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2"],[1,"block","text-sm","font-medium","text-amber-400","mb-1"],["name","nombre","type","text","placeholder","Ej: Lomo de At\xFAn","required","",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","placeholder-gray-500","backdrop-blur-xs",3,"ngModelChange","ngModel"],[1,"relative"],["name","categoria_id","aria-label","categoria",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","appearance-none","backdrop-blur-xs",3,"ngModelChange","ngModel"],["value","",1,"text-gray-500","bg-white"],["class","bg-white text-black",3,"value",4,"ngFor","ngForOf"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","pr-3","text-amber-400"],[1,"fas","fa-chevron-down","text-sm"],["name","unidad","aria-label","unidad",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","backdrop-blur-xs",3,"ngModelChange","change","ngModel"],["value","lb"],["value","cantidad"],["value","l"],["class","grid grid-cols-2 gap-4 mt-4",4,"ngIf"],[1,"grid","grid-cols-2","gap-4","mt-4"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-500"],["name","costo_total","type","number","min","0.01","step","0.01","placeholder","Ej: 90.00",1,"w-full","pl-8","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],["name","stock_actual","type","number","required","",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","backdrop-blur-xs",3,"ngModelChange","input","ngModel","readonly","min","step","placeholder"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"mt-4"],["name","costo_unitario","type","number","readonly","","title","Costo calculado autom\xE1ticamente",1,"w-full","pl-8","pr-4","py-2","bg-gray-100","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","ngModel"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"flex","justify-end","gap-3","pt-6","sticky","bottom-0","bg-white/90","pb-2","-mx-6","px-6","border-t","border-amber-500/20","mt-4"],["type","submit",1,"px-5","py-2","bg-amber-600","text-black","font-medium","rounded-lg","hover:bg-amber-500","transition-colors","flex","items-center","backdrop-blur-xs","cursor-pointer",3,"disabled"],[1,"fas","fa-save","mr-2"],[1,"bg-red-900/40","text-amber-100","p-3","rounded-lg","border","border-red-700/40","mb-4","backdrop-blur-xs"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"bg-white","text-black",3,"value"],["name","pesoTotal","type","number","min","0.01","step","0.01","placeholder","Ej: 2.5",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],[1,"text-gray-500"],["name","gramosPorUnidad","type","number","min","1","step","1","placeholder","Ej: 250",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],[1,"text-xs","text-gray-500","mt-1"],[1,"absolute","inset-0","bg-black/40","backdrop-blur-sm","transition-opacity","duration-300","cursor-pointer",3,"click"],[1,"bg-white/90","rounded-xl","shadow-2xl","border","border-amber-500/30","w-[90vw]","max-w-md","flex","flex-col","overflow-hidden","backdrop-blur-md","relative","mx-4"],[1,"flex","items-center","justify-between","px-6","py-4","bg-black/60","border-b","border-amber-500/20","backdrop-blur-sm"],[1,"fas","fa-edit","mr-2","text-amber-400"],["type","button","title","Cerrar",1,"text-amber-400","hover:text-white","transition-transform","hover:scale-110","cursor-pointer",3,"click"],[1,"p-6","space-y-4","bg-white/90","backdrop-blur-sm"],[1,"space-y-5",3,"ngSubmit"],["for","nombre",1,"block","text-sm","font-medium","text-amber-400","mb-1"],["name","nombre","id","nombre","type","text","placeholder","Ej: Pizza Margarita","required","",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","placeholder-gray-500","backdrop-blur-xs",3,"ngModelChange","ngModel"],["for","stock",1,"block","text-sm","font-medium","text-amber-400","mb-1"],["name","stock_actual","id","stock","type","number","placeholder","Ej: 20","required","",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","placeholder-gray-500","backdrop-blur-xs",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-4","pt-6"],["type","button",1,"px-5","py-2","bg-white","border","border-gray-300","text-black","rounded-lg","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-300","transition","font-semibold","shadow-sm","backdrop-blur-xs","cursor-pointer","hover:shadow-md","hover:border-gray-400",3,"click"],["type","submit",1,"px-5","py-2","bg-amber-600","text-black","font-medium","rounded-lg","hover:bg-amber-500","transition-colors","flex","items-center","backdrop-blur-xs","cursor-pointer","hover:shadow-md","hover:bg-amber-400"],[1,"fas","fa-save","mr-2","cursor-pointer"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Inventario"),r(),i(5,"div",4)(6,"button",5),u("click",function(){return o.abrirModalRegistroProducto()}),b(7,"i",6),a(8," Nuevo Producto "),r(),i(9,"button",7),u("click",function(){return o.mostrarModalCategorias=!0}),b(10,"i",8),a(11," Categor\xEDas "),r()()(),i(12,"div",9)(13,"div",10)(14,"div",11)(15,"input",12),f("ngModelChange",function(l){return x(o.searchTerm,l)||(o.searchTerm=l),l}),u("input",function(){return o.applyFilter()}),r(),b(16,"i",13),r(),i(17,"select",14),f("ngModelChange",function(l){return x(o.selectedCategory,l)||(o.selectedCategory=l),l}),u("change",function(){return o.applyFilter()}),i(18,"option",15),a(19,"Todas las categor\xEDas"),r(),h(20,ne,2,2,"option",16),r()()(),i(21,"div",17)(22,"table",18)(23,"thead",19)(24,"tr"),h(25,ae,2,1,"th",20),b(26,"th",21),r()(),i(27,"tbody",22),h(28,le,19,13,"tr",23),r()()(),i(29,"div",24)(30,"button",25),u("click",function(){return o.cambiarPagina(-1)}),i(31,"span",26),E(),i(32,"svg",27),b(33,"path",28),r()()(),P(),i(34,"div",29),a(35),r(),i(36,"button",25),u("click",function(){return o.cambiarPagina(1)}),i(37,"span",26),E(),i(38,"svg",27),b(39,"path",30),r()()()()()(),h(40,de,30,5,"div",31)(41,ge,25,3,"div",32)(42,me,22,2,"div",31)(43,fe,69,20,"div",33)(44,he,25,2,"div",33)),e&2&&(s(15),_("ngModel",o.searchTerm),s(2),_("ngModel",o.selectedCategory),s(3),p("ngForOf",o.categories),s(5),p("ngForOf",o.columns),s(3),p("ngForOf",o.paginatedProducts()),s(2),p("disabled",o.currentPage===1),s(5),S(" ",o.currentPage," de ",o.totalPages()," "),s(),p("disabled",o.currentPage*o.itemsPerPage>=o.products.length),s(4),p("ngIf",o.mostrarModalCategorias),s(),p("ngIf",o.mostrarModalAgregarCategoria),s(),p("ngIf",o.mostrarModalEditarCategoria),s(),p("ngIf",o.mostrarModalRegistroProducto),s(),p("ngIf",o.mostrarModalEditar))},dependencies:[O,j,N,A,z,ee,K,X,Y,U,J,Q,D,G,$,Z,H,q],styles:[".tabla-encabezado[_ngcontent-%COMP%]{background-color:#1f1f1f;color:#fff}"]})};export{I as default};
