import{d as ke}from"./chunk-SBFCHDCM.js";import{a as Ve,b as Ie}from"./chunk-GO72UHXU.js";import"./chunk-FK6H3RFT.js";import{c as he,d as be,e as xe,f as _e,g as Ce,h as we,i as ve,j as ye,k as Se,l as Ee,m as ze,o as Me,p as Fe,q as Te,r as Pe}from"./chunk-V4S5BHXF.js";import{a as He}from"./chunk-IY34DK4E.js";import{Ab as w,Bb as v,Bc as Ae,Ca as s,Db as oe,Fb as re,Ha as Z,Kb as k,Lb as ae,Ma as ee,Mb as L,Nb as le,Ob as $,Qa as _,Wa as te,Xa as g,Za as ie,aa as c,ba as m,ca as x,da as y,db as i,eb as n,fb as b,gb as j,gc as se,hb as q,hc as de,ic as ce,jb as F,kb as h,lb as u,oc as me,pb as ne,qc as pe,sc as ue,tc as ge,ub as I,uc as fe,vb as a,wb as E,xb as z,zb as C}from"./chunk-YGAPY4LI.js";import"./chunk-LMZWYZYD.js";import{a as G,b as R,h as qe,j as T}from"./chunk-K4ALXBGI.js";var M=qe(He());var Ue=(d,e)=>({"bg-green-100 text-green-800":d,"bg-purple-100 text-purple-800":e}),Ge=()=>[];function Re(d,e){d&1&&(i(0,"div",121),a(1," El nombre es obligatorio. "),n())}function $e(d,e){d&1&&(i(0,"div",121),a(1," Tel\xE9fono inv\xE1lido (7-15 d\xEDgitos). "),n())}function Ye(d,e){if(d&1&&(i(0,"option",122),a(1),n()),d&2){let t=e.$implicit;g("value",t.id),s(),E(t.nombre)}}function Xe(d,e){if(d&1){let t=F();i(0,"li",126)(1,"div")(2,"span",29),a(3),n(),i(4,"span",127),a(5),k(6,"number"),n()(),i(7,"button",128),h("click",function(){let r=c(t).index,l=u(3);return m(l.eliminarPrecioTemporal(r))}),x(),i(8,"svg",77),b(9,"path",129),n()()()}if(d&2){let t=e.$implicit;s(3),E(t.nombreAlmuerzo),s(2),z("- $",L(6,2,t.precio,"1.2-2"),"")}}function Je(d,e){if(d&1&&(i(0,"div",123)(1,"h3",124),a(2,"Almuerzos Agregados"),n(),i(3,"ul",45),_(4,Xe,10,5,"li",125),n()()),d&2){let t=u(2);s(4),g("ngForOf",t.preciosTemporales)}}function Qe(d,e){if(d&1){let t=F();i(0,"div",89)(1,"div",90)(2,"button",91),h("click",function(){c(t);let r=u();return m(r.cerrarModalUsuario())}),a(3," \xD7 "),n(),i(4,"div",92)(5,"div",93)(6,"div",94),x(),i(7,"svg",95),b(8,"path",96),n()(),y(),i(9,"h2",97),a(10,"Nuevo Usuario"),n()(),i(11,"form",98,1)(13,"div",99)(14,"div")(15,"label",100),a(16,"Nombre"),n(),i(17,"input",101,2),v("ngModelChange",function(r){c(t);let l=u();return w(l.nombre,r)||(l.nombre=r),m(r)}),n(),_(19,Re,2,0,"div",102),n(),i(20,"div")(21,"label",103),a(22,"Tel\xE9fono"),n(),i(23,"input",104,3),v("ngModelChange",function(r){c(t);let l=u();return w(l.telefono,r)||(l.telefono=r),m(r)}),n(),_(25,$e,2,0,"div",102),n(),i(26,"div")(27,"label",105),a(28,"Direcci\xF3n"),n(),i(29,"input",106),v("ngModelChange",function(r){c(t);let l=u();return w(l.direccion,r)||(l.direccion=r),m(r)}),n()()(),i(30,"div",107)(31,"h3",108),a(32,"Agregar Almuerzos"),n(),i(33,"div",109)(34,"div")(35,"label",110),a(36,"Tipo de Almuerzo"),n(),i(37,"select",111),v("ngModelChange",function(r){c(t);let l=u();return w(l.almuerzoSeleccionado,r)||(l.almuerzoSeleccionado=r),m(r)}),i(38,"option",112),a(39,"Seleccione un almuerzo"),n(),_(40,Ye,2,2,"option",113),n()(),i(41,"div")(42,"label",114),a(43,"Precio"),n(),i(44,"input",115),v("ngModelChange",function(r){c(t);let l=u();return w(l.precio,r)||(l.precio=r),m(r)}),n()(),i(45,"div",116)(46,"button",117),h("click",function(){c(t);let r=u();return m(r.agregarPrecioTemporal())}),x(),i(47,"svg",77),b(48,"path",118),n(),a(49," Agregar "),n()()()(),_(50,Je,5,1,"div",119),y(),i(51,"div",107)(52,"button",120),h("click",function(){c(t);let r=u();return m(r.guardarClienteConPrecios())}),a(53," Guardar Usuario y Almuerzos "),n()()()()()()}if(d&2){let t=I(12),o=I(18),r=I(24),l=u();s(17),C("ngModel",l.nombre),s(2),g("ngIf",o.invalid&&o.touched),s(4),C("ngModel",l.telefono),s(2),g("ngIf",r.invalid&&r.touched),s(4),C("ngModel",l.direccion),s(8),C("ngModel",l.almuerzoSeleccionado),s(3),g("ngForOf",l.tiposDeAlmuerzo),s(4),C("ngModel",l.precio),s(2),g("disabled",!l.almuerzoSeleccionado||!l.precio||l.precio<=0),s(4),g("ngIf",l.preciosTemporales.length>0),s(2),g("disabled",t.invalid||l.preciosTemporales.length===0)}}function Ke(d,e){if(d&1&&(i(0,"div",154)(1,"span",155),a(2),n(),i(3,"span",156),a(4),k(5,"currency"),n()()),d&2){let t=e.$implicit;s(2),E(t.nombre),s(2),E(le(5,2,t.precio,"USD","symbol","1.2-2"))}}function Ze(d,e){if(d&1){let t=F();i(0,"tr",136)(1,"td",137)(2,"div",138)(3,"div",139),a(4),n(),i(5,"div",140)(6,"div",141),a(7),n(),i(8,"div",142)(9,"span",143),a(10),n()(),i(11,"div",142),a(12),n()()()(),i(13,"td",144)(14,"div",145),a(15),n(),i(16,"div",142)(17,"span",146),a(18),n()()(),i(19,"td",137)(20,"div",45),_(21,Ke,6,7,"div",147),n()(),i(22,"td",148)(23,"button",149),h("click",function(){let r=c(t).$implicit,l=u(2);return m(l.abrirModalEditarCliente(r))}),x(),i(24,"svg",150),b(25,"path",151),n(),a(26," Editar "),n(),y(),i(27,"button",152),h("click",function(){let r=c(t).$implicit,l=u(2);return m(l.toggleEstadoCliente(r))}),x(),i(28,"svg",150),b(29,"path",153),n(),a(30),n()()()}if(d&2){let t=e.$implicit,o=u(2);s(4),z(" ",o.getInitials(t.nombre)," "),s(3),E(t.nombre),s(2),g("ngClass",re(12,Ue,t.tipo==="Mensual",t.tipo==="Quincenal")),s(),z(" ",t.tipo," "),s(2),E(t.direccion),s(3),E(t.telefono),s(2),g("ngClass",t.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),s(),z(" ",t.activo?"Activo":"Inactivo"," "),s(3),g("ngForOf",t.almuerzos),s(6),g("ngClass",t.activo?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),s(2),te("d",t.activo?"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16":"M5 13l4 4L19 7"),s(),z(" ",t.activo?"Desactivar":"Activar"," ")}}function et(d,e){if(d&1&&(i(0,"div")(1,"table",130)(2,"thead",131)(3,"tr")(4,"th",132),a(5,"Cliente"),n(),i(6,"th",132),a(7,"Contacto"),n(),i(8,"th",132),a(9,"Almuerzos"),n(),i(10,"th",133),a(11,"Acciones"),n()()(),i(12,"tbody",134),_(13,Ze,31,15,"tr",135),n()()()),d&2){let t=u();s(13),g("ngForOf",t.clientesPaginados)}}function tt(d,e){if(d&1){let t=F();i(0,"div",157)(1,"div",158),x(),i(2,"svg",159),b(3,"path",160),n(),y(),i(4,"h3",161),a(5,"No hay clientes registrados"),n(),i(6,"p",162),a(7,'Presiona el bot\xF3n "Nuevo Cliente" para agregar tu primer registro'),n(),i(8,"button",163),h("click",function(){c(t);let r=u();return m(r.abrirModalUsuario())}),x(),i(9,"svg",150),b(10,"path",24),n(),a(11," Agregar Cliente "),n()()()}}function it(d,e){if(d&1){let t=F();i(0,"div",186)(1,"label",172),a(2),n(),i(3,"div",40)(4,"div",18)(5,"span",53),a(6,"$"),n()(),i(7,"input",187),v("ngModelChange",function(r){let l=c(t).index,p=u(2);return w(p.clienteEdit.almuerzos[l].precio,r)||(p.clienteEdit.almuerzos[l].precio=r),m(r)}),n()()()}if(d&2){let t=e.$implicit,o=e.index,r=u(2);s(2),z(" ",t.nombre," "),s(5),ne("name","precio-",o,""),C("ngModel",r.clienteEdit.almuerzos[o].precio)}}function nt(d,e){if(d&1){let t=F();i(0,"div",164)(1,"div",165)(2,"button",166),h("click",function(){c(t);let r=u();return m(r.cerrarModal())}),x(),i(3,"svg",167),b(4,"path",78),n()(),y(),i(5,"div",168)(6,"h2",169),x(),i(7,"svg",170),b(8,"path",151),n(),a(9," Editar Informaci\xF3n del Cliente "),n()(),y(),i(10,"form",171),h("ngSubmit",function(){c(t);let r=u();return m(r.guardarCambiosCliente())}),i(11,"div")(12,"label",172),a(13,"Nombre del Cliente"),n(),i(14,"div",40)(15,"div",18),x(),i(16,"svg",19),b(17,"path",96),n()(),y(),i(18,"input",173),v("ngModelChange",function(r){c(t);let l=u();return w(l.clienteEdit.nombre,r)||(l.clienteEdit.nombre=r),m(r)}),n()()(),i(19,"div")(20,"label",172),a(21,"Tel\xE9fono"),n(),i(22,"div",40)(23,"div",18),x(),i(24,"svg",19),b(25,"path",174),n()(),y(),i(26,"input",175),v("ngModelChange",function(r){c(t);let l=u();return w(l.clienteEdit.telefono,r)||(l.clienteEdit.telefono=r),m(r)}),n()()(),i(27,"div")(28,"label",172),a(29,"Direcci\xF3n de Entrega"),n(),i(30,"div",40)(31,"div",18),x(),i(32,"svg",19),b(33,"path",176)(34,"path",177),n()(),y(),i(35,"input",178),v("ngModelChange",function(r){c(t);let l=u();return w(l.clienteEdit.direccion,r)||(l.clienteEdit.direccion=r),m(r)}),n()()(),i(36,"div",107)(37,"h3",179),a(38,"Precios de Almuerzos"),n(),_(39,it,8,4,"div",180),n(),i(40,"div",181)(41,"button",182),h("click",function(){c(t);let r=u();return m(r.cerrarModal())}),a(42," Cancelar "),n(),i(43,"button",183),x(),i(44,"svg",184),b(45,"path",185),n(),a(46," Guardar Cambios "),n()()()()()}if(d&2){let t=u();s(18),C("ngModel",t.clienteEdit.nombre),s(8),C("ngModel",t.clienteEdit.telefono),s(9),C("ngModel",t.clienteEdit.direccion),s(4),g("ngForOf",t.clienteEdit.almuerzos)}}function ot(d,e){if(d&1){let t=F();i(0,"li",190),h("click",function(){let r=c(t).$implicit,l=u(2);return m(l.seleccionarCliente(r))})("mousedown",function(r){return c(t),m(r.preventDefault())}),i(1,"span",191),a(2),n(),i(3,"span",29),a(4),n()()}if(d&2){let t=e.$implicit;s(2),z(" ",(t.nombre==null?null:t.nombre.charAt(0))||"C"," "),s(2),E(t.nombre)}}function rt(d,e){if(d&1&&(i(0,"ul",188),_(1,ot,5,2,"li",189),n()),d&2){let t=u();s(),g("ngForOf",t.clientesFiltrados)}}function at(d,e){if(d&1){let t=F();i(0,"div",192)(1,"div",193)(2,"div",194)(3,"p",195),a(4),n(),i(5,"p",196),a(6),n()(),i(7,"input",197),v("ngModelChange",function(r){let l=c(t).$implicit;return w(l.cantidad,r)||(l.cantidad=r),m(r)}),n()()()}if(d&2){let t=e.$implicit;s(4),E(t.nombre),s(2),E(t.descripcion),s(),C("ngModel",t.cantidad)}}function lt(d,e){if(d&1){let t=F();i(0,"button",198),h("click",function(){c(t);let r=u();return m(r.marcarPedidosFiltradosComoPagados())}),a(1," Marcar pedidos filtrados como pagados "),n()}}function st(d,e){if(d&1){let t=F();i(0,"button",199),h("click",function(){c(t);let r=u();return m(r.generarPDF())}),x(),i(1,"svg",77),b(2,"path",200),n(),a(3," Exportar PDF "),n()}}function dt(d,e){if(d&1&&(i(0,"div",213)(1,"span"),a(2),n(),i(3,"span",214),a(4),n()()),d&2){let t=u().$implicit;g("ngClass",t.almuerzos.nombre.toLowerCase().includes("completo")?"bg-emerald-50 text-emerald-700 border border-emerald-200":t.almuerzos.nombre.toLowerCase().includes("empaquetado")?"bg-amber-50 text-amber-700 border border-amber-200":"bg-blue-50 text-blue-700 border border-blue-200"),s(2),E(t.almuerzos.nombre),s(2),E(t.cantidad)}}function ct(d,e){if(d&1&&(j(0),_(1,dt,5,3,"div",212),q()),d&2){let t=e.$implicit;s(),g("ngIf",t.almuerzos!==null)}}function mt(d,e){if(d&1&&(j(0),_(1,ct,2,1,"ng-container",211),q()),d&2){let t=u().$implicit;s(),g("ngForOf",t.pedidos_almuerzo)}}function pt(d,e){if(d&1&&(i(0,"div",215),a(1),n()),d&2){let t=u().$implicit;s(),z(" ",t.observaciones||"Sin observaciones"," ")}}function ut(d,e){if(d&1&&(i(0,"tr",201)(1,"td",144)(2,"div",138)(3,"div",202),a(4),n(),i(5,"div",203)(6,"div",141),a(7),n()()()(),i(8,"td",137)(9,"div",204),_(10,mt,2,1,"ng-container",26)(11,pt,2,1,"ng-template",null,4,$),n()(),i(13,"td",144)(14,"div",205),x(),i(15,"svg",206),b(16,"path",207),n(),a(17),k(18,"date"),n()(),y(),i(19,"td",144)(20,"div",208),a(21),k(22,"number"),n()(),i(23,"td",144)(24,"span",209)(25,"span",138),b(26,"span",210),a(27),k(28,"titlecase"),n()()()()),d&2){let t=e.$implicit,o=I(12),r=u();s(4),z(" ",(t.clientes==null||t.clientes.nombre==null?null:t.clientes.nombre.charAt(0))||"C"," "),s(3),z("",(t.clientes==null?null:t.clientes.nombre)||"Cliente sin nombre"," "),s(3),g("ngIf",t.tieneAlmuerzosValidos)("ngIfElse",o),s(7),z(" ",L(18,9,t.fecha,"dd/MM/yyyy")," "),s(4),z("$",L(22,12,t.total,"1.2-2"),""),s(3),g("ngClass",r.getEstadoClase(t.estado_pago)),s(2),g("ngClass",t.estado_pago.toLowerCase()==="pagado"?"bg-emerald-500":t.estado_pago.toLowerCase()==="pendiente"?"bg-amber-500":"bg-red-500"),s(),z(" ",ae(28,15,t.estado_pago)," ")}}function gt(d,e){if(d&1){let t=F();i(0,"tr")(1,"td",216)(2,"div",217),x(),i(3,"svg",218),b(4,"path",219),n(),y(),i(5,"h4",220),a(6,"No se encontraron pedidos"),n(),i(7,"p",221),a(8,"Ajusta los filtros para ver resultados"),n(),i(9,"button",222),h("click",function(){c(t);let r=u();return m(r.limpiarFiltros())}),x(),i(10,"svg",77),b(11,"path",223),n(),a(12," Restablecer filtros "),n()()()()}}function ft(d,e){d&1&&(i(0,"span",9),a(1,"pedidos filtrados"),n())}function ht(d,e){if(d&1&&(i(0,"span",9),a(1),n()),d&2){let t=u(2);s(),z("de ",t.pedidos.length," pedidos")}}function bt(d,e){if(d&1&&(i(0,"div",224)(1,"div",225)(2,"div",226),x(),i(3,"svg",227),b(4,"path",63),n(),y(),i(5,"span"),a(6,"Mostrando:"),n(),i(7,"span",228),a(8),n(),_(9,ft,2,0,"span",229)(10,ht,2,1,"span",229),n(),i(11,"div",230)(12,"span",231),a(13,"Total:"),n(),i(14,"span",232),a(15),k(16,"number"),n()()()()),d&2){let t=u();s(8),E(t.pedidosFiltrados.length),s(),g("ngIf",!t.mostrarTodos),s(),g("ngIf",t.mostrarTodos),s(5),z("$",L(16,4,t.calcularTotalMostrado(),"1.2-2"),"")}}function xt(d,e){if(d&1){let t=F();j(0),i(1,"button",236),h("click",function(){let r=c(t).index,l=u(2);return m(l.cambiarPaginaPedidos(r+1))}),a(2),n(),q()}if(d&2){let t=e.index,o=u(2);s(),ie("bg-amber-600",o.paginaPedidos===t+1)("text-white",o.paginaPedidos===t+1),s(),z(" ",t+1," ")}}function _t(d,e){if(d&1){let t=F();i(0,"div",233)(1,"nav",234)(2,"button",235),h("click",function(){c(t);let r=u();return m(r.cambiarPaginaPedidos(r.paginaPedidos-1))}),a(3," Anterior "),n(),_(4,xt,3,5,"ng-container",211),i(5,"button",235),h("click",function(){c(t);let r=u();return m(r.cambiarPaginaPedidos(r.paginaPedidos+1))}),a(6," Siguiente "),n()()()}if(d&2){let t=u();s(2),g("disabled",t.paginaPedidos===1),s(2),g("ngForOf",oe(3,Ge).constructor(t.totalPaginasPedidos)),s(),g("disabled",t.paginaPedidos===t.totalPaginasPedidos)}}var Y=class d{constructor(e){this.supabaseService=e}clienteBusqueda="";clientesFiltrados=[];paginaActual=1;clientesPorPagina=5;terminoBusqueda="";nombre="";telefono="";direccion="";modalUsuarioAbierto=!1;clientes=[];pedido={cliente_id:null,fecha:Ct(),estado_pago:"pendiente",total:0,observaciones:"",tipo:"Almuerzo",cantidad:1};tiposDeAlmuerzo=[];precio=0;almuerzoSeleccionado=null;preciosDelCliente=[];clientesConPrecios=[];clienteSeleccionadoId=null;datosClienteConPrecios=[];pedidos=[];cargando=!1;error=null;fechaInicio="";fechaFin="";todosLosPedidos=[];nombreBusqueda="";pedidosFiltrados=[];mostrarTodos=!0;estadoFiltro="";paginaPedidos=1;pedidosPorPagina=10;modalAbierto=!1;clienteEdit=null;Math=Math;getInitials(e){if(!e)return"";let t=e.trim().split(/\s+/);return t.length===1?t[0].substring(0,2).toUpperCase():t.slice(0,2).map(o=>o[0].toUpperCase()).join("")}modalPedidoAbierto=!1;clienteSeleccionadoParaPdf=null;preciosTemporales=[];nuevoPrecio={almuerzo_id:"",precio:0};ngOnInit(){return T(this,null,function*(){this.cargarClientesConPrecios(),this.cargarPedidos();try{let e=yield this.supabaseService.obtenerTiposDeAlmuerzo();this.tiposDeAlmuerzo=e.map(t=>R(G({},t),{cantidad:0}))}catch(e){alert("Error al cargar los tipos de almuerzo"),console.error(e)}})}guardarClienteConPrecios(){return T(this,null,function*(){try{if(this.preciosTemporales.length===0)throw new Error("Debe agregar al menos un precio de almuerzo");let e=yield this.supabaseService.crearClienteConPrecios(this.nombre,this.telefono??void 0,this.direccion??void 0,this.preciosTemporales);M.default.fire({icon:"success",title:"Cliente y precios guardados",text:"El cliente y sus precios fueron registrados correctamente",timer:2e3,showConfirmButton:!1}),this.clienteBusqueda="",this.clienteSeleccionadoId=null,this.clientesFiltrados=[],this.resetForm(),this.cerrarModalUsuario(),this.cargarClientesConPrecios()}catch(e){M.default.fire({icon:"error",title:"Error al guardar",text:e.message||"Ocurri\xF3 un error inesperado"})}})}agregarPrecioTemporal(){if(!this.almuerzoSeleccionado||this.precio<=0)return;let e=this.tiposDeAlmuerzo.find(t=>t.id===this.almuerzoSeleccionado);this.preciosTemporales.push({almuerzo_id:this.almuerzoSeleccionado,precio:this.precio,nombreAlmuerzo:e?.nombre}),this.almuerzoSeleccionado=null,this.precio=0}eliminarPrecioTemporal(e){this.preciosTemporales.splice(e,1)}resetForm(){this.nombre="",this.telefono="",this.direccion="",this.precio=0,this.almuerzoSeleccionado=null,this.preciosTemporales=[]}cargarClientesConPrecios(){return T(this,null,function*(){try{let e=yield this.supabaseService.obtenerClientesConPrecios(),t=new Map;e.forEach(o=>{let r=o.clientes.id;t.has(r)||t.set(r,{id:r,nombre:o.clientes.nombre,telefono:o.clientes.telefono,direccion:o.clientes.direccion,activo:o.clientes.activo,almuerzos:[]}),t.get(r).almuerzos.push({id:o.almuerzos.id,nombre:o.almuerzos.nombre,precio:o.precio})}),this.clientesConPrecios=Array.from(t.values()).sort((o,r)=>o.activo!==r.activo?Number(r.activo)-Number(o.activo):o.nombre.localeCompare(r.nombre)),this.clientes=this.clientesConPrecios.map(o=>({id:o.id,nombre:o.nombre,telefono:o.telefono,direccion:o.direccion}))}catch(e){console.error("Error cargando clientes con precios",e)}})}preventBlur(e){e.preventDefault()}onBlurCliente(){setTimeout(()=>{!this.clienteSeleccionadoId&&this.clienteBusqueda&&(this.clienteBusqueda="",this.clientesFiltrados=[],this.onClienteSeleccionado())},200)}mostrarListaClientes=!1;filtrarClientes(){if(!this.clienteBusqueda){this.clientesFiltrados=[],this.mostrarListaClientes=!1,this.clienteSeleccionadoId=null,this.onClienteSeleccionado();return}let e=this.clienteBusqueda.toLowerCase();this.clientesFiltrados=this.clientes.filter(t=>t.nombre.toLowerCase().includes(e)).sort((t,o)=>Number(o.activo)-Number(t.activo)),this.mostrarListaClientes=!0}cerrarListaSiNoSeleccionado(){setTimeout(()=>{this.clienteSeleccionadoId||(this.mostrarListaClientes=!1,this.clienteBusqueda="")},200)}seleccionarCliente(e){this.clienteSeleccionadoId=e.id,this.clienteBusqueda=e.nombre,this.mostrarListaClientes=!1,this.onClienteSeleccionado()}onClienteSeleccionado(){return T(this,null,function*(){if(this.clienteSeleccionadoId)try{this.datosClienteConPrecios=yield this.supabaseService.obtenerClienteConPrecios(this.clienteSeleccionadoId),this.tiposDeAlmuerzo.forEach(e=>{let t=this.datosClienteConPrecios.find(o=>o.almuerzos.id===e.id);e.precio=t?t.precio:0,e.cantidad=0}),this.pedido.cliente_id=this.clienteSeleccionadoId}catch(e){M.default.fire({icon:"error",title:"Error al cargar datos del cliente",text:e.message||"No se pudieron obtener los datos"})}else this.datosClienteConPrecios=[],this.tiposDeAlmuerzo.forEach(e=>{e.precio=0,e.cantidad=0}),this.pedido.cliente_id=null})}abrirModalUsuario(){this.modalUsuarioAbierto=!0}cerrarModalUsuario(){this.modalUsuarioAbierto=!1}guardarPedido(){return T(this,null,function*(){try{if(!this.pedido.cliente_id){yield M.default.fire({icon:"warning",title:"Cliente requerido",text:"Debe seleccionar un cliente antes de guardar el pedido."});return}let e=this.tiposDeAlmuerzo.filter(l=>l.cantidad&&l.cantidad>0).map(l=>({almuerzo_id:l.id,cantidad:l.cantidad}));if(e.length===0){yield M.default.fire({icon:"warning",title:"Atenci\xF3n",text:"Debe seleccionar al menos un tipo de almuerzo con cantidad mayor a 0"});return}let t=this.calcularTotal(this.tiposDeAlmuerzo.filter(l=>l.cantidad&&l.cantidad>0)),o={cliente_id:this.pedido.cliente_id,fecha:this.pedido.fecha,estado_pago:this.pedido.estado_pago||"pendiente",observaciones:this.pedido.observaciones||"",total:t,almuerzos:e},r=yield this.supabaseService.crearPedidoAlmuerzos(o);yield M.default.fire({icon:"success",title:"\xC9xito",text:"Pedido creado correctamente!"}),this.clienteBusqueda="",this.clienteSeleccionadoId=null,this.pedido.cliente_id=null,this.clientesFiltrados=[],this.resetearFormulario(),this.cargarPedidos()}catch(e){console.error("Error al guardar:",e),yield M.default.fire({icon:"error",title:"Error",text:e.message||"Ocurri\xF3 un error inesperado"})}})}calcularTotal(e){return e.reduce((t,o)=>t+(o.precio??0)*(o.cantidad||0),0)}resetearFormulario(){this.pedido={cliente_id:null,fecha:new Date().toISOString().split("T")[0],estado_pago:"pendiente",total:0,observaciones:"",tipo:"Almuerzo",cantidad:1}}get clientesBuscados(){if(!this.terminoBusqueda.trim())return this.clientesConPrecios;let e=this.terminoBusqueda.toLowerCase();return this.clientesConPrecios.filter(t=>t.nombre.toLowerCase().includes(e))}get clientesPaginados(){let e=(this.paginaActual-1)*this.clientesPorPagina;return this.clientesBuscados.slice(e,e+this.clientesPorPagina)}get totalPaginas(){return Math.ceil(this.clientesBuscados.length/this.clientesPorPagina)}cambiarPagina(e){e>=1&&e<=this.totalPaginas&&(this.paginaActual=e)}cargarPedidos(){return T(this,null,function*(){this.cargando=!0,this.error=null;try{let e=yield this.supabaseService.obtenerPedidosConDetalle();this.pedidos=e.map(t=>R(G({},t),{tieneAlmuerzosValidos:t.pedidos_almuerzo?.some(o=>o.almuerzos!==null)||!1})),this.pedidosFiltrados=[...this.pedidos],this.mostrarTodos=!0,console.log(this.pedidosFiltrados)}catch(e){this.error=e.message||"Error al cargar pedidos"}finally{this.cargando=!1}})}getEstadoClase(e){switch(e?.toLowerCase()){case"pagado":return"bg-green-100 text-green-800";case"pendiente":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}filtrarPorNombre(){if(!this.nombreBusqueda){this.pedidosFiltrados=[...this.pedidos];return}this.pedidosFiltrados=this.pedidos.filter(e=>e.clientes?.nombre?.toLowerCase().includes(this.nombreBusqueda.toLowerCase())),this.mostrarTodos=!1}filtrarPorFechas(){return T(this,null,function*(){if(!(!this.fechaInicio||!this.fechaFin)){this.cargando=!0;try{let e=yield this.supabaseService.obtenerPedidosConDetalleFiltrado(this.fechaInicio,this.fechaFin);this.pedidosFiltrados=e,this.mostrarTodos=!1,this.nombreBusqueda&&this.filtrarPorNombre()}catch(e){console.error("Error al filtrar pedidos:",e)}finally{this.cargando=!1}}})}calcularTotalMostrado(){return this.pedidosFiltrados.reduce((e,t)=>e+(t.total||0),0)}limpiarFiltros(){this.nombreBusqueda="",this.fechaInicio="",this.fechaFin="",this.estadoFiltro="",this.cargarPedidos()}pedidoSeleccionado=null;filtrarPedidos(){return T(this,null,function*(){this.cargando=!0;try{if(this.fechaInicio&&this.fechaFin){let e=yield this.supabaseService.obtenerPedidosConDetalleFiltrado(this.fechaInicio,this.fechaFin);this.pedidosFiltrados=e,this.mostrarTodos=!1}else this.pedidosFiltrados=[...this.pedidos],this.mostrarTodos=!0;this.nombreBusqueda&&(this.pedidosFiltrados=this.pedidosFiltrados.filter(e=>e.clientes?.nombre?.toLowerCase().includes(this.nombreBusqueda.toLowerCase())),this.mostrarTodos=!1),this.estadoFiltro&&(this.pedidosFiltrados=this.pedidosFiltrados.filter(e=>e.estado_pago?.toLowerCase()===this.estadoFiltro)),this.pedidosFiltrados.sort((e,t)=>new Date(e.fecha).getTime()-new Date(t.fecha).getTime()),this.pedidosFiltrados.length===1?this.pedidoSeleccionado=this.pedidosFiltrados[0]:this.pedidoSeleccionado=null}catch(e){console.error("Error al filtrar pedidos:",e)}finally{this.cargando=!1}})}get pedidosPaginados(){let e=(this.paginaPedidos-1)*this.pedidosPorPagina;return this.pedidosFiltrados.slice(e,e+this.pedidosPorPagina)}get totalPaginasPedidos(){return Math.ceil(this.pedidosFiltrados.length/this.pedidosPorPagina)}cambiarPaginaPedidos(e){e>=1&&e<=this.totalPaginasPedidos&&(this.paginaPedidos=e,this.cargarClientesConPrecios())}toggleEstadoCliente(e){return T(this,null,function*(){let t=!e.activo;try{yield this.supabaseService.cambiarEstadoCliente(e.id,t),e.activo=t,M.default.fire({icon:"success",title:t?"Cliente activado":"Cliente eliminado",timer:1500,showConfirmButton:!1})}catch(o){M.default.fire({icon:"error",title:"Error",text:o.message||"No se pudo actualizar el estado del cliente"})}})}abrirModalEditarCliente(e){this.clienteEdit=JSON.parse(JSON.stringify(e)),this.modalAbierto=!0}cerrarModal(){this.modalAbierto=!1,this.clienteEdit=null}guardarCambiosCliente(){return T(this,null,function*(){if(this.clienteEdit)try{yield this.supabaseService.actualizarClienteConPrecios(this.clienteEdit.id,this.clienteEdit.nombre,this.clienteEdit.telefono,this.clienteEdit.direccion,this.clienteEdit.almuerzos.map(e=>({almuerzo_id:e.id,precio:Number(e.precio)}))),M.default.fire("\xA1\xC9xito!","Cliente actualizado correctamente","success"),this.cerrarModal(),this.cargarPedidos(),this.cargarClientesConPrecios()}catch(e){M.default.fire("Error",e.message||"No se pudo actualizar","error")}})}marcarPedidosFiltradosComoPagados(){return T(this,null,function*(){try{if(!this.pedidosFiltrados.length){yield M.default.fire({icon:"info",title:"Sin pedidos",text:"No hay pedidos filtrados para actualizar."});return}let e=this.pedidosFiltrados[0].clientes?.nombre||"Cliente desconocido",t=this.pedidosFiltrados.reduce((l,p)=>l+(p.total||0),0);if(!(yield M.default.fire({html:`
  <div style="
    font-family: 'Segoe UI', sans-serif;
    background-color: #fef3c7;
    padding: 16px;
    border-radius: 12px;
    border: 1px solid #fcd34d;
    color: #78350f;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  ">
    <h3 style="margin-top: 0; font-size: 18px; font-weight: bold; display: flex; align-items: center;">
      \u{1F4E6} Confirmaci\xF3n de pago masivo
    </h3>

    <p style="margin: 8px 0;">
      Vas a marcar como <strong>pagados</strong> los pedidos del siguiente cliente:
    </p>

    <div style="
      background-color: #fde68a;
      padding: 10px 14px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 10px;
    ">
      \u{1F464} ${e}
    </div>

    <p style="margin: 6px 0;"><strong>Rango de fechas:</strong></p>
    <ul style="list-style: none; padding-left: 0; margin: 0 0 10px 0;">
      <li>\u{1F4C5} <strong>Desde:</strong>  ${this.formatearFecha(this.fechaInicio)}</li>
      <li>\u{1F4C5} <strong>Hasta:</strong>  ${this.formatearFecha(this.fechaFin)}</li>
    </ul>

    <p style="font-size: 15px; margin: 8px 0;"><strong>Total a pagar:</strong></p>
    <div style="
      background-color: #bbf7d0;
      padding: 10px 14px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 18px;
      color: #065f46;
      display: inline-block;
      margin-bottom: 10px;
    ">
      \u{1F4B5} S/ ${t.toFixed(2)}
    </div>

    <hr style="margin: 12px 0; border: none; border-top: 1px solid #facc15;" />

    <p style="text-align: center; font-weight: 500;">\xBFDeseas continuar con esta acci\xF3n?</p>
  </div>
`,showCancelButton:!0,confirmButtonText:"\u2705 S\xED, marcar como pagados",cancelButtonText:"\u274C Cancelar",confirmButtonColor:"#16a34a",cancelButtonColor:"#dc2626"})).isConfirmed)return;let r=this.pedidosFiltrados.map(l=>l.id);yield this.supabaseService.actualizarEstadoPagado(r),yield M.default.fire({icon:"success",title:"Pagos actualizados",text:`Se marcaron ${r.length} pedidos como pagados.`}),this.limpiarFiltros(),this.cargarPedidos()}catch(e){console.error("Error actualizando pagos:",e),yield M.default.fire({icon:"error",title:"Error",text:"No se pudieron actualizar los pagos."})}})}get botonActualizarDeshabilitado(){return!this.pedidosFiltrados?.length||this.estadoFiltro!=="pendiente"?!0:this.pedidosFiltrados.every(e=>e.estado_pago==="pagado")}get filtrosAplicados(){let e=!!this.fechaInicio&&!!this.fechaFin,t=!!this.nombreBusqueda&&this.nombreBusqueda.trim()!=="",o=this.estadoFiltro==="pendiente"||this.estadoFiltro==="pagado";return e&&t&&o}formatearFecha(e){let[t,o,r]=e.split("-").map(Number);return new Date(t,o-1,r).toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}cargarLogo(){return T(this,null,function*(){let t=yield(yield fetch("assets/splash/logo.jpg")).blob();return new Promise(o=>{let r=new FileReader;r.onloadend=()=>o(r.result),r.readAsDataURL(t)})})}generarPDF(){return T(this,null,function*(){let e=new Ve({orientation:"portrait",unit:"mm",format:"a4"}),t=e.internal.pageSize.getWidth(),o=e.internal.pageSize.getHeight();e.setTextColor(240,240,240),e.setDrawColor(240,240,240),e.setFontSize(60),e.setFont("helvetica","bold"),e.text("A FUEGO LENTO",t/2,o/2,{align:"center",angle:45,renderingMode:"fill"}),e.setFillColor(248,248,248),e.setDrawColor(220,220,220),e.setLineWidth(.5),e.rect(10,8,t-20,26,"FD");try{let f=yield this.getBase64ImageFromURL("assets/splash/logoreporte.png");e.addImage(f,"PNG",15,10,25,15)}catch(f){console.warn("No se pudo cargar el logo:",f)}e.setFont("helvetica","bold"),e.setTextColor(50,50,50),e.setFontSize(16),e.text("A FUEGO LENTO",t/2,16,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(80,80,80),["RUC: 1500956527001","Tel: 0958910306"].forEach((f,S)=>{e.text(f,t/2,22+S*4,{align:"center"})}),e.setFontSize(8),e.setTextColor(100,100,100),e.text(`Documento N\xB0: ${this.generarNumeroDocumento()}`,t-15,12,{align:"right"}),e.text(`Fecha de emisi\xF3n: ${new Date().toLocaleDateString("es-PE")}`,t-15,16,{align:"right"}),e.setFillColor(60,60,60),e.rect(t/2-35,38,70,8,"F"),e.setFontSize(12),e.setTextColor(255,255,255),e.setFont("helvetica","bold"),e.text("REPORTE DE PAGOS",t/2,44,{align:"center"});let l="";if(this.nombreBusqueda){let f=this.pedidosFiltrados.find(S=>S.clientes?.nombre?.toLowerCase().includes(this.nombreBusqueda.toLowerCase()));l=f?`CLIENTE: ${f.clientes.nombre.toUpperCase().trim()}${f.clientes.apellido?" "+f.clientes.apellido.toUpperCase().trim():""}`:`CLIENTE: ${this.nombreBusqueda.toUpperCase()}`}else this.pedidoSeleccionado?l=`CLIENTE: ${this.pedidoSeleccionado.clientes.nombre.toUpperCase()}${this.pedidoSeleccionado.clientes.apellido?" "+this.pedidoSeleccionado.clientes.apellido.toUpperCase():""}`:l="";let p=this.estadoFiltro?`ESTADO DE PAGO: ${this.estadoFiltro.toUpperCase()}`:"",Le=this.fechaInicio&&this.fechaFin?`PER\xCDODO: ${this.formatearFecha(this.fechaInicio)} HASTA ${this.formatearFecha(this.fechaFin)}`:"",B=15,H=t-30,X=24,D=2,J=10,Be=7;if(e.setFillColor(245,245,245),e.roundedRect(B,50,H,X,D,D,"F"),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.roundedRect(B,50,H,X,D,D,"S"),e.setFontSize(10),e.setTextColor(60,60,60),e.setFont("helvetica","bold"),e.text(l,B+J,58),this.estadoFiltro){let f=B+H-70,S=60,A=7;this.estadoFiltro.toUpperCase()==="PENDIENTE"?(e.setFillColor(255,235,235),e.setDrawColor(255,180,180)):(e.setFillColor(235,255,235),e.setDrawColor(180,255,180)),e.roundedRect(f,54,S,A,1,1,"FD"),e.setTextColor(80,80,80),e.setFontSize(9),e.text(p,f+S/2,58,{align:"center"})}e.setFont("helvetica","normal"),e.setTextColor(80,80,80),e.text(Le,B+J,58+Be);let De=this.pedidosFiltrados.map(f=>{let A=f.pedidos_almuerzo?.some(P=>P.almuerzos!==null)?f.pedidos_almuerzo.filter(P=>P.almuerzos!==null).map(P=>`${P.almuerzos.nombre} (${P.cantidad})`).join(", "):f.observaciones||"Sin detalles",V=f.estado_pago?.toUpperCase();return[this.formatearFecha(f.fecha),A,`$/ ${f.total?.toFixed(2)}`,V]});yield Ie(e,{head:[["FECHA","DETALLE","TOTAL"]],body:De,startY:78,headStyles:{fillColor:[240,240,240],textColor:[50,50,50],fontStyle:"bold",halign:"center",lineWidth:.5,lineColor:[200,200,200]},bodyStyles:{textColor:[60,60,60],fontSize:9,lineWidth:.3,lineColor:[230,230,230]},alternateRowStyles:{fillColor:[248,248,248]},columnStyles:{0:{cellWidth:"auto",halign:"center"},1:{cellWidth:"auto",halign:"left"},2:{cellWidth:28,halign:"right",fontStyle:"bold"}},styles:{cellPadding:4,overflow:"linebreak",font:"helvetica",valign:"middle"},margin:{left:15,right:15},tableLineColor:[210,210,210],tableLineWidth:.4,didDrawCell:f=>{if(f.column.index===3&&f.row.section==="body"){let S=f.cell.text[0],A=f.cell.x+5,V=f.cell.y+2,P=f.cell.width-10,K=f.cell.height-4;return S==="PENDIENTE"?(e.setFillColor(255,235,235),e.setDrawColor(255,180,180)):(e.setFillColor(235,255,235),e.setDrawColor(180,255,180)),e.roundedRect(A,V,P,K,1,1,"FD"),e.setTextColor(80,80,80),e.setFontSize(8),e.setFont("helvetica","bold"),e.text(S,A+P/2,V+K/2+1,{align:"center",baseline:"middle"}),!0}return!1}});let Q=e.lastAutoTable?.finalY||100;e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(50,50,50);let We=this.pedidosFiltrados.reduce((f,S)=>f+(S.total||0),0);e.text(`TOTAL GENERAL: $/ ${We.toFixed(2)}`,t-15,Q+12,{align:"right"}),e.setDrawColor(180,180,180),e.setLineWidth(.3);let W=20,N=Q+30,U=60;e.line(W,N,W+U,N),e.setFontSize(8),e.setTextColor(120,120,120),e.text("Firma y Sello",W+U/2,N+5,{align:"center"});try{let f=yield this.getBase64ImageFromURL("assets/splash/sello.png"),S=70,A=35,V=W+U/2-S/2,P=N-A+7;e.addImage(f,"PNG",V,P,S,A)}catch(f){console.warn("No se pudo cargar el sello:",f)}let O="";if(this.nombreBusqueda){let f=this.pedidosFiltrados.find(S=>S.clientes?.nombre?.toLowerCase().includes(this.nombreBusqueda.toLowerCase()));O=f?`${f.clientes.nombre.toUpperCase().trim()}${f.clientes.apellido?"_"+f.clientes.apellido.toUpperCase().trim():""}`:this.nombreBusqueda.toUpperCase().replace(/\s+/g,"_")}else this.pedidoSeleccionado?O=`${this.pedidoSeleccionado.clientes.nombre.toUpperCase()}${this.pedidoSeleccionado.clientes.apellido?"_"+this.pedidoSeleccionado.clientes.apellido.toUpperCase():""}`:O="TODOS";let Ne=this.fechaInicio?this.formatearFecha(this.fechaInicio).replace(/\//g,"-"):"INICIO",Oe=this.fechaFin?this.formatearFecha(this.fechaFin).replace(/\//g,"-"):"FIN",je=`Reporte_${O}_desde_${Ne}_hasta_${Oe}.pdf`;e.save(je)})}generarNumeroDocumento(e="CL"){let t=new Date,o=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${e}-${o}-${r}${l}`}getBase64ImageFromURL(e){return new Promise((t,o)=>{let r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{let l=document.createElement("canvas"),p=l.getContext("2d");l.height=r.height,l.width=r.width,p?.drawImage(r,0,0),t(l.toDataURL("image/png"))},r.onerror=l=>o(l),r.src=e})}static \u0275fac=function(t){return new(t||d)(Z(Ae))};static \u0275cmp=ee({type:d,selectors:[["app-almuerzos-contrato"]],decls:153,vars:31,consts:[["sinClientes",""],["clienteForm","ngForm"],["nombreInput","ngModel"],["telefonoInput","ngModel"],["mostrarObservaciones",""],["class","fixed inset-0 z-50 backdrop-blur flex items-center justify-center p-4","role","dialog","aria-modal","true","aria-labelledby","modalUsuarioTitulo",4,"ngIf"],[1,"min-h-screen","bg-gray-50","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-gray-600"],[1,"bg-white","rounded-xl","shadow-md","overflow-hidden","mb-8"],[1,"p-6","border-b","border-gray-100"],[1,"flex","flex-col","md:flex-row","md:justify-between","md:items-center","gap-4"],[1,"text-xl","font-bold","text-gray-800","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mr-2","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"flex","flex-col","md:flex-row","gap-4","w-full","md:w-auto"],[1,"relative","w-full","md:w-72"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar cliente...",1,"w-full","pl-10","border","border-gray-300","rounded-lg","px-4","py-2","text-sm","focus:outline-none","focus:ring-2","focus:ring-orange-300",3,"ngModelChange","ngModel"],["aria-label","Abrir modal para nuevo usuario",1,"bg-orange-600","text-white","px-5","py-2.5","rounded-lg","hover:bg-orange-700","transition-all","shadow-md","hover:shadow-lg","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"overflow-x-auto"],[4,"ngIf","ngIfElse"],[1,"px-6","py-3","bg-gray-50","border-t","border-gray-200","flex","flex-col","md:flex-row","items-center","justify-between","gap-2"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"flex","gap-2"],[1,"px-3","py-1","border","border-gray-300","rounded-md","text-sm","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-md","overflow-hidden","mb-8","border","border-gray-200"],[1,"p-6","border-b","border-gray-100","bg-gradient-to-r","from-orange-50","to-amber-50"],[1,"text-2xl","font-bold","text-gray-800"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","p-6"],[1,"space-y-6"],[1,"space-y-1"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"relative"],["type","text","placeholder","Buscar cliente...",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring-2","focus:ring-orange-500","focus:border-orange-500",3,"ngModelChange","input","blur","ngModel"],["class","absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",4,"ngIf"],["for","fechaPedido",1,"block","text-sm","font-medium","text-gray-700"],["id","fechaPedido","type","date",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring-2","focus:ring-orange-500","focus:border-orange-500",3,"ngModelChange","ngModel"],[1,"space-y-2"],[1,"flex","gap-4"],[1,"inline-flex","items-center"],["type","radio","name","payment","value","pendiente",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300",3,"ngModelChange","ngModel"],[1,"ml-2","text-gray-700"],["type","radio","name","payment","value","pagado",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300",3,"ngModelChange","ngModel"],[1,"border","border-gray-200","rounded-lg","divide-y","divide-gray-200","max-h-72","overflow-y-auto"],["class","p-3 hover:bg-orange-50 transition-colors",4,"ngFor","ngForOf"],[1,"text-gray-500"],["type","text","readonly","","aria-label","Precio Total",1,"w-full","pl-10","border","border-gray-300","rounded-lg","px-4","py-2.5","bg-gray-50","text-gray-700","font-medium",3,"value"],["rows","3","placeholder","Comentarios adicionales...",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring-2","focus:ring-orange-500","focus:border-orange-500",3,"ngModelChange","ngModel"],[1,"px-6","pb-6"],[1,"w-full","bg-orange-600","hover:bg-orange-700","text-white","font-medium","py-3","px-4","rounded-lg","shadow-md","transition-colors","duration-200","focus:outline-none","focus:ring-2","focus:ring-orange-500","focus:ring-offset-2",3,"click"],[1,"bg-white","rounded-xl","shadow-lg","overflow-hidden","mb-8","border","border-gray-100"],[1,"bg-gradient-to-r","from-amber-700","to-amber-600","px-6","py-4","rounded-t-xl","shadow-sm"],[1,"flex","justify-center","mb-4"],[1,"text-xl","font-bold","text-white","tracking-tight","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"flex","flex-col","items-center","space-y-3","md:space-y-0","md:flex-row","md:flex-wrap","md:justify-center","gap-3"],[1,"relative","w-full","md:w-64"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-amber-200"],["type","text","placeholder","Buscar cliente...",1,"block","w-full","pl-10","pr-3","py-1.5","border","border-amber-500","bg-amber-600/50","text-white","rounded-md","leading-5","placeholder-amber-200","focus:outline-none","focus:ring-2","focus:ring-amber-300","focus:border-amber-300","sm:text-sm",3,"ngModelChange","input","ngModel"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-medium","text-amber-100"],["type","date","aria-label","FechaInicio",1,"bg-amber-600/50","border","border-amber-500","text-white","rounded-md","px-3","py-1.5","text-sm","focus:ring-2","focus:ring-amber-300","focus:border-amber-300","transition-all","duration-200","w-full","md:w-40",3,"ngModelChange","change","ngModel"],["type","date","aria-label","FechaFin",1,"bg-amber-600/50","border","border-amber-500","text-white","rounded-md","px-3","py-1.5","text-sm","focus:ring-2","focus:ring-amber-300","focus:border-amber-300","transition-all","duration-200","w-full","md:w-40",3,"ngModelChange","change","ngModel"],["aria-label","estado",1,"bg-amber-600/50","border","border-amber-500","text-white","rounded-md","px-3","py-1.5","text-sm","focus:ring-2","focus:ring-amber-300","focus:border-amber-300","transition-all","duration-200",3,"ngModelChange","change","ngModel"],["value",""],["value","pagado"],["value","pendiente"],[1,"bg-amber-800","hover:bg-amber-700","text-amber-100","px-3","py-1.5","rounded","text-sm","font-medium","transition-colors","flex","items-center","gap-1","shadow-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["class","bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow transition-colors",3,"click",4,"ngIf"],["class","bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-1 shadow-sm",3,"click",4,"ngIf"],[1,"min-w-full","divide-y","divide-amber-100"],[1,"bg-amber-50"],[1,"px-6","py-3","text-left","text-xs","font-semibold","text-amber-800","uppercase","tracking-wider","border-b","border-amber-100"],[1,"bg-white","divide-y","divide-amber-50"],["class","hover:bg-amber-50/50 transition-colors duration-150",4,"ngFor","ngForOf"],[4,"ngIf"],["class","bg-amber-50 px-6 py-4 border-t border-amber-100",4,"ngIf"],["class","flex justify-center mt-4",4,"ngIf"],["role","dialog","aria-modal","true","aria-labelledby","modalUsuarioTitulo",1,"fixed","inset-0","z-50","backdrop-blur","flex","items-center","justify-center","p-4"],[1,"bg-white","rounded-xl","shadow-lg","max-w-xl","w-full","relative","border","border-orange-300","animate-fade-in"],["aria-label","Cerrar modal nuevo usuario",1,"absolute","top-2","right-2","text-gray-500","hover:text-orange-600","transition-colors","text-2xl","font-bold",3,"click"],[1,"p-6"],[1,"flex","items-center","gap-2","mb-5"],[1,"bg-orange-100","p-1.5","rounded-full"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["id","modalUsuarioTitulo",1,"text-xl","font-bold","text-gray-900"],[1,"space-y-4"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-3"],["for","nombre",1,"block","text-xs","font-medium","text-gray-700","mb-1"],["id","nombre","name","nombre","required","","placeholder","Nombre completo",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","outline-none","text-sm",3,"ngModelChange","ngModel"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","telefono",1,"block","text-xs","font-medium","text-gray-700","mb-1"],["id","telefono","name","telefono","type","tel","pattern","[0-9]{7,15}","placeholder","N\xFAmero de tel\xE9fono",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","outline-none","text-sm",3,"ngModelChange","ngModel"],["for","direccion",1,"block","text-xs","font-medium","text-gray-700","mb-1"],["id","direccion","name","direccion","placeholder","Direcci\xF3n completa",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","outline-none","text-sm",3,"ngModelChange","ngModel"],[1,"border-t","border-gray-200","pt-4"],[1,"text-sm","font-semibold","text-gray-900","mb-3"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-3","mb-3"],["for","almuerzo",1,"block","text-xs","font-medium","text-gray-700","mb-1"],["id","almuerzo","name","almuerzoSeleccionado",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","outline-none","text-sm",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","precio",1,"block","text-xs","font-medium","text-gray-700","mb-1"],["id","precio","type","number","min","0","step","0.01","name","precio","placeholder","Precio",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:ring-2","focus:ring-orange-400","focus:border-orange-400","outline-none","text-sm",3,"ngModelChange","ngModel"],[1,"flex","items-end"],["type","button",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-semibold","py-2","rounded-md","transition","disabled:opacity-50","disabled:cursor-not-allowed","flex","justify-center","items-center","gap-1","text-sm",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["class","border-t border-gray-200 pt-3 max-h-36 overflow-y-auto",4,"ngIf"],["type","button",1,"w-full","bg-orange-600","hover:bg-orange-700","text-white","font-semibold","py-2","rounded-md","transition-shadow","shadow-md","hover:shadow-lg","disabled:opacity-50","disabled:cursor-not-allowed","text-sm",3,"click","disabled"],[1,"text-red-600","text-xs","mt-1"],[3,"value"],[1,"border-t","border-gray-200","pt-3","max-h-36","overflow-y-auto"],[1,"text-sm","font-semibold","text-gray-900","mb-2"],["class","flex justify-between items-center bg-gray-50 p-2 rounded-md shadow-sm text-sm",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","bg-gray-50","p-2","rounded-md","shadow-sm","text-sm"],[1,"text-gray-600","ml-1"],["type","button","title","Eliminar",1,"text-red-600","hover:text-red-800","p-1","rounded","transition",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-orange-100","flex","items-center","justify-center","text-orange-800","font-bold"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500","mt-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium",3,"ngClass"],["class","flex justify-between items-center",4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-2"],[1,"text-orange-600","hover:text-orange-900","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"inline-flex","items-center",3,"click","ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","text-gray-900","font-semibold"],[1,"p-6","text-center"],[1,"bg-amber-100","p-4","rounded-lg","inline-block","max-w-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-10","w-10","text-amber-500","mx-auto"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"mt-2","font-medium","text-gray-700"],[1,"text-sm","text-gray-500","mt-1"],[1,"mt-3","bg-orange-600","text-white","px-4","py-2","rounded-lg","text-sm","hover:bg-orange-700","transition-colors","inline-flex","items-center",3,"click"],[1,"fixed","inset-0","bg-black/40","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4","overflow-y-auto"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-md","relative"],["aria-label","Cerrar modal",1,"absolute","top-4","right-4","text-gray-500","hover:text-gray-700","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],[1,"bg-amber-600","px-6","py-4","rounded-t-lg"],[1,"text-xl","font-bold","text-white","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],[1,"p-6","space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","name","nombre","aria-label","nombre","required","","placeholder","Nombre completo",1,"pl-10","w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-amber-500",3,"ngModelChange","ngModel"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["type","text","name","telefono","aria-label","telefono","placeholder","N\xFAmero de contacto",1,"pl-10","w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-amber-500",3,"ngModelChange","ngModel"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["type","text","name","direccion","aria-label","direcion","placeholder","Direcci\xF3n completa",1,"pl-10","w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-amber-500",3,"ngModelChange","ngModel"],[1,"text-sm","font-medium","text-gray-700","mb-3"],["class","mb-3",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-3","pt-4"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-amber-500",3,"click"],["type","submit",1,"px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-amber-600","hover:bg-amber-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-amber-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","inline","mr-1","-mt-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mb-3"],["type","number","min","0","step","0.01","aria-label","precio","required","","placeholder","0.00",1,"pl-10","w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-amber-500",3,"ngModelChange","ngModel","name"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-60","overflow-auto"],["class","px-4 py-3 hover:bg-orange-50 cursor-pointer border-b border-gray-100 last:border-0 flex items-center",3,"click","mousedown",4,"ngFor","ngForOf"],[1,"px-4","py-3","hover:bg-orange-50","cursor-pointer","border-b","border-gray-100","last:border-0","flex","items-center",3,"click","mousedown"],[1,"bg-orange-100","text-orange-800","rounded-full","w-8","h-8","flex","items-center","justify-center","mr-3","text-sm","font-medium"],[1,"p-3","hover:bg-orange-50","transition-colors"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-800","truncate"],[1,"text-xs","text-gray-500","truncate"],["type","number","min","0","aria-label","Cantidad del almuerzo",1,"w-20","border","border-gray-300","rounded-lg","px-3","py-1.5","text-center","focus:ring-2","focus:ring-orange-500","focus:border-orange-500",3,"ngModelChange","ngModel"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","shadow","transition-colors",3,"click"],[1,"bg-red-600","hover:bg-red-700","text-white","px-3","py-1.5","rounded","text-sm","font-medium","transition-colors","flex","items-center","gap-1","shadow-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],[1,"hover:bg-amber-50/50","transition-colors","duration-150"],[1,"h-10","w-10","rounded-full","bg-amber-100","flex","items-center","justify-center","text-amber-700","font-medium","text-sm","border","border-amber-200"],[1,"ml-3"],[1,"flex","flex-wrap","gap-2"],[1,"text-sm","text-gray-900","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","mr-1","text-amber-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-base","font-bold","text-amber-700"],[1,"px-3","py-1.5","inline-flex","text-xs","leading-5","font-semibold","rounded-full","shadow-sm",3,"ngClass"],[1,"w-2","h-2","rounded-full","mr-1.5",3,"ngClass"],[4,"ngFor","ngForOf"],["class","inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium shadow-sm",3,"ngClass",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1.5","rounded-full","text-xs","font-medium","shadow-sm",3,"ngClass"],[1,"ml-1.5","bg-white","text-gray-800","font-bold","rounded-full","w-5","h-5","flex","items-center","justify-center","text-xs","shadow-inner"],[1,"text-sm","italic","text-gray-600"],["colspan","5",1,"px-6","py-16","text-center"],[1,"flex","flex-col","items-center","justify-center","text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","mb-3","text-amber-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium","text-gray-500","text-lg"],[1,"text-sm","text-gray-400","mt-1"],[1,"mt-4","bg-amber-100","hover:bg-amber-200","text-amber-700","px-4","py-2","rounded-full","text-sm","font-medium","transition-colors","flex","items-center","gap-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"bg-amber-50","px-6","py-4","border-t","border-amber-100"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-3"],[1,"text-sm","text-amber-700","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-amber-500"],[1,"font-medium","text-gray-900"],["class","text-gray-600",4,"ngIf"],[1,"text-sm","font-medium","text-amber-700","bg-white","px-4","py-2","rounded-full","shadow-sm","border","border-amber-100"],[1,"text-gray-500","mr-1"],[1,"text-amber-600","font-bold"],[1,"flex","justify-center","mt-4"],[1,"inline-flex","items-center","space-x-2"],[1,"px-3","py-1.5","bg-white","text-amber-700","border","border-amber-300","rounded","hover:bg-amber-100","disabled:opacity-50",3,"click","disabled"],[1,"px-3","py-1.5","border","border-amber-300","rounded","text-amber-700","hover:bg-amber-100",3,"click"]],template:function(t,o){if(t&1){let r=F();_(0,Qe,54,11,"div",5),i(1,"div",6)(2,"header",7)(3,"h1",8),a(4,"Sistema de Control de Almuerzos"),n(),i(5,"p",9),a(6,"Gesti\xF3n de clientes y pedidos"),n()(),i(7,"div",10)(8,"div",11)(9,"div",12)(10,"h2",13),x(),i(11,"svg",14),b(12,"path",15),n(),a(13," Clientes Registrados "),n(),y(),i(14,"div",16)(15,"div",17)(16,"div",18),x(),i(17,"svg",19),b(18,"path",20),n()(),y(),i(19,"input",21),v("ngModelChange",function(p){return c(r),w(o.terminoBusqueda,p)||(o.terminoBusqueda=p),m(p)}),n()(),i(20,"button",22),h("click",function(){return c(r),m(o.abrirModalUsuario())}),x(),i(21,"svg",23),b(22,"path",24),n(),a(23," Nuevo Cliente "),n()()()(),y(),i(24,"div",25),_(25,et,14,1,"div",26)(26,tt,12,0,"ng-template",null,0,$),n(),i(28,"div",27)(29,"div",28),a(30," Mostrando "),i(31,"span",29),a(32),n(),a(33," a "),i(34,"span",29),a(35),n(),a(36," de "),i(37,"span",29),a(38),n(),a(39," clientes "),n(),i(40,"div",30)(41,"button",31),h("click",function(){return c(r),m(o.cambiarPagina(o.paginaActual-1))}),a(42," Anterior "),n(),i(43,"button",31),h("click",function(){return c(r),m(o.cambiarPagina(o.paginaActual+1))}),a(44," Siguiente "),n()()()(),_(45,nt,47,4,"div",32),i(46,"div",33)(47,"div",34)(48,"h2",35),a(49,"Nuevo Pedido"),n()(),i(50,"div",36)(51,"div",37)(52,"div",38)(53,"label",39),a(54,"Cliente"),n(),i(55,"div",40)(56,"input",41),v("ngModelChange",function(p){return c(r),w(o.clienteBusqueda,p)||(o.clienteBusqueda=p),m(p)}),h("input",function(){return c(r),m(o.filtrarClientes())})("blur",function(){return c(r),m(o.cerrarListaSiNoSeleccionado())}),n(),_(57,rt,2,1,"ul",42),n()(),i(58,"div",38)(59,"label",43),a(60,"Fecha"),n(),i(61,"input",44),v("ngModelChange",function(p){return c(r),w(o.pedido.fecha,p)||(o.pedido.fecha=p),m(p)}),n()(),i(62,"div",45)(63,"label",39),a(64,"Estado de Pago"),n(),i(65,"div",46)(66,"label",47)(67,"input",48),v("ngModelChange",function(p){return c(r),w(o.pedido.estado_pago,p)||(o.pedido.estado_pago=p),m(p)}),n(),i(68,"span",49),a(69,"Pendiente"),n()(),i(70,"label",47)(71,"input",50),v("ngModelChange",function(p){return c(r),w(o.pedido.estado_pago,p)||(o.pedido.estado_pago=p),m(p)}),n(),i(72,"span",49),a(73,"Pagado"),n()()()()(),i(74,"div",37)(75,"div",45)(76,"label",39),a(77,"Tipos de Almuerzo"),n(),i(78,"div",51),_(79,at,8,3,"div",52),n()(),i(80,"div",38)(81,"label",39),a(82,"Precio Total"),n(),i(83,"div",40)(84,"div",18)(85,"span",53),a(86,"S/"),n()(),b(87,"input",54),k(88,"number"),n()(),i(89,"div",38)(90,"label",39),a(91,"Observaciones"),n(),i(92,"textarea",55),v("ngModelChange",function(p){return c(r),w(o.pedido.observaciones,p)||(o.pedido.observaciones=p),m(p)}),n()()()(),i(93,"div",56)(94,"button",57),h("click",function(){return c(r),m(o.guardarPedido())}),a(95," Guardar Pedido "),n()()(),i(96,"div",58)(97,"div",59)(98,"div",60)(99,"h2",61),x(),i(100,"svg",62),b(101,"path",63),n(),a(102," REPORTE DIARIO DE PEDIDOS "),n()(),y(),i(103,"div",64)(104,"div",65)(105,"div",18),x(),i(106,"svg",66),b(107,"path",20),n()(),y(),i(108,"input",67),v("ngModelChange",function(p){return c(r),w(o.nombreBusqueda,p)||(o.nombreBusqueda=p),m(p)}),h("input",function(){return c(r),m(o.filtrarPedidos())}),n()(),i(109,"div",68)(110,"span",69),a(111,"Desde:"),n(),i(112,"input",70),v("ngModelChange",function(p){return c(r),w(o.fechaInicio,p)||(o.fechaInicio=p),m(p)}),h("change",function(){return c(r),m(o.filtrarPedidos())}),n()(),i(113,"div",68)(114,"span",69),a(115,"Hasta:"),n(),i(116,"input",71),v("ngModelChange",function(p){return c(r),w(o.fechaFin,p)||(o.fechaFin=p),m(p)}),h("change",function(){return c(r),m(o.filtrarPedidos())}),n()(),i(117,"div",68)(118,"label",69),a(119,"Estado:"),n(),i(120,"select",72),v("ngModelChange",function(p){return c(r),w(o.estadoFiltro,p)||(o.estadoFiltro=p),m(p)}),h("change",function(){return c(r),m(o.filtrarPedidos())}),i(121,"option",73),a(122,"Todos"),n(),i(123,"option",74),a(124,"Pagados"),n(),i(125,"option",75),a(126,"Pendientes"),n()()(),i(127,"div",30)(128,"button",76),h("click",function(){return c(r),m(o.limpiarFiltros())}),x(),i(129,"svg",77),b(130,"path",78),n(),a(131," Limpiar "),n()(),_(132,lt,2,0,"button",79)(133,st,4,0,"button",80),n()(),y(),i(134,"div",25)(135,"table",81)(136,"thead",82)(137,"tr")(138,"th",83),a(139," CLIENTE"),n(),i(140,"th",83),a(141," DETALLE"),n(),i(142,"th",83),a(143," FECHA/HORA"),n(),i(144,"th",83),a(145," TOTAL"),n(),i(146,"th",83),a(147," ESTADO"),n()()(),i(148,"tbody",84),_(149,ut,29,17,"tr",85)(150,gt,13,0,"tr",86),n()()(),_(151,bt,17,7,"div",87)(152,_t,7,4,"div",88),n()()}if(t&2){let r=I(27);g("ngIf",o.modalUsuarioAbierto),s(19),C("ngModel",o.terminoBusqueda),s(6),g("ngIf",o.clientesPaginados.length>0)("ngIfElse",r),s(7),E((o.paginaActual-1)*o.clientesPorPagina+1),s(3),E(o.Math.min(o.paginaActual*o.clientesPorPagina,o.clientesBuscados.length)),s(3),E(o.clientesBuscados.length),s(3),g("disabled",o.paginaActual===1),s(2),g("disabled",o.paginaActual===o.totalPaginas),s(2),g("ngIf",o.modalAbierto),s(11),C("ngModel",o.clienteBusqueda),s(),g("ngIf",o.mostrarListaClientes&&o.clientesFiltrados.length>0),s(4),C("ngModel",o.pedido.fecha),s(6),C("ngModel",o.pedido.estado_pago),s(4),C("ngModel",o.pedido.estado_pago),s(8),g("ngForOf",o.tiposDeAlmuerzo),s(8),g("value",L(88,28,o.calcularTotal(o.tiposDeAlmuerzo),"1.2-2")),s(5),C("ngModel",o.pedido.observaciones),s(16),C("ngModel",o.nombreBusqueda),s(4),C("ngModel",o.fechaInicio),s(4),C("ngModel",o.fechaFin),s(4),C("ngModel",o.estadoFiltro),s(12),g("ngIf",o.filtrosAplicados&&!o.botonActualizarDeshabilitado),s(),g("ngIf",o.filtrosAplicados),s(16),g("ngForOf",o.pedidosPaginados),s(),g("ngIf",o.pedidosFiltrados.length===0),s(),g("ngIf",o.pedidosFiltrados.length>0),s(),g("ngIf",o.totalPaginasPedidos>1)}},dependencies:[fe,se,de,ce,ue,me,ge,pe,Pe,we,Ee,ze,he,ve,Se,ye,be,xe,Fe,Te,Me,Ce,_e,ke],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .2s ease-out}"]})};function Ct(){let d=new Date,e=d.getFullYear(),t=(d.getMonth()+1).toString().padStart(2,"0"),o=d.getDate().toString().padStart(2,"0");return`${e}-${t}-${o}`}export{Y as default};
