import{c as H,d as J,e as Q,f as X,g as Y,h as Z,i as $,k as ee,l as te,m as ie,o as re,p as oe,r as ne}from"./chunk-V4S5BHXF.js";import{a as se}from"./chunk-IY34DK4E.js";import{Ab as x,Bb as f,Bc as ae,Ca as d,Fb as N,Ha as U,Kb as A,Lb as G,Ma as F,Qa as v,Xa as p,Za as B,aa as u,ba as g,ca as S,da as I,db as i,eb as r,fb as _,gc as O,hc as z,ic as D,jb as h,kb as m,lb as s,pb as j,tc as q,uc as K,vb as a,wb as E,xb as w,yb as M,zb as b}from"./chunk-YGAPY4LI.js";import"./chunk-LMZWYZYD.js";import{a as P,h as de,j as y}from"./chunk-K4ALXBGI.js";var C=de(se());var ce=(c,l)=>({"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":l});function ue(c,l){if(c&1&&(i(0,"option",34),a(1),r()),c&2){let e=l.$implicit;p("value",e),d(),w(" ",e," ")}}function ge(c,l){if(c&1&&(i(0,"th",35),a(1),r()),c&2){let e=l.$implicit;d(),w(" ",e.label," ")}}function me(c,l){if(c&1){let e=h();i(0,"tr",36)(1,"td",37),a(2),r(),i(3,"td",38),a(4),r(),i(5,"td",39)(6,"span",40),a(7),r()(),i(8,"td",38),a(9),A(10,"currency"),r(),i(11,"td",39)(12,"span",41),a(13),r()(),i(14,"td",42)(15,"button",43),m("click",function(){let t=u(e).$implicit,n=s();return g(n.abrirModalEditar(t))}),a(16,"Editar"),r(),i(17,"button",44),m("click",function(){let t=u(e).$implicit,n=s();return g(n.confirmarEliminar(t.id))}),a(18,"Eliminar"),r()()()}if(c&2){let e=l.$implicit;d(2),E(e.nombre),d(2),E(e.categorias==null?null:e.categorias.nombre),d(2),p("ngClass",N(10,ce,e.stock_actual>e.stock_minimo,e.stock_actual<=e.stock_minimo)),d(),M(" ",e.stock_actual," / ",e.stock_minimo," "),d(2),E(G(10,8,e.costo_unitario)),d(3),p("ngClass",e.activo?"text-green-700 font-semibold":"text-red-700 font-semibold"),d(),w(" ",e.activo?"Disponible":"No disponible"," ")}}function pe(c,l){if(c&1){let e=h();i(0,"tr",65)(1,"td",66),a(2),r(),i(3,"td",67),a(4),r(),i(5,"td",68)(6,"button",69),m("click",function(){let t=u(e).$implicit,n=s(2);return g(n.abrirModalEditarCategoria(t))}),a(7," Editar "),r()()()}if(c&2){let e=l.$implicit;d(2),E(e.nombre),d(2),E(e.descripcion||"-")}}function _e(c,l){if(c&1){let e=h();i(0,"div",45)(1,"div",46)(2,"button",47),m("click",function(){u(e);let t=s();return g(t.cerrarModalCategorias())}),_(3,"i",48),r(),i(4,"div",49)(5,"h2",50),a(6,"Categor\xEDas"),r()(),i(7,"div",51)(8,"button",52),m("click",function(){u(e);let t=s();return g(t.abrirModalAgregarCategoria())}),_(9,"i",53),a(10,"Agregar categor\xEDa "),r()(),i(11,"div",54)(12,"table",55)(13,"thead",56)(14,"tr")(15,"th",57),a(16,"Nombre"),r(),i(17,"th",57),a(18,"Descripci\xF3n"),r(),i(19,"th",58),a(20,"Acciones"),r()()(),i(21,"tbody"),v(22,pe,8,2,"tr",59),r()()(),i(23,"div",60)(24,"button",61),m("click",function(){u(e);let t=s();return g(t.cambiarPagina(-1))}),_(25,"i",62),r(),i(26,"span",63),a(27),r(),i(28,"button",61),m("click",function(){u(e);let t=s();return g(t.cambiarPagina(1))}),_(29,"i",64),r()()()()}if(c&2){let e=s();d(22),p("ngForOf",e.categoriasPaginadas),d(2),p("disabled",e.currentPage===1),d(3),M("",e.currentPage," de ",e.totalPages(),""),d(),p("disabled",e.currentPage===e.totalPages())}}function be(c,l){if(c&1&&(i(0,"div",87),_(1,"i",88),a(2),r()),c&2){let e=s(2);d(2),w("",e.errorCategoria," ")}}function xe(c,l){if(c&1){let e=h();i(0,"div",70)(1,"div",71)(2,"button",72),m("click",function(){u(e);let t=s();return g(t.cerrarModalAgregarCategoria())}),_(3,"i",73),r(),i(4,"div",74)(5,"h3",75),a(6,"Agregar categor\xEDa"),r()(),i(7,"div",76),v(8,be,3,1,"div",77),i(9,"div",78)(10,"label",79),a(11,"Nombre "),i(12,"span",80),a(13,"*"),r()(),i(14,"input",81),f("ngModelChange",function(t){u(e);let n=s();return x(n.nuevaCategoria.nombre,t)||(n.nuevaCategoria.nombre=t),g(t)}),r()(),i(15,"div",78)(16,"label",79),a(17,"Descripci\xF3n"),r(),i(18,"textarea",82),f("ngModelChange",function(t){u(e);let n=s();return x(n.nuevaCategoria.descripcion,t)||(n.nuevaCategoria.descripcion=t),g(t)}),r()()(),i(19,"div",83)(20,"button",84),m("click",function(){u(e);let t=s();return g(t.cerrarModalAgregarCategoria())}),a(21," Cancelar "),r(),i(22,"button",85),m("click",function(){u(e);let t=s();return g(t.guardarCategoria())}),_(23,"i",86),a(24," Guardar "),r()()()()}if(c&2){let e=s();d(8),p("ngIf",e.errorCategoria),d(6),b("ngModel",e.nuevaCategoria.nombre),d(4),b("ngModel",e.nuevaCategoria.descripcion)}}function fe(c,l){if(c&1){let e=h();i(0,"div",45)(1,"div",89)(2,"button",47),m("click",function(){u(e);let t=s();return g(t.cerrarModalEditarCategoria())}),_(3,"i",48),r(),i(4,"div",49)(5,"h2",50),a(6,"Editar Categor\xEDa"),r()(),i(7,"div",90)(8,"form",91),m("ngSubmit",function(){u(e);let t=s();return g(t.guardarEdicionCategoria())}),i(9,"div",92)(10,"label",93),a(11,"Nombre"),r(),i(12,"input",94),f("ngModelChange",function(t){u(e);let n=s();return x(n.categoriaEditando.nombre,t)||(n.categoriaEditando.nombre=t),g(t)}),r()(),i(13,"div",92)(14,"label",95),a(15,"Descripci\xF3n"),r(),i(16,"input",96),f("ngModelChange",function(t){u(e);let n=s();return x(n.categoriaEditando.descripcion,t)||(n.categoriaEditando.descripcion=t),g(t)}),r()(),i(17,"div",97)(18,"button",98),m("click",function(){u(e);let t=s();return g(t.cerrarModalEditarCategoria())}),a(19," Cancelar "),r(),i(20,"button",99),a(21," Guardar Cambios "),r()()()()()()}if(c&2){let e=s();d(12),b("ngModel",e.categoriaEditando.nombre),d(4),b("ngModel",e.categoriaEditando.descripcion)}}function ve(c,l){if(c&1&&(i(0,"div",137),_(1,"i",138),a(2),r()),c&2){let e=s(2);d(2),w("",e.error," ")}}function he(c,l){if(c&1&&(i(0,"option",139),a(1),r()),c&2){let e=l.$implicit;p("value",e.id),d(),w("",e.nombre," ")}}function ye(c,l){if(c&1){let e=h();i(0,"div",124)(1,"div")(2,"label",111),a(3,"Peso total *"),r(),i(4,"div",113)(5,"input",140),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.pesoTotal,t)||(n.pesoTotal=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitario())}),r(),i(6,"div",128)(7,"span",141),a(8),r()()()(),i(9,"div")(10,"label",111),a(11,"Gramos por corte *"),r(),i(12,"div",113)(13,"input",142),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.gramosPorUnidad,t)||(n.gramosPorUnidad=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitario())}),r(),i(14,"div",128)(15,"span",141),a(16,"g"),r()()()()()}if(c&2){let e=s(2);d(5),b("ngModel",e.pesoTotal),d(3),E(e.unidad==="kg"?"kg":"lb"),d(5),b("ngModel",e.gramosPorUnidad)}}function we(c,l){if(c&1){let e=h();i(0,"div",124)(1,"div")(2,"label",111),a(3,"Litros totales *"),r(),i(4,"div",113)(5,"input",143),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.litrosTotales,t)||(n.litrosTotales=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitario())}),r(),i(6,"div",128)(7,"span",141),a(8,"L"),r()()()(),i(9,"div")(10,"label",111),a(11,"ml por unidad *"),r(),i(12,"div",113)(13,"input",144),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.mililitrosPorUnidad,t)||(n.mililitrosPorUnidad=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitario())}),r(),i(14,"div",128)(15,"span",141),a(16,"ml"),r()()()()()}if(c&2){let e=s(2);d(5),b("ngModel",e.litrosTotales),d(8),b("ngModel",e.mililitrosPorUnidad)}}function Ce(c,l){if(c&1&&(i(0,"div",145),a(1),r()),c&2){let e=s(2);d(),w(" Costo por corte de ",e.gramosPorUnidad||0,"g ")}}function Ee(c,l){c&1&&(i(0,"div",145),a(1," Costo por unidad individual "),r())}function ke(c,l){if(c&1&&(i(0,"div",145),a(1),r()),c&2){let e=s(2);d(),w(" Costo por presentaci\xF3n de ",e.mililitrosPorUnidad||0," ml ")}}function Se(c,l){if(c&1){let e=h();i(0,"div",100)(1,"div",101)(2,"div",102)(3,"h3",103),_(4,"i",104),a(5,"Registrar Producto "),r(),i(6,"button",105),m("click",function(){u(e);let t=s();return g(t.cerrarModalRegistroProducto())}),_(7,"i",106),r()(),i(8,"div",107)(9,"form",91),m("ngSubmit",function(){u(e);let t=s();return g(t.registrarProducto())}),v(10,ve,3,1,"div",108),i(11,"div",109)(12,"div",110)(13,"label",111),a(14,"Nombre *"),r(),i(15,"input",112),f("ngModelChange",function(t){u(e);let n=s();return x(n.nombre,t)||(n.nombre=t),g(t)}),r()(),i(16,"div")(17,"label",111),a(18,"Categor\xEDa *"),r(),i(19,"div",113)(20,"select",114),f("ngModelChange",function(t){u(e);let n=s();return x(n.categoria_id,t)||(n.categoria_id=t),g(t)}),i(21,"option",115),a(22,"Seleccionar..."),r(),v(23,he,2,2,"option",116),r(),i(24,"div",117),_(25,"i",118),r()()(),i(26,"div")(27,"label",111),a(28,"Unidad *"),r(),i(29,"select",119),f("ngModelChange",function(t){u(e);let n=s();return x(n.unidad,t)||(n.unidad=t),g(t)}),m("change",function(){u(e);let t=s();return g(t.calcularCostoUnitario())}),i(30,"option",15),a(31,"Seleccionar..."),r(),i(32,"option",120),a(33,"Libra"),r(),i(34,"option",121),a(35,"Unidad"),r(),i(36,"option",122),a(37,"Litro"),r()()()(),v(38,ye,17,3,"div",123)(39,we,17,2,"div",123),i(40,"div",124)(41,"div")(42,"label",111),a(43,"Costo total *"),r(),i(44,"div",113)(45,"span",125),a(46,"$"),r(),i(47,"input",126),f("ngModelChange",function(t){u(e);let n=s();return x(n.costo_total,t)||(n.costo_total=t),g(t)}),m("input",function(){u(e);let t=s();return g(t.calcularCostoUnitario())}),r()()(),i(48,"div")(49,"label",111),a(50,"Stock actual *"),r(),i(51,"div",113)(52,"input",127),f("ngModelChange",function(t){u(e);let n=s();return x(n.stock_actual,t)||(n.stock_actual=t),g(t)}),m("input",function(){u(e);let t=s();return g(t.calcularCostoUnitario())}),r(),i(53,"div",128),S(),i(54,"svg",129),_(55,"path",130),r()()()()(),I(),i(56,"div",131)(57,"label",111),a(58,"Costo unitario *"),r(),i(59,"div",113)(60,"span",125),a(61,"$"),r(),i(62,"input",132),f("ngModelChange",function(t){u(e);let n=s();return x(n.costo_unitario,t)||(n.costo_unitario=t),g(t)}),r()(),v(63,Ce,2,1,"div",133)(64,Ee,2,0,"div",133)(65,ke,2,1,"div",133),r(),i(66,"div",134)(67,"button",135),_(68,"i",136),i(69,"span"),a(70),r()()()()()()()}if(c&2){let e=s();d(10),p("ngIf",e.error),d(5),b("ngModel",e.nombre),d(5),b("ngModel",e.categoria_id),d(3),p("ngForOf",e.categorias),d(6),b("ngModel",e.unidad),d(9),p("ngIf",e.unidad==="kg"||e.unidad==="lb"),d(),p("ngIf",e.unidad==="l"),d(8),b("ngModel",e.costo_total),d(5),B("bg-gray-100",e.unidad==="kg"||e.unidad==="lb"),j("placeholder","Ej: ",e.unidad==="kg"||e.unidad==="lb"?"100 (cortes)":"100.5",""),b("ngModel",e.stock_actual),p("readonly",e.unidad==="kg"||e.unidad==="lb")("min",e.unidad==="kg"||e.unidad==="lb"?"1":"0.1")("step",e.unidad==="kg"||e.unidad==="lb"?"1":"0.1"),d(10),b("ngModel",e.costo_unitario),d(),p("ngIf",e.unidad==="kg"||e.unidad==="lb"),d(),p("ngIf",e.unidad==="cantidad"),d(),p("ngIf",e.unidad==="l"),d(2),p("disabled",e.isLoading),d(3),E(e.isLoading?"Guardando...":"Guardar")}}function Me(c,l){if(c&1){let e=h();i(0,"div",165)(1,"div")(2,"label",111),a(3,"Gramos por unidad"),r(),i(4,"input",166),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.productoEditando.gramosPorUnidad,t)||(n.productoEditando.gramosPorUnidad=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitarioEditar())}),r()(),i(5,"div")(6,"label",111),a(7),r(),i(8,"input",167),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.productoEditando.pesoTotal,t)||(n.productoEditando.pesoTotal=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitarioEditar())}),r()()()}if(c&2){let e=s(2);d(4),b("ngModel",e.productoEditando.gramosPorUnidad),d(3),w("Peso total (",e.productoEditando.unidad,")"),d(),b("ngModel",e.productoEditando.pesoTotal)}}function Pe(c,l){if(c&1){let e=h();i(0,"div",165)(1,"div")(2,"label",111),a(3,"Litros totales"),r(),i(4,"input",168),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.productoEditando.litrosTotales,t)||(n.productoEditando.litrosTotales=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitarioEditar())}),r()(),i(5,"div")(6,"label",111),a(7,"ml por unidad"),r(),i(8,"input",169),f("ngModelChange",function(t){u(e);let n=s(2);return x(n.productoEditando.mililitrosPorUnidad,t)||(n.productoEditando.mililitrosPorUnidad=t),g(t)}),m("input",function(){u(e);let t=s(2);return g(t.calcularCostoUnitarioEditar())}),r()()()}if(c&2){let e=s(2);d(4),b("ngModel",e.productoEditando.litrosTotales),d(4),b("ngModel",e.productoEditando.mililitrosPorUnidad)}}function Ie(c,l){if(c&1){let e=h();i(0,"div",100)(1,"div",146),m("click",function(){u(e);let t=s();return g(t.cerrarModalEditar())}),r(),i(2,"div",147)(3,"div",148)(4,"h2",103),_(5,"i",149),a(6,"Editar Producto "),r(),i(7,"button",150),m("click",function(){u(e);let t=s();return g(t.cerrarModalEditar())}),_(8,"i",106),r()(),i(9,"div",151)(10,"form",152),m("ngSubmit",function(){u(e);let t=s();return g(t.guardarCambiosProducto())}),i(11,"div")(12,"label",111),a(13,"Nombre *"),r(),i(14,"input",153),f("ngModelChange",function(t){u(e);let n=s();return x(n.productoEditando.nombre,t)||(n.productoEditando.nombre=t),g(t)}),r()(),i(15,"div")(16,"label",111),a(17,"Unidad *"),r(),i(18,"select",154),f("ngModelChange",function(t){u(e);let n=s();return x(n.productoEditando.unidad,t)||(n.productoEditando.unidad=t),g(t)}),m("change",function(){u(e);let t=s();return g(t.calcularCostoUnitarioEditar())}),i(19,"option",121),a(20,"Unidad"),r(),i(21,"option",120),a(22,"Libra"),r(),i(23,"option",155),a(24,"Kilogramo"),r(),i(25,"option",122),a(26,"Litro"),r()()(),i(27,"div")(28,"label",111),a(29,"Stock actual (existente)"),r(),_(30,"input",156),r(),i(31,"div")(32,"label",111),a(33,"Nuevo stock "),r(),_(34,"input",157),r(),i(35,"div")(36,"label",111),a(37,"Stock total (existente + nuevo)"),r(),_(38,"input",158),r(),i(39,"div")(40,"label",111),a(41,"Costo total"),r(),i(42,"input",159),f("ngModelChange",function(t){u(e);let n=s();return x(n.productoEditando.costo_total,t)||(n.productoEditando.costo_total=t),g(t)}),m("input",function(){u(e);let t=s();return g(t.calcularCostoUnitarioEditar())}),r()(),v(43,Me,9,3,"div",160)(44,Pe,9,2,"div",160),i(45,"div")(46,"label",111),a(47,"Costo unitario"),r(),i(48,"input",161),f("ngModelChange",function(t){u(e);let n=s();return x(n.productoEditando.costo_unitario,t)||(n.productoEditando.costo_unitario=t),g(t)}),r()(),i(49,"div",162)(50,"button",163),m("click",function(){u(e);let t=s();return g(t.cerrarModalEditar())}),a(51,"Cancelar"),r(),i(52,"button",164),_(53,"i",136),a(54,"Guardar "),r()()()()()()}if(c&2){let e=s();d(14),b("ngModel",e.productoEditando.nombre),d(4),b("ngModel",e.productoEditando.unidad),d(12),p("value",e.productoEditando.stock_base),d(4),p("value",e.nuevoStock),d(4),p("value",e.productoEditando.stock_actual),d(4),b("ngModel",e.productoEditando.costo_total),d(),p("ngIf",e.productoEditando.unidad==="lb"||e.productoEditando.unidad==="kg"),d(),p("ngIf",e.productoEditando.unidad==="l"),d(4),b("ngModel",e.productoEditando.costo_unitario)}}var V=class c{constructor(l){this.supabaseService=l}products=[];filteredProducts=[];searchTerm="";selectedCategory="";categories=[];nombre="";descripcion="";error="";isLoading=!1;mostrarModalCategorias=!1;mostrarModalAgregarCategoria=!1;nuevaCategoria={nombre:"",descripcion:""};errorCategoria="";categorias=[];categoria_id="";mostrarModalEditar=!1;productoEditando={};stockAAgregar=0;columns=[{key:"nombre",label:"Producto"},{key:"categoria",label:"Categor\xEDa"},{key:"stock",label:"Stock"},{key:"precio",label:"Precio"},{key:"estado",label:"Estado"}];currentPage=1;itemsPerPage=5;unidad="";categoria="";stock_actual=0;stock_minimo=5;costo_unitario=0;activo=!0;mostrarModalRegistroProducto=!1;mostrarModalEditarCategoria=!1;categoriaEditando={};pesoTotal=0;gramosPorUnidad=0;costoTotal=0;costo_total=0;stockTotal=0;sobranteGramos=0;litrosTotales=0;mililitrosPorUnidad=0;nuevoStock=0;ngOnInit(){return y(this,null,function*(){yield this.loadProducts();try{let l=yield this.supabaseService.obtenerCategorias();this.categorias=l}catch(l){console.error(l)}})}cerrarModalCategorias(){this.mostrarModalCategorias=!1}abrirModalAgregarCategoria(){this.mostrarModalAgregarCategoria=!0}cerrarModalAgregarCategoria(){this.mostrarModalAgregarCategoria=!1,this.nuevaCategoria={nombre:"",descripcion:""},this.errorCategoria=""}loadCategorias(){return y(this,null,function*(){try{let l=yield this.supabaseService.obtenerCategorias();this.categorias=l}catch(l){console.error("Error al cargar las categor\xEDas:",l)}})}guardarCategoria(){return y(this,null,function*(){if(!this.nuevaCategoria.nombre.trim()){this.errorCategoria="El nombre es obligatorio.";return}try{yield this.supabaseService.agregarCategoria(this.nuevaCategoria),this.categorias=yield this.supabaseService.obtenerCategorias(),this.cerrarModalAgregarCategoria(),C.default.fire({icon:"success",title:"\xA1Categor\xEDa agregada!",text:"La categor\xEDa se agreg\xF3 correctamente.",confirmButtonColor:"#000"})}catch(l){this.errorCategoria=l.message}})}get categoriasPaginadas(){let l=(this.currentPage-1)*this.itemsPerPage,e=l+this.itemsPerPage;return this.categorias.slice(l,e)}paginatedProducts(){let l=[...this.filteredProducts].sort((t,n)=>t.activo===n.activo?0:t.activo?1:-1),e=(this.currentPage-1)*this.itemsPerPage,o=e+this.itemsPerPage;return l.slice(e,o)}totalPages(){return Math.ceil(this.filteredProducts.length/this.itemsPerPage)}cambiarPagina(l){let e=this.currentPage+l;e>=1&&e<=this.totalPages()&&(this.currentPage=e)}loadProducts(){return y(this,null,function*(){try{let e=((yield this.supabaseService.obtenerProductos())||[]).filter(o=>!o.eliminado);this.products=e,console.log(this.products),this.filteredProducts=[...this.products],this.categories=[...new Set(this.products.map(o=>o.categorias?.nombre))]}catch(l){console.error("Error loading products:",l)}})}applyFilter(){this.filteredProducts=this.products.filter(l=>{let e=l.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())||l.categorias?.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()),o=!this.selectedCategory||l.categorias?.nombre===this.selectedCategory;return e&&o})}abrirModalEditar(l){this.productoEditando=P({},l),this.productoEditando.stock_base=l.stock_actual,this.stockAAgregar=0,this.mostrarModalEditar=!0}cerrarModalEditar(){this.mostrarModalEditar=!1}guardarCambiosProducto(){return y(this,null,function*(){try{yield this.supabaseService.editarProducto(this.productoEditando.id,{nombre:this.productoEditando.nombre,stock_actual:this.productoEditando.stock_actual}),yield C.default.fire({icon:"success",title:"\xA1Producto actualizado!",confirmButtonColor:"#facc15"}),this.cerrarModalEditar(),this.loadProducts()}catch(l){console.error("Error actualizando producto:",l),yield C.default.fire({icon:"error",title:"Error",text:"No se pudo actualizar el producto.",confirmButtonColor:"#facc15"})}})}confirmarEliminar(l){return y(this,null,function*(){(yield C.default.fire({title:"\xBFEst\xE1s seguro?",text:"\xA1Esta acci\xF3n no se puede deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f87171",cancelButtonColor:"#d1d5db",confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(yield this.supabaseService.eliminarProducto(l),yield C.default.fire({icon:"success",title:"\xA1Producto Eliminado!",confirmButtonColor:"#facc15"}),this.loadProducts())})}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage*this.itemsPerPage<this.products.length&&this.currentPage++}registrarCategoria(){return y(this,null,function*(){if(!this.nombre){this.error="El nombre es obligatorio";return}this.isLoading=!0,this.error="";try{yield this.supabaseService.agregarCategoria({nombre:this.nombre,descripcion:this.descripcion}),alert("Categor\xEDa registrada"),this.nombre="",this.descripcion=""}catch(l){this.error=l.message}finally{this.isLoading=!1}})}abrirModalEditarCategoria(l){this.categoriaEditando=P({},l),this.mostrarModalEditarCategoria=!0}cerrarModalEditarCategoria(){this.mostrarModalEditarCategoria=!1}guardarEdicionCategoria(){return y(this,null,function*(){try{yield this.supabaseService.editarCategoria(this.categoriaEditando.id,{nombre:this.categoriaEditando.nombre,descripcion:this.categoriaEditando.descripcion}),yield C.default.fire({icon:"success",title:"\xA1Categor\xEDa actualizada!",confirmButtonColor:"#facc15"}),this.cerrarModalEditarCategoria(),this.loadCategorias()}catch(l){console.error("Error actualizando categor\xEDa:",l),yield C.default.fire({icon:"error",title:"Error",text:"No se pudo actualizar la categor\xEDa.",confirmButtonColor:"#facc15"})}})}abrirModalRegistroProducto(){this.mostrarModalRegistroProducto=!0}cerrarModalRegistroProducto(){this.mostrarModalRegistroProducto=!1,this.limpiarFormulario()}registrarProducto(){return y(this,null,function*(){if(!this.nombre||!this.unidad||!this.categoria_id||this.stock_actual<=0||this.costo_unitario<=0){this.error="Por favor, completa todos los campos correctamente.";return}this.isLoading=!0,this.error="";let l={nombre:this.nombre,unidad:this.unidad,categoria_id:this.categoria_id,stock_actual:this.stock_actual,stock_minimo:this.stock_minimo,costo_unitario:this.costo_unitario,activo:this.activo};try{yield this.supabaseService.agregarProducto(l),C.default.fire({icon:"success",title:"\xA1Producto registrado con \xE9xito!",text:"El producto se ha registrado correctamente.",confirmButtonText:"Aceptar"}).then(()=>{this.cerrarModalRegistroProducto(),this.loadProducts()}),this.limpiarFormulario()}catch(e){e instanceof Error?this.error=e.message:this.error="Ocurri\xF3 un error inesperado"}finally{this.isLoading=!1}})}limpiarFormulario(){this.nombre="",this.unidad="",this.categoria="",this.stock_actual=0,this.stock_minimo=5,this.costo_unitario=0,this.activo=!0,this.costo_total=0}calcularCostoUnitario(){if(this.costo_unitario=0,this.sobranteGramos=0,this.unidad==="kg"||this.unidad==="lb"){this.stock_actual=0;let o=this.unidad==="kg"?this.pesoTotal*1e3:this.pesoTotal*453.592;this.gramosPorUnidad>0&&(this.stock_actual=Math.floor(o/this.gramosPorUnidad),this.sobranteGramos=o%this.gramosPorUnidad),this.stock_actual>0&&this.costo_total>0&&(this.costo_unitario=Number((this.costo_total/this.stock_actual).toFixed(2)))}else if(this.unidad==="cantidad")this.stock_actual>0&&this.costo_total>0&&(this.costo_unitario=Number((this.costo_total/this.stock_actual).toFixed(2)));else if(this.unidad==="l"){let l=this.litrosTotales*1e3;this.mililitrosPorUnidad>0&&(this.stock_actual=Math.floor(l/this.mililitrosPorUnidad)),this.stock_actual>0&&this.costo_total>0&&(this.costo_unitario=Number((this.costo_total/this.stock_actual).toFixed(2)))}}calcularCostoUnitarioEditar(){let l=this.productoEditando.unidad,e=+this.productoEditando.costo_total||0,o=+this.productoEditando.stock_base||0,t=+this.productoEditando.gramosPorUnidad||0,n=+this.productoEditando.pesoTotal||0,le=+this.productoEditando.litrosTotales||0,T=+this.productoEditando.mililitrosPorUnidad||0,R=0,k=0;if(l==="kg"||l==="lb"){let L=l==="kg"?n*1e3:n*453.592;t>0&&(k=Math.floor(L/t),R=L%t),this.productoEditando.sobranteGramos=R}else if(l==="cantidad")k=0;else if(l==="l"){let W=le*1e3;T>0&&(k=Math.floor(W/T))}this.nuevoStock=k,this.stockTotal=o+k,this.productoEditando.stock_actual=this.stockTotal,k>0&&e>0?this.productoEditando.costo_unitario=+(e/k).toFixed(2):this.productoEditando.costo_unitario=0}static \u0275fac=function(e){return new(e||c)(U(ae))};static \u0275cmp=F({type:c,selectors:[["app-inventario"]],decls:45,vars:14,consts:[[1,"min-h-screen","bg-white","text-black","flex","flex-col","md:flex-row"],[1,"flex-1","p-4","md:p-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4","mb-6"],[1,"text-3xl","font-bold","text-black"],[1,"flex","flex-col","md:flex-row","gap-3","w-full","md:w-auto"],[1,"flex","justify-center","items-center","gap-2","w-full","md:w-auto","px-6","py-3","bg-[#FF9800]","text-white","rounded-lg","hover:bg-[#FB8C00]","transition","cursor-pointer","whitespace-nowrap",3,"click"],[1,"fas","fa-box"],[1,"flex","justify-center","items-center","gap-2","w-full","md:w-auto","px-6","py-3","bg-[#FFC107]","text-black","rounded-lg","hover:bg-[#FFB300]","transition","cursor-pointer","whitespace-nowrap",3,"click"],[1,"bi","bi-tags-fill"],[1,"bg-gray-100","rounded-xl","shadow-lg","p-4","mb-6"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"flex-1","relative"],["type","text","placeholder","Buscar productos...",1,"w-full","pl-10","pr-4","py-2","border","border-black","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-black","text-black","bg-white","placeholder-gray-500",3,"ngModelChange","input","ngModel"],[1,"fas","fa-search","absolute","left-3","top-3","text-gray-600"],["title","categor\xEDa",1,"px-4","py-2","border","border-black","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-black","text-black","bg-white",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"bg-gray-100","rounded-xl","shadow-lg","overflow-x-auto"],[1,"min-w-full","divide-y","divide-black"],[1,"tabla-encabezado"],["class","px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide",4,"ngFor","ngForOf"],[1,"px-6","py-3"],[1,"divide-y","divide-black"],["class","hover:bg-gray-200 transition duration-200",4,"ngFor","ngForOf"],[1,"mt-6","flex","items-center","justify-center","gap-6"],["title","bu",1,"px-4","py-2","bg-black","text-white","font-medium","rounded-full","shadow-lg","hover:bg-[#FFC107]","hover:text-black","transition","duration-300","ease-in-out","transform","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-black","focus:ring-opacity-50",3,"click","disabled"],[1,"flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-sm","text-black","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-2",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",4,"ngIf"],["class","fixed inset-0 flex items-center justify-center z-50 backdrop-blur-lg",4,"ngIf"],[3,"value"],[1,"px-6","py-3","text-left","text-xs","font-semibold","uppercase","tracking-wide"],[1,"hover:bg-gray-200","transition","duration-200"],[1,"px-6","py-4","whitespace-nowrap","font-medium","text-black"],[1,"px-6","py-4","whitespace-nowrap","text-gray-700"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-2","inline-flex","text-xs","font-semibold","rounded-full",3,"ngClass"],[3,"ngClass"],[1,"px-6","py-4","text-right"],[1,"text-sm","text-blue-600","hover:text-blue-800","hover:underline","mr-3","cursor-pointer",3,"click"],[1,"text-sm","text-red-600","hover:text-red-800","hover:underline","cursor-pointer",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/60","backdrop-blur-sm","px-2"],[1,"bg-white","text-black","rounded-xl","w-full","max-w-4xl","shadow-2xl","border","border-yellow-600","relative","max-h-[90vh]","flex","flex-col","overflow-hidden"],["title","Cerrar",1,"absolute","top-3","right-3","text-black","bg-orange-500","hover:bg-orange-600","rounded-full","w-8","h-8","flex","items-center","justify-center","transition","duration-200","cursor-pointer",3,"click"],[1,"bi","bi-x-lg","text-base"],[1,"bg-white","text-black","px-4","py-4","flex","items-center","justify-between","border-b","border-yellow-500"],[1,"text-lg","font-semibold"],[1,"px-4","py-3","bg-white","border-b","border-yellow-500","flex","justify-end"],[1,"bg-orange-500","text-white","px-4","py-2","rounded-lg","hover:bg-orange-600","transition","cursor-pointer","text-sm",3,"click"],[1,"fas","fa-plus","mr-2"],[1,"overflow-auto","px-4","py-2","grow"],[1,"w-full","text-sm","text-left","border-collapse","bg-gray-100"],[1,"bg-gray-200","text-gray-800","sticky","top-0"],[1,"px-4","py-3"],[1,"px-4","py-3","text-center"],["class","hover:bg-orange-500 transition cursor-pointer border-b border-gray-300",4,"ngFor","ngForOf"],[1,"flex","justify-center","items-center","gap-2","p-4","bg-white","border-t","border-yellow-500"],["title","bu",1,"p-2","bg-white","text-black","rounded-full","hover:bg-orange-500","disabled:opacity-40","cursor-pointer","transition","duration-200",3,"click","disabled"],[1,"bi","bi-chevron-left","text-lg"],[1,"text-sm","text-black"],[1,"bi","bi-chevron-right","text-lg"],[1,"hover:bg-orange-500","transition","cursor-pointer","border-b","border-gray-300"],[1,"px-4","py-3","text-gray-900"],[1,"px-4","py-3","text-gray-600"],[1,"px-4","py-3","text-center","space-x-2"],[1,"text-sm","text-blue-500","hover:text-blue-700","hover:underline","cursor-pointer",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/40","backdrop-blur-sm","p-4"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-yellow-600","w-full","max-w-md","relative","overflow-hidden"],["title","Cerrar",1,"absolute","top-3","right-3","text-black","hover:bg-orange-500","hover:text-white","bg-yellow-200","rounded-full","w-8","h-8","flex","items-center","justify-center","transition","cursor-pointer",3,"click"],[1,"bi","bi-x-lg","text-sm"],[1,"bg-black","px-6","py-4","rounded-t-2xl"],[1,"text-white","text-lg","font-semibold","tracking-wide"],[1,"px-6","py-5","space-y-5","bg-white"],["class","p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-300",4,"ngIf"],[1,"space-y-1"],[1,"text-sm","font-medium","text-gray-800"],[1,"text-red-500"],["placeholder","Ej: Frutas, Bebidas...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-400","focus:border-orange-500","transition",3,"ngModelChange","ngModel"],["placeholder","Opcional",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-400","focus:border-orange-500","transition","min-h-[80px]","resize-none",3,"ngModelChange","ngModel"],[1,"flex","justify-end","px-6","py-4","bg-white","border-t","border-yellow-600","gap-3"],[1,"px-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-100","transition","cursor-pointer",3,"click"],[1,"px-4","py-2","bg-orange-500","text-white","rounded-lg","hover:bg-orange-600","transition","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"bi","bi-save"],[1,"p-3","bg-red-100","text-red-700","rounded-lg","text-sm","border","border-red-300"],[1,"bi","bi-exclamation-triangle-fill","mr-2"],[1,"bg-white","text-black","rounded-xl","w-full","max-w-md","shadow-2xl","border","border-yellow-600","relative","max-h-[90vh]","flex","flex-col","overflow-hidden"],[1,"px-4","py-4"],[3,"ngSubmit"],[1,"mb-4"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700"],["id","nombre","name","nombre","type","text","required","",1,"w-full","px-4","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["for","descripcion",1,"block","text-sm","font-medium","text-gray-700"],["id","descripcion","name","descripcion","type","text",1,"w-full","px-4","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-3"],["type","button",1,"px-4","py-2","bg-gray-300","rounded-md","hover:bg-gray-400","cursor-pointer",3,"click"],["type","submit",1,"px-4","py-2","bg-orange-500","text-white","rounded-md","hover:bg-orange-600","cursor-pointer"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50","backdrop-blur-lg"],[1,"bg-white/90","rounded-xl","shadow-2xl","border","border-amber-500/30","w-[90vw]","max-w-md","max-h-[90vh]","my-4","flex","flex-col","overflow-hidden","backdrop-blur-md"],[1,"bg-black/60","px-6","py-4","border-b","border-amber-500/20","flex","justify-between","items-center","backdrop-blur-sm","sticky","top-0","z-10"],[1,"text-xl","font-bold","text-amber-500"],[1,"fas","fa-utensils","mr-2","text-amber-400"],["title","Cerrar",1,"text-amber-400","hover:text-white","transition-transform","hover:scale-110","cursor-pointer",3,"click"],[1,"fas","fa-times","text-lg"],[1,"p-6","space-y-4","bg-white/90","backdrop-blur-sm","overflow-y-auto","flex-1"],["class","bg-red-900/40 text-amber-100 p-3 rounded-lg border border-red-700/40 mb-4 backdrop-blur-xs",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2"],[1,"block","text-sm","font-medium","text-amber-400","mb-1"],["name","nombre","type","text","placeholder","Ej: Lomo de At\xFAn","required","",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","placeholder-gray-500","backdrop-blur-xs",3,"ngModelChange","ngModel"],[1,"relative"],["name","categoria_id","aria-label","categoria",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","appearance-none","backdrop-blur-xs",3,"ngModelChange","ngModel"],["value","",1,"text-gray-500","bg-white"],["class","bg-white text-black",3,"value",4,"ngFor","ngForOf"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","pr-3","text-amber-400"],[1,"fas","fa-chevron-down","text-sm"],["name","unidad","aria-label","unidad",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","backdrop-blur-xs",3,"ngModelChange","change","ngModel"],["value","lb"],["value","cantidad"],["value","l"],["class","grid grid-cols-2 gap-4 mt-4",4,"ngIf"],[1,"grid","grid-cols-2","gap-4","mt-4"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-500"],["name","costo_total","type","number","min","0.01","step","0.01","placeholder","Ej: 90.00",1,"w-full","pl-8","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],["name","stock_actual","type","number","required","",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500","backdrop-blur-xs",3,"ngModelChange","input","ngModel","readonly","min","step","placeholder"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"mt-4"],["name","costo_unitario","type","number","readonly","","title","Costo calculado autom\xE1ticamente",1,"w-full","pl-8","pr-4","py-2","bg-gray-100","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","ngModel"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"flex","justify-end","gap-3","pt-6","sticky","bottom-0","bg-white/90","pb-2","-mx-6","px-6","border-t","border-amber-500/20","mt-4"],["type","submit",1,"px-5","py-2","bg-amber-600","text-black","font-medium","rounded-lg","hover:bg-amber-500","transition-colors","flex","items-center","backdrop-blur-xs","cursor-pointer",3,"disabled"],[1,"fas","fa-save","mr-2"],[1,"bg-red-900/40","text-amber-100","p-3","rounded-lg","border","border-red-700/40","mb-4","backdrop-blur-xs"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"bg-white","text-black",3,"value"],["name","pesoTotal","type","number","min","0.01","step","0.01","placeholder","Ej: 2.5",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],[1,"text-gray-500"],["name","gramosPorUnidad","type","number","min","1","step","1","placeholder","Ej: 250",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],["name","litrosTotales","type","number","min","0.01","step","0.01","placeholder","Ej: 5.0",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],["name","mililitrosPorUnidad","type","number","min","1","step","1","placeholder","Ej: 500",1,"w-full","pl-10","pr-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-1","focus:ring-amber-500",3,"ngModelChange","input","ngModel"],[1,"text-xs","text-gray-500","mt-1"],[1,"absolute","inset-0","bg-black/40","backdrop-blur-sm",3,"click"],[1,"bg-white/90","rounded-xl","shadow-2xl","border","border-amber-500/30","w-[95vw]","max-w-md","flex","flex-col","overflow-hidden","backdrop-blur-md","relative","mx-4"],[1,"flex","items-center","justify-between","px-6","py-4","bg-black/60","border-b","border-amber-500/20"],[1,"fas","fa-edit","mr-2","text-amber-400"],["aria-label","cerrar",1,"text-amber-400","hover:text-white","transition-transform","hover:scale-110",3,"click"],[1,"p-6","space-y-4","overflow-y-auto","max-h-[80vh]"],[1,"space-y-4",3,"ngSubmit"],["name","nombre","type","text","aria-label","nombre","required","",1,"w-full","px-4","py-2","bg-white","text-black","border","border-gray-700","rounded-lg","focus:ring-amber-500",3,"ngModelChange","ngModel"],["name","unidad","aria-label","unidad",1,"w-full","px-4","py-2","border","border-gray-700","rounded-lg","focus:ring-amber-500",3,"ngModelChange","change","ngModel"],["value","kg"],["readonly","","aria-label","stock actual",1,"w-full","px-4","py-2","bg-gray-100","text-black","border","border-gray-700","rounded-lg",3,"value"],["readonly","","aria-label","stock nuevo",1,"w-full","px-4","py-2","bg-gray-100","text-black","border","border-gray-700","rounded-lg",3,"value"],["readonly","","aria-label","stock total",1,"w-full","px-4","py-2","bg-gray-100","text-black","border","border-gray-700","rounded-lg",3,"value"],["type","number","name","costo_total","placeholder","Ej: 100.00",1,"w-full","px-4","py-2","bg-white","border","border-gray-700","rounded-lg",3,"ngModelChange","input","ngModel"],["class","grid grid-cols-2 gap-4",4,"ngIf"],["type","number","name","costo_unitario","readonly","","aria-label","costo unitario",1,"w-full","px-4","py-2","bg-gray-100","border","border-gray-700","rounded-lg",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-4","pt-4"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","text-black","rounded-lg","hover:bg-gray-100",3,"click"],["type","submit",1,"px-4","py-2","bg-amber-600","text-black","font-medium","rounded-lg","hover:bg-amber-500","flex","items-center"],[1,"grid","grid-cols-2","gap-4"],["type","number","name","gramosPorUnidad","placeholder","Ej: 250",1,"w-full","px-4","py-2","bg-white","border","border-gray-700","rounded-lg",3,"ngModelChange","input","ngModel"],["type","number","name","pesoTotal","placeholder","Ej: 5",1,"w-full","px-4","py-2","bg-white","border","border-gray-700","rounded-lg",3,"ngModelChange","input","ngModel"],["type","number","name","litrosTotales","aria-label","litros totales",1,"w-full","px-4","py-2","bg-white","border","border-gray-700","rounded-lg",3,"ngModelChange","input","ngModel"],["type","number","name","mililitrosPorUnidad","aria-label","mililitros",1,"w-full","px-4","py-2","bg-white","border","border-gray-700","rounded-lg",3,"ngModelChange","input","ngModel"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Inventario"),r(),i(5,"div",4)(6,"button",5),m("click",function(){return o.abrirModalRegistroProducto()}),_(7,"i",6),a(8," Nuevo Producto "),r(),i(9,"button",7),m("click",function(){return o.mostrarModalCategorias=!0}),_(10,"i",8),a(11," Categor\xEDas "),r()()(),i(12,"div",9)(13,"div",10)(14,"div",11)(15,"input",12),f("ngModelChange",function(n){return x(o.searchTerm,n)||(o.searchTerm=n),n}),m("input",function(){return o.applyFilter()}),r(),_(16,"i",13),r(),i(17,"select",14),f("ngModelChange",function(n){return x(o.selectedCategory,n)||(o.selectedCategory=n),n}),m("change",function(){return o.applyFilter()}),i(18,"option",15),a(19,"Todas las categor\xEDas"),r(),v(20,ue,2,2,"option",16),r()()(),i(21,"div",17)(22,"table",18)(23,"thead",19)(24,"tr"),v(25,ge,2,1,"th",20),_(26,"th",21),r()(),i(27,"tbody",22),v(28,me,19,13,"tr",23),r()()(),i(29,"div",24)(30,"button",25),m("click",function(){return o.cambiarPagina(-1)}),i(31,"span",26),S(),i(32,"svg",27),_(33,"path",28),r()()(),I(),i(34,"div",29),a(35),r(),i(36,"button",25),m("click",function(){return o.cambiarPagina(1)}),i(37,"span",26),S(),i(38,"svg",27),_(39,"path",30),r()()()()()(),v(40,_e,30,5,"div",31)(41,xe,25,3,"div",32)(42,fe,22,2,"div",31)(43,Se,71,22,"div",33)(44,Ie,55,9,"div",33)),e&2&&(d(15),b("ngModel",o.searchTerm),d(2),b("ngModel",o.selectedCategory),d(3),p("ngForOf",o.categories),d(5),p("ngForOf",o.columns),d(3),p("ngForOf",o.paginatedProducts()),d(2),p("disabled",o.currentPage===1),d(5),M(" ",o.currentPage," de ",o.totalPages()," "),d(),p("disabled",o.currentPage*o.itemsPerPage>=o.products.length),d(4),p("ngIf",o.mostrarModalCategorias),d(),p("ngIf",o.mostrarModalAgregarCategoria),d(),p("ngIf",o.mostrarModalEditarCategoria),d(),p("ngIf",o.mostrarModalRegistroProducto),d(),p("ngIf",o.mostrarModalEditar))},dependencies:[K,O,z,D,q,ne,Z,te,ie,H,$,ee,J,Q,oe,re,Y,X],styles:[".tabla-encabezado[_ngcontent-%COMP%]{background-color:#1f1f1f;color:#fff}"]})};export{V as default};
